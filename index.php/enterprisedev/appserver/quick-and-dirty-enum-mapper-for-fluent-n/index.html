<!DOCTYPE html>
<html lang="en-US">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
		<link rel="shortcut icon" href="http://lessthandot.com/favicon.ico" type="image/vnd.microsoft.icon" />
	<title>Less Than Dot - Blog -   Quick and Dirty Enum Mapper for Fluent NHibernate</title>
	<meta prefix="og: http://ogp.me/ns#" property="og:title" content="Less Than Dot - Blog -   Quick and Dirty Enum Mapper for Fluent NHibernate" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:url" content="/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/" />
		<meta prefix="og: http://ogp.me/ns#" property="og:image" content="http://lessthandot.com/images/logo_prod.png" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="LessThanDot" />
	<meta prefix="og: http://ogp.me/ns#" property="og:description" content="I ran into a funny issue recently using Fluent NHibernate.  Saw that it was storing enums as Strings in the database, or more accurately storing them as MySQL's Enum Data Type.  I would prefer to store them as integers so that behavior is the same as ot&hellip;" />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/index.php/feed/" />
	<link rel="alternate" type="application/atom+xml" title="Atom" href="/index.php/feed/atom/" />

	<!-- this page is the canonical URL -->	
	<link rel="stylesheet" href="/wp-content/themes/lessthandot2009/style.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsite.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsiteprint.css" media="print" type="text/css" />

	<link rel='dns-prefetch' href='//ajax.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="LessthanDot &raquo; Quick and Dirty Enum Mapper for Fluent NHibernate Comments Feed" href="/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.1"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='bwp-syntax-css'  href='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/css/bwp-syntax-global.css?ver=4.6.1' type='text/css' media='all' />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/js/bwp-syntax.js?ver=4.6.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Decimal and Numeric problems when you don&#8217;t specify precision and scale' href='/index.php/datamgmt/datadesign/decimal-and-numeric-problems-when-you-do/' />
<link rel='next' title='Interview With Rod Colledge About The Book SQL Server 2008 Administration in Action' href='/index.php/datamgmt/datadesign/interview-with-rod-colledge-about-the-bo/' />
<meta name="generator" content="WordPress 4.6.1" />
<link rel="canonical" href="/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/" />
<link rel='shortlink' href='/?p=582' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fenterprisedev%2Fappserver%2Fquick-and-dirty-enum-mapper-for-fluent-n%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fenterprisedev%2Fappserver%2Fquick-and-dirty-enum-mapper-for-fluent-n%2F&#038;format=xml" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
	<script src="http://lessthandot.com/includes/allsite.js" type="text/javascript" ></script>
</head>
<body>
<div id="contain"><div id="subcontain"><div id="ttl"><div id="hdr"><div id="snav"><a href="http://lessthandot.com/login.php?backtrack=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/?">Member Login</a>
</div><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="logoc"><img src="http://lessthandot.com/images/logo_prod.png" alt="LessThanDot Site Logo" border="0" /></a><h1>LessThanDot</h1><div class="pgsttl">A decade of helpful technical content</div></div><div id="nav">
<ul>
<li><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="h" ><span>Launchpad</span></a></li>
<li class="cur"><a href="/" title="LessThanDot Blogs" id="b" ><span>Blogs</span></a></li>
<li><a href="http://forum.lessthandot.com/" title="LessThanDot Community Forums" id="f" ><span>Forum</span></a></li>
<li><a href="http://wiki.lessthandot.com/" title="LessThanDot Wiki Articles" id="w" ><span>Wiki</span></a></li>
<li><a href="http://sqlcop.lessthandot.com/" title="LessThanDot SQLCop" id="a" ><span>SQLCop</span></a></li>
<li><a href="http://lessthandot.com/account.php" title="Your Account Settings" id="r"  class="l_ie"><span>My Account</span></a></li></ul></div>
</div><div id="content">
<div id="fac"><div id="fa">
		<p>Less Than Dot is a community of passionate IT professionals and enthusiasts dedicated to sharing technical knowledge, experience, and assistance. Inside you will find reference materials, interesting technical discussions, and expert tips and commentary.</p></div></div><div class="content-sidebar">
	<div id="social" class="sdsec">
		<h2>LTD Social Sitings</h2>
		<div>
		<a id="social_twitter" href="http://twitter.com/LessThanDot/" title="Follow us on Twitter" ><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Lessthandot twitter"/></a> 
		<a href="http://www.linkedin.com/groups?home=&amp;gid=113440" title="Join us on LinkedIn" ><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="Lessthandot Linkedin" /></a> 
		<a href="http://www.facebook.com/group.php?gid=19330511063" title="Join us on Facebook" ><img src="http://lessthandot.com/images/bdg_facebook.png" alt="Lessthandot facebook"/></a> 
		<a href="http://lessthandot.com/rss.php" title="LessThanDot News Feed" ><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="Lessthandot rss"/></a> 
		</div>
		<p><em>Note: Watch for social icons on posts by your favorite authors to follow their postings on these and other social sites.</em></p>
	</div><div class="content-sidebar-section">
<h2>Tag cloud</h2>
	<p class="tag-cloud">
		<a href='/index.php/tag/net/' class='tag-link-245 tag-link-position-1' title='21 topics' style='font-size: 8.9565217391304pt;'>.net</a> <a href='/index.php/tag/asp-net/' class='tag-link-168 tag-link-position-2' title='21 topics' style='font-size: 8.9565217391304pt;'>asp.net</a> <a href='/index.php/tag/azure-2/' class='tag-link-321 tag-link-position-3' title='29 topics' style='font-size: 10.173913043478pt;'>azure</a> <a href='/index.php/tag/book/' class='tag-link-130 tag-link-position-4' title='26 topics' style='font-size: 9.7391304347826pt;'>book</a> <a href='/index.php/tag/business-intelligence-2/' class='tag-link-256 tag-link-position-5' title='30 topics' style='font-size: 10.260869565217pt;'>business intelligence</a> <a href='/index.php/tag/c/' class='tag-link-138 tag-link-position-6' title='40 topics' style='font-size: 11.304347826087pt;'>c#</a> <a href='/index.php/tag/database/' class='tag-link-134 tag-link-position-7' title='31 topics' style='font-size: 10.434782608696pt;'>database</a> <a href='/index.php/tag/excel/' class='tag-link-155 tag-link-position-8' title='16 topics' style='font-size: 8pt;'>excel</a> <a href='/index.php/tag/gotcha/' class='tag-link-240 tag-link-position-9' title='19 topics' style='font-size: 8.6086956521739pt;'>gotcha</a> <a href='/index.php/tag/how-to/' class='tag-link-272 tag-link-position-10' title='44 topics' style='font-size: 11.652173913043pt;'>how to</a> <a href='/index.php/tag/mongodb/' class='tag-link-765 tag-link-position-11' title='17 topics' style='font-size: 8.2608695652174pt;'>mongodb</a> <a href='/index.php/tag/nosql/' class='tag-link-775 tag-link-position-12' title='18 topics' style='font-size: 8.4347826086957pt;'>nosql</a> <a href='/index.php/tag/performance/' class='tag-link-179 tag-link-position-13' title='26 topics' style='font-size: 9.7391304347826pt;'>performance</a> <a href='/index.php/tag/security-2/' class='tag-link-398 tag-link-position-14' title='25 topics' style='font-size: 9.5652173913043pt;'>security</a> <a href='/index.php/tag/sql/' class='tag-link-132 tag-link-position-15' title='42 topics' style='font-size: 11.478260869565pt;'>sql</a> <a href='/index.php/tag/sql-advent-2012/' class='tag-link-1416 tag-link-position-16' title='18 topics' style='font-size: 8.4347826086957pt;'>sql advent 2012</a> <a href='/index.php/tag/sql-friday/' class='tag-link-377 tag-link-position-17' title='18 topics' style='font-size: 8.4347826086957pt;'>sql friday</a> <a href='/index.php/tag/sql-server/' class='tag-link-154 tag-link-position-18' title='145 topics' style='font-size: 16.086956521739pt;'>sql server</a> <a href='/index.php/tag/sql-server-2000/' class='tag-link-366 tag-link-position-19' title='45 topics' style='font-size: 11.739130434783pt;'>sql server 2000</a> <a href='/index.php/tag/sql-server-2005/' class='tag-link-327 tag-link-position-20' title='118 topics' style='font-size: 15.391304347826pt;'>sql server 2005</a> <a href='/index.php/tag/sql-server-2008/' class='tag-link-152 tag-link-position-21' title='237 topics' style='font-size: 18pt;'>sql server 2008</a> <a href='/index.php/tag/sql-server-2008-r2/' class='tag-link-548 tag-link-position-22' title='38 topics' style='font-size: 11.130434782609pt;'>sql server 2008 r2</a> <a href='/index.php/tag/sql-server-2012/' class='tag-link-1161 tag-link-position-23' title='76 topics' style='font-size: 13.739130434783pt;'>sql server 2012</a> <a href='/index.php/tag/ssis-2/' class='tag-link-501 tag-link-position-24' title='52 topics' style='font-size: 12.260869565217pt;'>ssis</a> <a href='/index.php/tag/ssms/' class='tag-link-640 tag-link-position-25' title='18 topics' style='font-size: 8.4347826086957pt;'>ssms</a> <a href='/index.php/tag/ssrs-2/' class='tag-link-557 tag-link-position-26' title='27 topics' style='font-size: 9.9130434782609pt;'>ssrs</a> <a href='/index.php/tag/syndicated/' class='tag-link-1407 tag-link-position-27' title='67 topics' style='font-size: 13.217391304348pt;'>syndicated</a> <a href='/index.php/tag/t-sql/' class='tag-link-185 tag-link-position-28' title='26 topics' style='font-size: 9.7391304347826pt;'>t-sql</a> <a href='/index.php/tag/tip/' class='tag-link-194 tag-link-position-29' title='46 topics' style='font-size: 11.826086956522pt;'>tip</a> <a href='/index.php/tag/unit-testing/' class='tag-link-162 tag-link-position-30' title='17 topics' style='font-size: 8.2608695652174pt;'>unit testing</a>	</p>
</div>		<div class="content-sidebar-section">
		<h2>Authors</h2>
			<ul class="author-list dimmed">
				<li><a href="/index.php/author/SQLDenis/" title="Posts by SQLDenis">SQLDenis</a> <a href="/index.php/author/SQLDenis/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (597)</li><li><a href="/index.php/author/onpnt/" title="Posts by Ted Krueger (onpnt)">Ted Krueger (onpnt)</a> <a href="/index.php/author/onpnt/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (355)</li><li><a href="/index.php/author/grrlgeek/" title="Posts by Jes Borland">Jes Borland</a> <a href="/index.php/author/grrlgeek/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (202)</li><li><a href="/index.php/author/tarwn/" title="Posts by Eli Weinstock-Herman (tarwn)">Eli Weinstock-Herman (tarwn)</a> <a href="/index.php/author/tarwn/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (190)</li><li><a href="/index.php/author/koenverbeeck/" title="Posts by Koen Verbeeck">Koen Verbeeck</a> <a href="/index.php/author/koenverbeeck/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (100)</li><li><a href="/index.php/author/alexcuse/" title="Posts by Alex Ullrich">Alex Ullrich</a> <a href="/index.php/author/alexcuse/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (55)</li><li><a href="/index.php/author/gmmastros/" title="Posts by George Mastros (gmmastros)">George Mastros (gmmastros)</a> <a href="/index.php/author/gmmastros/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (45)</li><li><a href="/index.php/author/axel8s/" title="Posts by Axel Achten (axel8s)">Axel Achten (axel8s)</a> <a href="/index.php/author/axel8s/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (28)</li><li><a href="/index.php/author/naomi/" title="Posts by Naomi Nosonovsky">Naomi Nosonovsky</a> <a href="/index.php/author/naomi/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (27)</li><li><a href="/index.php/author/thirster42/" title="Posts by David Forck (thirster42)">David Forck (thirster42)</a> <a href="/index.php/author/thirster42/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (24)</li><li><a href="/index.php/author/chopstik/" title="Posts by chopstik">chopstik</a> <a href="/index.php/author/chopstik/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (20)</li><li><a href="/index.php/author/kconan/" title="Posts by Kevin Conan">Kevin Conan</a> <a href="/index.php/author/kconan/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (18)</li><li><a href="/index.php/author/robearl/" title="Posts by Rob Earl">Rob Earl</a> <a href="/index.php/author/robearl/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (14)</li><li><a href="/index.php/author/thatrickguy/" title="Posts by ThatRickGuy">ThatRickGuy</a> <a href="/index.php/author/thatrickguy/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (12)</li><li><a href="/index.php/author/sqlarcher/" title="Posts by SQLArcher">SQLArcher</a> <a href="/index.php/author/sqlarcher/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (11)</li>                <li><a href="http://lessthandot.com/Stats/BlogAuthors.php">More...</a></li>
			</ul>
		</div>
				<div class="content-sidebar-section">
		<h2>Categories</h2>
			<ul class="categories-list">
					<li class="cat-item cat-item-10"><a href="/index.php/category/all/" >All Blogs</a>
</li>
	<li class="cat-item cat-item-5"><a href="/index.php/category/architect/" >Architecture, Design and Strategy</a>
</li>
	<li class="cat-item cat-item-1759"><a href="/index.php/category/artificial-intelligence/" >Artificial Intelligence</a>
</li>
	<li class="cat-item cat-item-6"><a href="/index.php/category/datamgmt/" >Data Management</a>
</li>
	<li class="cat-item cat-item-7"><a href="/index.php/category/desktopdev/" >Desktop Developer</a>
</li>
	<li class="cat-item cat-item-8"><a href="/index.php/category/enterprisedev/" >Enterprise Developer</a>
</li>
	<li class="cat-item cat-item-11"><a href="/index.php/category/itprofessionals/" >IT Professionals</a>
</li>
	<li class="cat-item cat-item-12"><a href="/index.php/category/itstudents/" >IT Students and Researchers</a>
</li>
	<li class="cat-item cat-item-1743"><a href="/index.php/category/management/" >Management</a>
</li>
	<li class="cat-item cat-item-9"><a href="/index.php/category/sysadmins/" >System Admins</a>
</li>
	<li class="cat-item cat-item-1"><a href="/index.php/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-4"><a href="/index.php/category/webdev/" >Web Developer</a>
</li>
			</ul>
		</div>
		</div><div class="content-main">
				<div class="post-navigation">
				<div class="post-navigation-forward"><a href="/index.php/datamgmt/datadesign/interview-with-rod-colledge-about-the-bo/" rel="next">Interview With Rod Colledge About The Book SQL Server 2008 Administration in Action</a> &raquo; </div>
				<div class="post-navigation-back">&laquo; <a href="/index.php/datamgmt/datadesign/decimal-and-numeric-problems-when-you-do/" rel="prev">Decimal and Numeric problems when you don&#8217;t specify precision and scale</a></div>
			</div>
			<div class="post-area instapaper_body">
				<div class="post-title-line">
										<h1 class="instapaper_ignore"><a href="/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/" class="post-title">Quick and Dirty Enum Mapper for Fluent NHibernate</a></h1>
					<div class="post-byline">by <a href="/index.php/author/alexcuse/" title="Posts by Alex Ullrich" rel="author">Alex Ullrich</a> on October 9, 2009 in category <a href="/index.php/category/enterprisedev/appserver/" rel="category tag">Application Server</a> <a href="/index.php/category/enterprisedev/orm/nhibernate/" rel="category tag">nHibernate (.Net)</a>. Article views: 20,874 </div>
				</div>
				<div class="post-tagline"><a href="https://twitter.com/intent/tweet?url=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/&text=RT @LessThanDot Blog - Quick and Dirty Enum Mapper for Fluent NHibernate by @AlexCuse" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/&title=Quick and Dirty Enum Mapper for Fluent NHibernate&source=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/&title=Quick and Dirty Enum Mapper for Fluent NHibernate" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/&quote=Quick and Dirty Enum Mapper for Fluent NHibernate" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/&title=Quick and Dirty Enum Mapper for Fluent NHibernate" class="instapaper_button">Instapaper</a></div>

				<div class="post-content"><p>I ran into a funny issue recently using Fluent NHibernate.  Saw that it was storing enums as Strings in the database, or more accurately storing them as MySQL&#8217;s <a href="http://dev.mysql.com/doc/refman/5.0/en/enum.html">Enum Data Type</a>.  I would prefer to store them as integers so that behavior is the same as other databases, and refactoring gets easier.  Hacking around in Fluent NHibernate I found the following:</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="csharp"><thead><tr><td colspan="2"  class="head">C#</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
</pre></td><td class="de1"><pre class="de1">Map<span class="br0">&#40;</span>x <span class="sy0">=&gt;</span> x<span class="sy0">.</span><span class="me1">Property</span><span class="br0">&#41;</span><span class="sy0">.</span><span class="me1">CustomType</span><span class="sy0">&lt;</span>SomeType<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">Map(x =&gt; x.Property).CustomType&lt;SomeType&gt;();</pre></div></div>

<p>It had a slightly different name in the previous versions (I think it was CustomTypeIs), not sure if the same thing happened there (I did not notice it until using the latest).  Anyway I was mapping my properties like shown above, and it seemed all was well.  Until I noticed a strange thing in the SQL written to the output window.  What I was expecting to see was a single select statement for the primary entity, and another three select statements to fill a couple of collections contained in the object.  I saw these, and one unwelcome guest.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="sql"><thead><tr><td colspan="2"  class="head">SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
</pre></td><td class="de1"><pre class="de1">NHibernate: <span class="kw1">SELECT</span> this_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>AttemptDate <span class="kw1">AS</span> AttemptD2_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>BatchSize <span class="kw1">AS</span> BatchSize12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>ConditioningTimeDays <span class="kw1">AS</span> Conditio4_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>TotalBoilTimeMinutes <span class="kw1">AS</span> TotalBoi5_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Family <span class="kw1">AS</span> Family12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>FermentationTemperature <span class="kw1">AS</span> Fermenta7_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>FermentationTimeDays <span class="kw1">AS</span> Fermenta8_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>FinalGravity <span class="kw1">AS</span> FinalGra9_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Name <span class="kw1">AS</span> Name12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>OriginalGravity <span class="kw1">AS</span> Origina12_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>SecondaryFermentationTimeDays <span class="kw1">AS</span> Seconda13_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span><span class="kw1">STYLE</span> <span class="kw1">AS</span> Style12_6_<span class="sy0">,</span> this_<span class="sy0">.</span><span class="kw1">TYPE</span> <span class="kw1">AS</span> Type12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Brewer_id <span class="kw1">AS</span> Brewer16_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Filter_id <span class="kw1">AS</span> Filter17_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Lauter_id <span class="kw1">AS</span> Lauter18_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Mash_id <span class="kw1">AS</span> Mash19_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>YeastUsed_id <span class="kw1">AS</span> YeastUsed20_12_6_<span class="sy0">,</span> person2_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span>About <span class="kw1">AS</span> About9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span>Location <span class="kw1">AS</span> Location9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span>DateOfBirth <span class="kw1">AS</span> DateOfBi4_9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span>Email <span class="kw1">AS</span> Email9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span>UserName <span class="kw1">AS</span> UserName9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span><span class="kw1">TYPE</span> <span class="kw1">AS</span> Type9_0_<span class="sy0">,</span> filter3_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id2_1_<span class="sy0">,</span> filter3_<span class="sy0">.</span><span class="kw1">TYPE</span> <span class="kw1">AS</span> Type2_1_<span class="sy0">,</span> filter3_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note2_1_<span class="sy0">,</span> lauter4_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id6_2_<span class="sy0">,</span> lauter4_<span class="sy0">.</span>SpargeType <span class="kw1">AS</span> SpargeType6_2_<span class="sy0">,</span> lauter4_<span class="sy0">.</span>Volume <span class="kw1">AS</span> Volume6_2_<span class="sy0">,</span> lauter4_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note6_2_<span class="sy0">,</span> mash5_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id16_3_<span class="sy0">,</span> mash5_<span class="sy0">.</span>MashInTemp <span class="kw1">AS</span> MashInTemp16_3_<span class="sy0">,</span> mash5_<span class="sy0">.</span>MashOutTemp <span class="kw1">AS</span> MashOutT3_16_3_<span class="sy0">,</span> mash5_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note16_3_<span class="sy0">,</span> mash5_<span class="sy0">.</span>Volume <span class="kw1">AS</span> Volume16_3_<span class="sy0">,</span> yeastuse6_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id15_4_<span class="sy0">,</span> yeastuse6_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note15_4_<span class="sy0">,</span> yeastuse6_<span class="sy0">.</span>StarterTime <span class="kw1">AS</span> StarterT3_15_4_<span class="sy0">,</span> yeastuse6_<span class="sy0">.</span>StarterUsed <span class="kw1">AS</span> StarterU4_15_4_<span class="sy0">,</span> yeastuse6_<span class="sy0">.</span>YeastUsed_id <span class="kw1">AS</span> YeastUsed5_15_4_<span class="sy0">,</span> yeast7_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id14_5_<span class="sy0">,</span> yeast7_<span class="sy0">.</span>Brand <span class="kw1">AS</span> Brand14_5_<span class="sy0">,</span> yeast7_<span class="sy0">.</span>Description <span class="kw1">AS</span> Descript3_14_5_<span class="sy0">,</span> yeast7_<span class="sy0">.</span>Strain <span class="kw1">AS</span> Strain14_5_<span class="sy0">,</span> yeast7_<span class="sy0">.</span><span class="kw1">STYLE</span> <span class="kw1">AS</span> Style14_5_ <span class="kw1">FROM</span> <span class="st0">`Recipe`</span> this_ <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Person`</span> person2_ <span class="kw1">ON</span> this_<span class="sy0">.</span>Brewer_id<span class="sy0">=</span>person2_<span class="sy0">.</span>Id <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Filter`</span> filter3_ <span class="kw1">ON</span> this_<span class="sy0">.</span>Filter_id<span class="sy0">=</span>filter3_<span class="sy0">.</span>Id <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Lauter`</span> lauter4_ <span class="kw1">ON</span> this_<span class="sy0">.</span>Lauter_id<span class="sy0">=</span>lauter4_<span class="sy0">.</span>Id <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Mash`</span> mash5_ <span class="kw1">ON</span> this_<span class="sy0">.</span>Mash_id<span class="sy0">=</span>mash5_<span class="sy0">.</span>Id <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`YeastUse`</span> yeastuse6_ <span class="kw1">ON</span> this_<span class="sy0">.</span>YeastUsed_id<span class="sy0">=</span>yeastuse6_<span class="sy0">.</span>Id <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Yeast`</span> yeast7_ <span class="kw1">ON</span> yeastuse6_<span class="sy0">.</span>YeastUsed_id<span class="sy0">=</span>yeast7_<span class="sy0">.</span>Id
NHibernate: <span class="kw1">SELECT</span> maltsused0_<span class="sy0">.</span>Recipe_id <span class="kw1">AS</span> Recipe8_1_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id1_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>AddTime <span class="kw1">AS</span> AddTime8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>BoilTime <span class="kw1">AS</span> BoilTime8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>Quantity <span class="kw1">AS</span> Quantity8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>WhenUsed <span class="kw1">AS</span> WhenUsed8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>MaltUsed_id <span class="kw1">AS</span> MaltUsed7_8_0_ <span class="kw1">FROM</span> <span class="st0">`MaltUse`</span> maltsused0_ <span class="kw1">WHERE</span> maltsused0_<span class="sy0">.</span>Recipe_id<span class="sy0">=</span>?p0;?p0 <span class="sy0">=</span> <span class="nu0">1</span>
NHibernate: <span class="kw1">SELECT</span> hopsused0_<span class="sy0">.</span>Recipe_id <span class="kw1">AS</span> Recipe9_1_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id1_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>AddTime <span class="kw1">AS</span> AddTime4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>BoilTime <span class="kw1">AS</span> BoilTime4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>HopIngredientType <span class="kw1">AS</span> HopIngre4_4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>Quantity <span class="kw1">AS</span> Quantity4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>WhenUsed <span class="kw1">AS</span> WhenUsed4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>HopUsed_id <span class="kw1">AS</span> HopUsed8_4_0_ <span class="kw1">FROM</span> <span class="st0">`HopUse`</span> hopsused0_ <span class="kw1">WHERE</span> hopsused0_<span class="sy0">.</span>Recipe_id<span class="sy0">=</span>?p0;?p0 <span class="sy0">=</span> <span class="nu0">1</span>
NHibernate: <span class="kw1">SELECT</span> additionsu0_<span class="sy0">.</span>Recipe_id <span class="kw1">AS</span> Recipe8_2_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id2_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>AddTime <span class="kw1">AS</span> AddTime1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>BoilTime <span class="kw1">AS</span> BoilTime1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>Quantity <span class="kw1">AS</span> Quantity1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>WhenUsed <span class="kw1">AS</span> WhenUsed1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>AdditionUsed_id <span class="kw1">AS</span> Addition7_1_1_<span class="sy0">,</span> addition1_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id0_0_<span class="sy0">,</span> addition1_<span class="sy0">.</span>Brand <span class="kw1">AS</span> Brand0_0_<span class="sy0">,</span> addition1_<span class="sy0">.</span>Description <span class="kw1">AS</span> Descript3_0_0_<span class="sy0">,</span> addition1_<span class="sy0">.</span>Name <span class="kw1">AS</span> Name0_0_ <span class="kw1">FROM</span> <span class="st0">`AdditionUse`</span> additionsu0_ <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Addition`</span> addition1_ <span class="kw1">ON</span> additionsu0_<span class="sy0">.</span>AdditionUsed_id<span class="sy0">=</span>addition1_<span class="sy0">.</span>Id <span class="kw1">WHERE</span> additionsu0_<span class="sy0">.</span>Recipe_id<span class="sy0">=</span>?p0;?p0 <span class="sy0">=</span> <span class="nu0">1</span>
NHibernate: <span class="kw1">UPDATE</span> <span class="st0">`HopUse`</span> <span class="kw1">SET</span> AddTime <span class="sy0">=</span> ?p0<span class="sy0">,</span> BoilTime <span class="sy0">=</span> ?p1<span class="sy0">,</span> HopIngredientType <span class="sy0">=</span> ?p2<span class="sy0">,</span> Note <span class="sy0">=</span> ?p3<span class="sy0">,</span> Quantity <span class="sy0">=</span> ?p4<span class="sy0">,</span> WhenUsed <span class="sy0">=</span> ?p5<span class="sy0">,</span> HopUsed_id <span class="sy0">=</span> ?p6 <span class="kw1">WHERE</span> Id <span class="sy0">=</span> ?p7;?p0 <span class="sy0">=</span> <span class="nu0">15</span><span class="sy0">,</span> ?p1 <span class="sy0">=</span> <span class="nu0">45</span><span class="sy0">,</span> ?p2 <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">,</span> ?p3 <span class="sy0">=</span> <span class="st0">'note'</span><span class="sy0">,</span> ?p4 <span class="sy0">=</span> <span class="nu0">56.6990462</span><span class="sy0">,</span> ?p5 <span class="sy0">=</span> <span class="nu0">3</span><span class="sy0">,</span> ?p6 <span class="sy0">=</span> <span class="kw1">NULL</span><span class="sy0">,</span> ?p7 <span class="sy0">=</span> <span class="nu0">2</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">NHibernate: SELECT this_.Id AS Id12_6_, this_.AttemptDate AS AttemptD2_12_6_, this_.BatchSize AS BatchSize12_6_, this_.ConditioningTimeDays AS Conditio4_12_6_, this_.TotalBoilTimeMinutes AS TotalBoi5_12_6_, this_.Family AS Family12_6_, this_.FermentationTemperature AS Fermenta7_12_6_, this_.FermentationTimeDays AS Fermenta8_12_6_, this_.FinalGravity AS FinalGra9_12_6_, this_.Name AS Name12_6_, this_.Note AS Note12_6_, this_.OriginalGravity AS Origina12_12_6_, this_.SecondaryFermentationTimeDays AS Seconda13_12_6_, this_.Style AS Style12_6_, this_.Type AS Type12_6_, this_.Brewer_id AS Brewer16_12_6_, this_.Filter_id AS Filter17_12_6_, this_.Lauter_id AS Lauter18_12_6_, this_.Mash_id AS Mash19_12_6_, this_.YeastUsed_id AS YeastUsed20_12_6_, person2_.Id AS Id9_0_, person2_.About AS About9_0_, person2_.Location AS Location9_0_, person2_.DateOfBirth AS DateOfBi4_9_0_, person2_.Email AS Email9_0_, person2_.UserName AS UserName9_0_, person2_.Type AS Type9_0_, filter3_.Id AS Id2_1_, filter3_.Type AS Type2_1_, filter3_.Note AS Note2_1_, lauter4_.Id AS Id6_2_, lauter4_.SpargeType AS SpargeType6_2_, lauter4_.Volume AS Volume6_2_, lauter4_.Note AS Note6_2_, mash5_.Id AS Id16_3_, mash5_.MashInTemp AS MashInTemp16_3_, mash5_.MashOutTemp AS MashOutT3_16_3_, mash5_.Note AS Note16_3_, mash5_.Volume AS Volume16_3_, yeastuse6_.Id AS Id15_4_, yeastuse6_.Note AS Note15_4_, yeastuse6_.StarterTime AS StarterT3_15_4_, yeastuse6_.StarterUsed AS StarterU4_15_4_, yeastuse6_.YeastUsed_id AS YeastUsed5_15_4_, yeast7_.Id AS Id14_5_, yeast7_.Brand AS Brand14_5_, yeast7_.Description AS Descript3_14_5_, yeast7_.Strain AS Strain14_5_, yeast7_.Style AS Style14_5_ FROM `Recipe` this_ LEFT OUTER JOIN `Person` person2_ ON this_.Brewer_id=person2_.Id LEFT OUTER JOIN `Filter` filter3_ ON this_.Filter_id=filter3_.Id LEFT OUTER JOIN `Lauter` lauter4_ ON this_.Lauter_id=lauter4_.Id LEFT OUTER JOIN `Mash` mash5_ ON this_.Mash_id=mash5_.Id LEFT OUTER JOIN `YeastUse` yeastuse6_ ON this_.YeastUsed_id=yeastuse6_.Id LEFT OUTER JOIN `Yeast` yeast7_ ON yeastuse6_.YeastUsed_id=yeast7_.Id
NHibernate: SELECT maltsused0_.Recipe_id as Recipe8_1_, maltsused0_.Id as Id1_, maltsused0_.Id as Id8_0_, maltsused0_.AddTime as AddTime8_0_, maltsused0_.BoilTime as BoilTime8_0_, maltsused0_.Note as Note8_0_, maltsused0_.Quantity as Quantity8_0_, maltsused0_.WhenUsed as WhenUsed8_0_, maltsused0_.MaltUsed_id as MaltUsed7_8_0_ FROM `MaltUse` maltsused0_ WHERE maltsused0_.Recipe_id=?p0;?p0 = 1
NHibernate: SELECT hopsused0_.Recipe_id as Recipe9_1_, hopsused0_.Id as Id1_, hopsused0_.Id as Id4_0_, hopsused0_.AddTime as AddTime4_0_, hopsused0_.BoilTime as BoilTime4_0_, hopsused0_.HopIngredientType as HopIngre4_4_0_, hopsused0_.Note as Note4_0_, hopsused0_.Quantity as Quantity4_0_, hopsused0_.WhenUsed as WhenUsed4_0_, hopsused0_.HopUsed_id as HopUsed8_4_0_ FROM `HopUse` hopsused0_ WHERE hopsused0_.Recipe_id=?p0;?p0 = 1
NHibernate: SELECT additionsu0_.Recipe_id as Recipe8_2_, additionsu0_.Id as Id2_, additionsu0_.Id as Id1_1_, additionsu0_.AddTime as AddTime1_1_, additionsu0_.BoilTime as BoilTime1_1_, additionsu0_.Note as Note1_1_, additionsu0_.Quantity as Quantity1_1_, additionsu0_.WhenUsed as WhenUsed1_1_, additionsu0_.AdditionUsed_id as Addition7_1_1_, addition1_.Id as Id0_0_, addition1_.Brand as Brand0_0_, addition1_.Description as Descript3_0_0_, addition1_.Name as Name0_0_ FROM `AdditionUse` additionsu0_ left outer join `Addition` addition1_ on additionsu0_.AdditionUsed_id=addition1_.Id WHERE additionsu0_.Recipe_id=?p0;?p0 = 1
NHibernate: UPDATE `HopUse` SET AddTime = ?p0, BoilTime = ?p1, HopIngredientType = ?p2, Note = ?p3, Quantity = ?p4, WhenUsed = ?p5, HopUsed_id = ?p6 WHERE Id = ?p7;?p0 = 15, ?p1 = 45, ?p2 = 0, ?p3 = 'note', ?p4 = 56.6990462, ?p5 = 3, ?p6 = NULL, ?p7 = 2</pre></div></div>

<p>Now, what the heck is that update doing there?  A quick googling showed that it is a common problem associated with flushing the session.  The test method shown even has a killer name: <a href="http://nhforge.org/blogs/nhibernate/archive/2008/10/20/how-test-your-mappings-the-ghostbuster.aspx">The Ghostbuster</a>.  In a nutshell it means that if something needs to be done behind the scenes that &#8220;changes&#8221; a property on your object (like converting an integer to an enum) the object is marked as dirty and when the session is flushed it will need to be updated.  You can see how this would get expensive!</p>
<p>That&#8217;s all well and good, but how to fix it?  The first thing that came to mind was a mapping convention for enums.  But I ran into another problem there &#8211; the examples I saw for setting up conventions used the IProperty class, <a href="http://stackoverflow.com/questions/729456/argument-type-fluentnhibernate-mapping-iproperty-is-not-cls-compliant">which is not cls-compliant</a>.  I&#8217;m running on Mono, so this was not an option for me.  Going back to the drawing board, I remembered the IUserType from &#8220;old school&#8221; NHibernate (<a href="http://www.lostechies.com/blogs/rhouston/archive/2008/03/23/mapping-strings-to-booleans-using-nhibernate-s-iusertype.aspx">ably explained here</a>).</p>
<p>I didn&#8217;t want to have to do this for every enum in the application &#8211; something I could use more widely was in order.  Unable to find any examples (could be weak google-fu) I decided to try my own.  I ended up with a generic class called &#8220;EnumMapper&#8221; implementing the IUserType interface, that looks awfully similar to Ray Houston&#8217;s example cited above.  It isn&#8217;t perfect (I think I might be able to go back and clean it up some) but its not too awful I don&#8217;t think.  It might just be getting too late for me, but I couldn&#8217;t think of a good way to limit it to enums.  Anyway, it does its job as long as I don&#8217;t give it a bad parameter.  Here it is in all its ugliness:</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="csharp"><thead><tr><td colspan="2"  class="head">C#</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
</pre></td><td class="de1"><pre class="de1"><span class="kw1">public</span> <span class="kw4">class</span> EnumMapper<span class="sy0">&lt;</span>T<span class="sy0">&gt;</span> <span class="sy0">:</span> IUserType
<span class="br0">&#123;</span>
&nbsp; &nbsp; <span class="kw1">public</span> Boolean IsMutable <span class="br0">&#123;</span> <span class="kw1">get</span> <span class="br0">&#123;</span> <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span> <span class="br0">&#125;</span> <span class="br0">&#125;</span>
&nbsp; &nbsp; <span class="kw1">public</span> Type ReturnedType <span class="br0">&#123;</span> <span class="kw1">get</span> <span class="br0">&#123;</span> <span class="kw1">return</span> <span class="kw3">typeof</span><span class="br0">&#40;</span>T<span class="br0">&#41;</span><span class="sy0">;</span> <span class="br0">&#125;</span> <span class="br0">&#125;</span>
&nbsp; &nbsp; <span class="kw1">public</span> SqlType<span class="br0">&#91;</span><span class="br0">&#93;</span> SqlTypes <span class="br0">&#123;</span> <span class="kw1">get</span> <span class="br0">&#123;</span> <span class="kw1">return</span> <span class="kw3">new</span><span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="br0">&#123;</span> SqlTypeFactory<span class="sy0">.</span><span class="me1">Int16</span> <span class="br0">&#125;</span><span class="sy0">;</span> <span class="br0">&#125;</span> <span class="br0">&#125;</span>
&nbsp;
&nbsp; &nbsp; <span class="kw1">public</span> <span class="kw4">object</span> NullSafeGet<span class="br0">&#40;</span>IDataReader rs, <span class="kw4">string</span><span class="br0">&#91;</span><span class="br0">&#93;</span> names, <span class="kw4">object</span> owner<span class="br0">&#41;</span>
&nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">var</span> tmp <span class="sy0">=</span> NHibernateUtil<span class="sy0">.</span><span class="me1">Int32</span><span class="sy0">.</span><span class="me1">NullSafeGet</span><span class="br0">&#40;</span>rs, names<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">.</span><span class="me1">ToString</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="kw4">Enum</span><span class="sy0">.</span><span class="me1">Parse</span><span class="br0">&#40;</span><span class="kw3">typeof</span><span class="br0">&#40;</span>T<span class="br0">&#41;</span>, tmp<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp; &nbsp; <span class="br0">&#125;</span>
&nbsp;
&nbsp; &nbsp; <span class="kw1">public</span> <span class="kw4">void</span> NullSafeSet<span class="br0">&#40;</span>IDbCommand cmd, <span class="kw4">object</span> <span class="kw1">value</span>, <span class="kw4">int</span> index<span class="br0">&#41;</span>
&nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span><span class="kw1">value</span> <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">&#41;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#40;</span><span class="br0">&#40;</span>IDataParameter<span class="br0">&#41;</span>cmd<span class="sy0">.</span><span class="me1">Parameters</span><span class="br0">&#91;</span>index<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">.</span><span class="kw1">Value</span> <span class="sy0">=</span> DBNull<span class="sy0">.</span><span class="kw1">Value</span><span class="sy0">;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">else</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#40;</span><span class="br0">&#40;</span>IDataParameter<span class="br0">&#41;</span>cmd<span class="sy0">.</span><span class="me1">Parameters</span><span class="br0">&#91;</span>index<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">.</span><span class="kw1">Value</span> <span class="sy0">=</span> <span class="br0">&#40;</span>Int32<span class="br0">&#41;</span><span class="kw1">value</span><span class="sy0">;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span>
&nbsp; &nbsp; <span class="br0">&#125;</span>
&nbsp;
&nbsp; &nbsp; <span class="kw1">public</span> <span class="kw4">object</span> DeepCopy<span class="br0">&#40;</span><span class="kw4">object</span> <span class="kw1">value</span><span class="br0">&#41;</span>
&nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="kw1">value</span><span class="sy0">;</span>
&nbsp; &nbsp; <span class="br0">&#125;</span>
&nbsp;
&nbsp; &nbsp; <span class="kw1">public</span> <span class="kw4">object</span> Replace<span class="br0">&#40;</span><span class="kw4">object</span> original, <span class="kw4">object</span> target, <span class="kw4">object</span> owner<span class="br0">&#41;</span>
&nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> original<span class="sy0">;</span>
&nbsp; &nbsp; <span class="br0">&#125;</span>
&nbsp;
&nbsp; &nbsp; <span class="kw1">public</span> <span class="kw4">object</span> Assemble<span class="br0">&#40;</span><span class="kw4">object</span> cached, <span class="kw4">object</span> owner<span class="br0">&#41;</span>
&nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> cached<span class="sy0">;</span>
&nbsp; &nbsp; <span class="br0">&#125;</span>
&nbsp;
&nbsp; &nbsp; <span class="kw1">public</span> <span class="kw4">object</span> Disassemble<span class="br0">&#40;</span><span class="kw4">object</span> <span class="kw1">value</span><span class="br0">&#41;</span>
&nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="kw1">value</span><span class="sy0">;</span>
&nbsp; &nbsp; <span class="br0">&#125;</span>
&nbsp;
&nbsp; &nbsp; <span class="kw1">public</span> <span class="kw3">new</span> <span class="kw4">bool</span> Equals<span class="br0">&#40;</span><span class="kw4">object</span> x, <span class="kw4">object</span> y<span class="br0">&#41;</span>
&nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span>ReferenceEquals<span class="br0">&#40;</span>x, y<span class="br0">&#41;</span><span class="br0">&#41;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="kw1">true</span><span class="sy0">;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span>
&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">if</span> <span class="br0">&#40;</span>x <span class="sy0">==</span> <span class="kw1">null</span> <span class="sy0">||</span> y <span class="sy0">==</span> <span class="kw1">null</span><span class="br0">&#41;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> <span class="kw1">false</span><span class="sy0">;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="br0">&#125;</span>
&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> x<span class="sy0">.</span><span class="me1">Equals</span><span class="br0">&#40;</span>y<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp; &nbsp; <span class="br0">&#125;</span>
&nbsp;
&nbsp; &nbsp; <span class="kw1">public</span> <span class="kw4">int</span> GetHashCode<span class="br0">&#40;</span><span class="kw4">object</span> x<span class="br0">&#41;</span>
&nbsp; &nbsp; <span class="br0">&#123;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="kw1">return</span> x <span class="sy0">==</span> <span class="kw1">null</span> <span class="sy0">?</span> <span class="kw3">typeof</span><span class="br0">&#40;</span>T<span class="br0">&#41;</span><span class="sy0">.</span><span class="me1">GetHashCode</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">:</span> x<span class="sy0">.</span><span class="me1">GetHashCode</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp; &nbsp; <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">public class EnumMapper&lt;T&gt; : IUserType
{
    public Boolean IsMutable { get { return false; } }
    public Type ReturnedType { get { return typeof(T); } }
    public SqlType[] SqlTypes { get { return new[] { SqlTypeFactory.Int16 }; } }

    public object NullSafeGet(IDataReader rs, string[] names, object owner)
    {
        var tmp = NHibernateUtil.Int32.NullSafeGet(rs, names[0]).ToString();

        return Enum.Parse(typeof(T), tmp);
    }

    public void NullSafeSet(IDbCommand cmd, object value, int index)
    {
        if (value == null)
        {
            ((IDataParameter)cmd.Parameters[index]).Value = DBNull.Value;
        }
        else
        {
            ((IDataParameter)cmd.Parameters[index]).Value = (Int32)value;
        }
    }

    public object DeepCopy(object value)
    {
        return value;
    }

    public object Replace(object original, object target, object owner)
    {
        return original;
    }

    public object Assemble(object cached, object owner)
    {
        return cached;
    }

    public object Disassemble(object value)
    {
        return value;
    }

    public new bool Equals(object x, object y)
    {
        if (ReferenceEquals(x, y))
        {
            return true;
        }

        if (x == null || y == null)
        {
            return false;
        }

        return x.Equals(y);
    }

    public int GetHashCode(object x)
    {
        return x == null ? typeof(T).GetHashCode() : x.GetHashCode();
    }
}</pre></div></div>

<p>I hope to clean this up eventually, but it looks like it will work for now.  The mapping was changed to look like this:</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="csharp"><thead><tr><td colspan="2"  class="head">C#</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
</pre></td><td class="de1"><pre class="de1">Map<span class="br0">&#40;</span>x <span class="sy0">=&gt;</span> x<span class="sy0">.</span><span class="me1">Property</span><span class="br0">&#41;</span><span class="sy0">.</span><span class="me1">CustomType</span><span class="sy0">&lt;</span>EnumMapper<span class="sy0">&lt;</span>SomeType<span class="sy0">&gt;&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">Map(x =&gt; x.Property).CustomType&lt;EnumMapper&lt;SomeType&gt;&gt;();</pre></div></div>

<p>I started up the app and checked the output again, and saw just what I was looking for:</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="sql"><thead><tr><td colspan="2"  class="head">SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
</pre></td><td class="de1"><pre class="de1">NHibernate: <span class="kw1">SELECT</span> this_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>AttemptDate <span class="kw1">AS</span> AttemptD2_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>BatchSize <span class="kw1">AS</span> BatchSize12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>ConditioningTimeDays <span class="kw1">AS</span> Conditio4_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>TotalBoilTimeMinutes <span class="kw1">AS</span> TotalBoi5_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Family <span class="kw1">AS</span> Family12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>FermentationTemperature <span class="kw1">AS</span> Fermenta7_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>FermentationTimeDays <span class="kw1">AS</span> Fermenta8_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>FinalGravity <span class="kw1">AS</span> FinalGra9_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Name <span class="kw1">AS</span> Name12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>OriginalGravity <span class="kw1">AS</span> Origina12_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>SecondaryFermentationTimeDays <span class="kw1">AS</span> Seconda13_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span><span class="kw1">STYLE</span> <span class="kw1">AS</span> Style12_6_<span class="sy0">,</span> this_<span class="sy0">.</span><span class="kw1">TYPE</span> <span class="kw1">AS</span> Type12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Brewer_id <span class="kw1">AS</span> Brewer16_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Filter_id <span class="kw1">AS</span> Filter17_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Lauter_id <span class="kw1">AS</span> Lauter18_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>Mash_id <span class="kw1">AS</span> Mash19_12_6_<span class="sy0">,</span> this_<span class="sy0">.</span>YeastUsed_id <span class="kw1">AS</span> YeastUsed20_12_6_<span class="sy0">,</span> person2_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span>About <span class="kw1">AS</span> About9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span>Location <span class="kw1">AS</span> Location9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span>DateOfBirth <span class="kw1">AS</span> DateOfBi4_9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span>Email <span class="kw1">AS</span> Email9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span>UserName <span class="kw1">AS</span> UserName9_0_<span class="sy0">,</span> person2_<span class="sy0">.</span><span class="kw1">TYPE</span> <span class="kw1">AS</span> Type9_0_<span class="sy0">,</span> filter3_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id2_1_<span class="sy0">,</span> filter3_<span class="sy0">.</span><span class="kw1">TYPE</span> <span class="kw1">AS</span> Type2_1_<span class="sy0">,</span> filter3_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note2_1_<span class="sy0">,</span> lauter4_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id6_2_<span class="sy0">,</span> lauter4_<span class="sy0">.</span>SpargeType <span class="kw1">AS</span> SpargeType6_2_<span class="sy0">,</span> lauter4_<span class="sy0">.</span>Volume <span class="kw1">AS</span> Volume6_2_<span class="sy0">,</span> lauter4_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note6_2_<span class="sy0">,</span> mash5_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id16_3_<span class="sy0">,</span> mash5_<span class="sy0">.</span>MashInTemp <span class="kw1">AS</span> MashInTemp16_3_<span class="sy0">,</span> mash5_<span class="sy0">.</span>MashOutTemp <span class="kw1">AS</span> MashOutT3_16_3_<span class="sy0">,</span> mash5_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note16_3_<span class="sy0">,</span> mash5_<span class="sy0">.</span>Volume <span class="kw1">AS</span> Volume16_3_<span class="sy0">,</span> yeastuse6_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id15_4_<span class="sy0">,</span> yeastuse6_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note15_4_<span class="sy0">,</span> yeastuse6_<span class="sy0">.</span>StarterTime <span class="kw1">AS</span> StarterT3_15_4_<span class="sy0">,</span> yeastuse6_<span class="sy0">.</span>StarterUsed <span class="kw1">AS</span> StarterU4_15_4_<span class="sy0">,</span> yeastuse6_<span class="sy0">.</span>YeastUsed_id <span class="kw1">AS</span> YeastUsed5_15_4_<span class="sy0">,</span> yeast7_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id14_5_<span class="sy0">,</span> yeast7_<span class="sy0">.</span>Brand <span class="kw1">AS</span> Brand14_5_<span class="sy0">,</span> yeast7_<span class="sy0">.</span>Description <span class="kw1">AS</span> Descript3_14_5_<span class="sy0">,</span> yeast7_<span class="sy0">.</span>Strain <span class="kw1">AS</span> Strain14_5_<span class="sy0">,</span> yeast7_<span class="sy0">.</span><span class="kw1">STYLE</span> <span class="kw1">AS</span> Style14_5_ <span class="kw1">FROM</span> <span class="st0">`Recipe`</span> this_ <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Person`</span> person2_ <span class="kw1">ON</span> this_<span class="sy0">.</span>Brewer_id<span class="sy0">=</span>person2_<span class="sy0">.</span>Id <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Filter`</span> filter3_ <span class="kw1">ON</span> this_<span class="sy0">.</span>Filter_id<span class="sy0">=</span>filter3_<span class="sy0">.</span>Id <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Lauter`</span> lauter4_ <span class="kw1">ON</span> this_<span class="sy0">.</span>Lauter_id<span class="sy0">=</span>lauter4_<span class="sy0">.</span>Id <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Mash`</span> mash5_ <span class="kw1">ON</span> this_<span class="sy0">.</span>Mash_id<span class="sy0">=</span>mash5_<span class="sy0">.</span>Id <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`YeastUse`</span> yeastuse6_ <span class="kw1">ON</span> this_<span class="sy0">.</span>YeastUsed_id<span class="sy0">=</span>yeastuse6_<span class="sy0">.</span>Id <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Yeast`</span> yeast7_ <span class="kw1">ON</span> yeastuse6_<span class="sy0">.</span>YeastUsed_id<span class="sy0">=</span>yeast7_<span class="sy0">.</span>Id
NHibernate: <span class="kw1">SELECT</span> maltsused0_<span class="sy0">.</span>Recipe_id <span class="kw1">AS</span> Recipe8_1_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id1_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>AddTime <span class="kw1">AS</span> AddTime8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>BoilTime <span class="kw1">AS</span> BoilTime8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>Quantity <span class="kw1">AS</span> Quantity8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>WhenUsed <span class="kw1">AS</span> WhenUsed8_0_<span class="sy0">,</span> maltsused0_<span class="sy0">.</span>MaltUsed_id <span class="kw1">AS</span> MaltUsed7_8_0_ <span class="kw1">FROM</span> <span class="st0">`MaltUse`</span> maltsused0_ <span class="kw1">WHERE</span> maltsused0_<span class="sy0">.</span>Recipe_id<span class="sy0">=</span>?p0;?p0 <span class="sy0">=</span> <span class="nu0">1</span>
NHibernate: <span class="kw1">SELECT</span> hopsused0_<span class="sy0">.</span>Recipe_id <span class="kw1">AS</span> Recipe8_1_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id1_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>AddTime <span class="kw1">AS</span> AddTime4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>BoilTime <span class="kw1">AS</span> BoilTime4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>Quantity <span class="kw1">AS</span> Quantity4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>WhenUsed <span class="kw1">AS</span> WhenUsed4_0_<span class="sy0">,</span> hopsused0_<span class="sy0">.</span>HopUsed_id <span class="kw1">AS</span> HopUsed7_4_0_ <span class="kw1">FROM</span> <span class="st0">`HopUse`</span> hopsused0_ <span class="kw1">WHERE</span> hopsused0_<span class="sy0">.</span>Recipe_id<span class="sy0">=</span>?p0;?p0 <span class="sy0">=</span> <span class="nu0">1</span>
NHibernate: <span class="kw1">SELECT</span> additionsu0_<span class="sy0">.</span>Recipe_id <span class="kw1">AS</span> Recipe8_2_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id2_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>AddTime <span class="kw1">AS</span> AddTime1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>BoilTime <span class="kw1">AS</span> BoilTime1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>Note <span class="kw1">AS</span> Note1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>Quantity <span class="kw1">AS</span> Quantity1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>WhenUsed <span class="kw1">AS</span> WhenUsed1_1_<span class="sy0">,</span> additionsu0_<span class="sy0">.</span>AdditionUsed_id <span class="kw1">AS</span> Addition7_1_1_<span class="sy0">,</span> addition1_<span class="sy0">.</span>Id <span class="kw1">AS</span> Id0_0_<span class="sy0">,</span> addition1_<span class="sy0">.</span>Brand <span class="kw1">AS</span> Brand0_0_<span class="sy0">,</span> addition1_<span class="sy0">.</span>Description <span class="kw1">AS</span> Descript3_0_0_<span class="sy0">,</span> addition1_<span class="sy0">.</span>Name <span class="kw1">AS</span> Name0_0_ <span class="kw1">FROM</span> <span class="st0">`AdditionUse`</span> additionsu0_ <span class="kw1">LEFT</span> <span class="kw1">OUTER</span> <span class="kw1">JOIN</span> <span class="st0">`Addition`</span> addition1_ <span class="kw1">ON</span> additionsu0_<span class="sy0">.</span>AdditionUsed_id<span class="sy0">=</span>addition1_<span class="sy0">.</span>Id <span class="kw1">WHERE</span> additionsu0_<span class="sy0">.</span>Recipe_id<span class="sy0">=</span>?p0;?p0 <span class="sy0">=</span> <span class="nu0">1</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">NHibernate: SELECT this_.Id as Id12_6_, this_.AttemptDate as AttemptD2_12_6_, this_.BatchSize as BatchSize12_6_, this_.ConditioningTimeDays as Conditio4_12_6_, this_.TotalBoilTimeMinutes as TotalBoi5_12_6_, this_.Family as Family12_6_, this_.FermentationTemperature as Fermenta7_12_6_, this_.FermentationTimeDays as Fermenta8_12_6_, this_.FinalGravity as FinalGra9_12_6_, this_.Name as Name12_6_, this_.Note as Note12_6_, this_.OriginalGravity as Origina12_12_6_, this_.SecondaryFermentationTimeDays as Seconda13_12_6_, this_.Style as Style12_6_, this_.Type as Type12_6_, this_.Brewer_id as Brewer16_12_6_, this_.Filter_id as Filter17_12_6_, this_.Lauter_id as Lauter18_12_6_, this_.Mash_id as Mash19_12_6_, this_.YeastUsed_id as YeastUsed20_12_6_, person2_.Id as Id9_0_, person2_.About as About9_0_, person2_.Location as Location9_0_, person2_.DateOfBirth as DateOfBi4_9_0_, person2_.Email as Email9_0_, person2_.UserName as UserName9_0_, person2_.Type as Type9_0_, filter3_.Id as Id2_1_, filter3_.Type as Type2_1_, filter3_.Note as Note2_1_, lauter4_.Id as Id6_2_, lauter4_.SpargeType as SpargeType6_2_, lauter4_.Volume as Volume6_2_, lauter4_.Note as Note6_2_, mash5_.Id as Id16_3_, mash5_.MashInTemp as MashInTemp16_3_, mash5_.MashOutTemp as MashOutT3_16_3_, mash5_.Note as Note16_3_, mash5_.Volume as Volume16_3_, yeastuse6_.Id as Id15_4_, yeastuse6_.Note as Note15_4_, yeastuse6_.StarterTime as StarterT3_15_4_, yeastuse6_.StarterUsed as StarterU4_15_4_, yeastuse6_.YeastUsed_id as YeastUsed5_15_4_, yeast7_.Id as Id14_5_, yeast7_.Brand as Brand14_5_, yeast7_.Description as Descript3_14_5_, yeast7_.Strain as Strain14_5_, yeast7_.Style as Style14_5_ FROM `Recipe` this_ left outer join `Person` person2_ on this_.Brewer_id=person2_.Id left outer join `Filter` filter3_ on this_.Filter_id=filter3_.Id left outer join `Lauter` lauter4_ on this_.Lauter_id=lauter4_.Id left outer join `Mash` mash5_ on this_.Mash_id=mash5_.Id left outer join `YeastUse` yeastuse6_ on this_.YeastUsed_id=yeastuse6_.Id left outer join `Yeast` yeast7_ on yeastuse6_.YeastUsed_id=yeast7_.Id
NHibernate: SELECT maltsused0_.Recipe_id as Recipe8_1_, maltsused0_.Id as Id1_, maltsused0_.Id as Id8_0_, maltsused0_.AddTime as AddTime8_0_, maltsused0_.BoilTime as BoilTime8_0_, maltsused0_.Note as Note8_0_, maltsused0_.Quantity as Quantity8_0_, maltsused0_.WhenUsed as WhenUsed8_0_, maltsused0_.MaltUsed_id as MaltUsed7_8_0_ FROM `MaltUse` maltsused0_ WHERE maltsused0_.Recipe_id=?p0;?p0 = 1
NHibernate: SELECT hopsused0_.Recipe_id as Recipe8_1_, hopsused0_.Id as Id1_, hopsused0_.Id as Id4_0_, hopsused0_.AddTime as AddTime4_0_, hopsused0_.BoilTime as BoilTime4_0_, hopsused0_.Note as Note4_0_, hopsused0_.Quantity as Quantity4_0_, hopsused0_.WhenUsed as WhenUsed4_0_, hopsused0_.HopUsed_id as HopUsed7_4_0_ FROM `HopUse` hopsused0_ WHERE hopsused0_.Recipe_id=?p0;?p0 = 1
NHibernate: SELECT additionsu0_.Recipe_id as Recipe8_2_, additionsu0_.Id as Id2_, additionsu0_.Id as Id1_1_, additionsu0_.AddTime as AddTime1_1_, additionsu0_.BoilTime as BoilTime1_1_, additionsu0_.Note as Note1_1_, additionsu0_.Quantity as Quantity1_1_, additionsu0_.WhenUsed as WhenUsed1_1_, additionsu0_.AdditionUsed_id as Addition7_1_1_, addition1_.Id as Id0_0_, addition1_.Brand as Brand0_0_, addition1_.Description as Descript3_0_0_, addition1_.Name as Name0_0_ FROM `AdditionUse` additionsu0_ left outer join `Addition` addition1_ on additionsu0_.AdditionUsed_id=addition1_.Id WHERE additionsu0_.Recipe_id=?p0;?p0 = 1</pre></div></div>

<p>The ghost update is gone!  It ain&#8217;t pretty but its&#8217; getting the job done.  At least until the next time I break it   If anyone knows a better way, I would love to hear it.</p>
<div class='rp4wp-related-posts'>
<h3>Related Posts</h3>
<ul>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/desktopdev/mstech/two-years-with-nhibernate-lessons-learne/'>Two Years With NHibernate - Lessons Learned</a><p>I realized the other day that it's been nearly two years since I wrote a&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/dbprogramming/creating-a-sql-server-unique/'>Creating a SQL Server Unique Index that behaves like an Oracle Unique Index</a><p>In yesterday's post Unique index difference between Oracle and SQL Server , I showed you&hellip;</p></div>
</li>
</ul>
</div>
</div>
				<div class="post-author">
					<div class="userInfo"><h2>About the Author</h2><img class="bioPic" src="http://forum.lessthandot.com/download/file.php?avatar=56_1270084566.jpg" alt="User bio image"/>Alex is a software engineer from southeastern PA, where he lives with a lovely wife and a veritable smorgasbord of pets.  He loves mountain biking, open source software, barbecue and Syracuse basketball.<br style="clear: left" /><div class="bioSoc"><span class="bioSocTitle">Social Sitings</span><a href="http://twitter.com/AlexCuse" title="AlexCuse at Twitter" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Twitter" /></a><a href="http://www.linkedin.com/in/alexullrich" title="AlexCuse at LinkedIn" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="LinkedIn" /></a><a href="/index.php/author/alexcuse/feed/" title="Blog RSS feed for AlexCuse" class="bioSocLink"><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="LTD RSS Feed" /></a></div></div>				</div>
				<div class="post-foot instapaper_ignore">
					<div class="post-tagline">
						<div class="post-foot-views"><label>Article views:</label> 20,874 </div>
						<div class="post-foot-more-posts">
                            <a href="/index.php/author/alexcuse/">Read More Posts by Alex Ullrich</a>
						</div>
					</div>
					<div>
						 
					</div>
					<div class="post-tagline" style="height: auto">
						<span class="social-button-label">Share:</span><a href="https://twitter.com/intent/tweet?url=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/&text=RT @LessThanDot Blog - Quick and Dirty Enum Mapper for Fluent NHibernate by @AlexCuse" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/&title=Quick and Dirty Enum Mapper for Fluent NHibernate&source=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/&title=Quick and Dirty Enum Mapper for Fluent NHibernate" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/&quote=Quick and Dirty Enum Mapper for Fluent NHibernate" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/&title=Quick and Dirty Enum Mapper for Fluent NHibernate" class="instapaper_button">Instapaper</a>					</div>			
				</div>
				<div class="comments-area instapaper_ignore">
	<h4 class="comments-title">
		1 Comment so far	</h4>
			<ol class="comments-list">
					<li class="comment even thread-even depth-1" id="comment-1957">
				<div id="div-comment-1957" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/84decd645268f7444e53450e0f369c47?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/84decd645268f7444e53450e0f369c47?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Jarda</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/#comment-1957">
			October 9, 2010 at 12:44 pm</a>		</div>

		<p>Alex<br />
many thanks for this great post. It saved me so much time&#8230;</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/?replytocom=1957#respond' onclick='return addComment.moveForm( "div-comment-1957", "1957", "respond", "582" )' aria-label='Reply to Jarda'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol>
						<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/index.php/enterprisedev/appserver/quick-and-dirty-enum-mapper-for-fluent-n/#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='582' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><input type="hidden" id="killer_value" name="killer_value" value="550a141f12de6341fba65b0ad0433500"/><noscript>Sorry, but you are required to use a javascript enabled brower to comment here.</noscript>				</form>
					</div><!-- #respond -->
		</div>			</div>
				<br style="clear: both;" />
</div>
		</div>
		<div id="page-footer">
			<div id="botnav"><a href="http://lessthandot.com/" title="LessThanDot Launchpad">Launchpad</a> | <a href="http://lessthandot.com/account.php" title="Your Account Settings">My Account</a> | <a href="http://lessthandot.com/statistics.php" title="Statistics">Statistics</a> | <a href="http://lessthandot.com/donate.php" title="Donate">Donate</a> | <a href="http://lessthandot.com/contactus.php" title="Contact Us">Contact Us</a> | <a href="http://lessthandot.com/aboutus.php" title="About the LessThanDot Team">&copy;2008 - 2019 LessThanDot, LLC</a></div>

		<script type='text/javascript'>
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-4471405-1']);
		_gaq.push(['_trackPageview']);
		_gaq.push(['_setCustomVar', 1, 'Environment', 'lessthandot.com', 3]);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	  </script>			<div class="validator"><a href="http://validator.w3.org/check?uri=referer">Valid XHTML</a> | <a href="http://jigsaw.w3.org/css-validator/check/referer" title="Validate the CSS for this page at the W3C website">Valid CSS</a> | 2018-11-11 15:52</div>
		</div>
	</div>
</div>
<!-- <script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script> -->
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var spam_destroyer = {"key":"159ff9dcc225580310c2de238cdd1f1a","lifetime":"3600","limit":"1552765971"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/spam-destroyer/kill.js?ver=1.2'></script>
</body>
</html>
