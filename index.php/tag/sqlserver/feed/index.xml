<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>sqlserver &#8211; LessthanDot</title>
	<atom:link href="/index.php/tag/sqlserver/feed/" rel="self" type="application/rss+xml" />
	<link>/</link>
	<description>A Technical Community for IT Professionals</description>
	<lastBuildDate>Sat, 09 Mar 2019 12:50:36 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.6.1</generator>
	<item>
		<title>SQL Saturday 33 &#8211; Charlotte, NC</title>
		<link>/index.php/datamgmt/dbprogramming/sql-saturday-33-charlotte-nc/</link>
		<comments>/index.php/datamgmt/dbprogramming/sql-saturday-33-charlotte-nc/#comments</comments>
		<pubDate>Sun, 07 Mar 2010 20:01:53 +0000</pubDate>
		<dc:creator><![CDATA[Eli Weinstock-Herman (tarwn)]]></dc:creator>
				<category><![CDATA[Database Administration]]></category>
		<category><![CDATA[Database Programming]]></category>
		<category><![CDATA[Microsoft SQL Server]]></category>
		<category><![CDATA[Microsoft SQL Server Admin]]></category>
		<category><![CDATA[dba]]></category>
		<category><![CDATA[sqlsaturday]]></category>
		<category><![CDATA[sqlserver]]></category>

		<guid isPermaLink="false">/index.php/2010/03/sql-saturday-33-charlotte-nc/</guid>
		<description><![CDATA[This weekend was SQL Saturday #33 in Charlotte NC and also the first one I attended. It&#8217;s been a long weekend, but I wanted to get my thoughts down while they&#8217;re still fresh. Be warned, it&#8217;s been a long weekend, so my grammar and attempts to reign in my propensity for verbosity have both gone [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>This weekend was SQL Saturday #33 in Charlotte NC and also the first one I attended. It&#8217;s been a long weekend, but I wanted to get my thoughts down while they&#8217;re still fresh. Be warned, it&#8217;s been a long weekend, so my grammar and attempts to reign in my propensity for verbosity have both gone out the window.</p>
<h2>Background</h2>
<p>Sorry SQL Saturday? Tarwn and SQL? We have questions and we know how painful it is for you to write short blog posts&#8230;</p>
<h3>SQL What?</h3>
<p><a href="http://sqlsaturday.com/about.aspx" title="More About SQL Saturday (Visit the Site)">SQL Saturday</a> is the name for a series of 40+ SQL events that occur throughout the US. Each event is managed locally by SQL user groups and PASS chapters and sticks to a few guidelines set down by Andy Warren (<a href="http://www.sqlservercentral.com/blogs/andy_warren/default.aspx" title="Andy Warren's blog>blog</a> | <a href="http://twitter.com/SQLAndy" title="Andy Warren on Twitter">twitter</a>), Steve Jones (<a href="http://www.sqlservercentral.com/blogs/steve_jones/default.aspx" title="Steve Jones's blog">blog</a> | <a href="www.twitter.com/way0utwest " title="Steve Jones on Twitter">Twitter</a>), and Brian Knight (<a href="http://www.bidn.com/blogs/BrianKnight" title="Brian Knight's Blog">blog</a> | <a href="http://twitter.com/brianknight" title="Brian Knight on Twitter">twitter</a>), the creators of SQL Saturday. This year the reins for SQL Saturday are being passed to <a href="http://www.sqlpass.org/" title="Visit the  Professional Association for SQL Server website">PASS</a> in order to help manage the logistics of the growth of the events. There is a lot more information available on the <a href="http://sqlsaturday.com/" title="Hit the website">SQLSaturday website</a>, including upcoming dates and locations for more events.</p>
<h3>My Involvement</h3>
<p>So obviously I am not a SQL guy and you may be wondering what I was doing at a SQL Saturday. As you know, LessThanDot has some really good SQL people that frequently write articles, offer support in multiple forums, and support their respective communities. This year we have decided to begin supporting the community in a more active role by supporting SQL Saturday #31 in Chicago. As we continue to grow we hope we will be able to extend our support in other ways, but that&#8217;s less relevant at the moment. I&#8217;ll be present at SQL Saturday #31 to help show support &#8220;(and hopefully sneak into a few sessions as well).</p>
<p>When the local call went out for attendees to SQL Saturday in Charlotte, I jumped on the opportunity to not only meet some of the local(-ish) community, but also to take advantage of the learning opportunities from the sessions and from the event itself. While I was able to dive deeper into a number of topics that interest me I was also able to ask some questions about the logistics of the event and planning. </p>
<h2>The Sessions</h2>
<p>I made it to the following sessions:</p>
<p><b><u><a href="http://thesqlagentman.com/presentationfiles/" title="Click here for Presentation Files">Insight Into Your Indexes with DMVs</a></u><br />
Timothy Ford </b>(<a href="http://thesqlagentman.com/" title="Timothy Ford's blog">blog</a> | <a href="http://twitter.com/SQLAgentman" title="Timothy Ford on Twitter">twitter</a>)<br />
An excellent session using DMVs to manage, maintain, and locate unused indexes or potential targets for tuning. This was a good session because I had already used everything he pointed out, but he gave me more depth (as well as a number of tricks) that I didn&#8217;t previously have.</p>
<p><b><u>Is Virtualization a Good Choice for SQL Server?</u><br />
Denny Cherry</b> (<a href="http://itknowledgeexchange.techtarget.com/sql-server/" title="Denny's blog">blog</a> | <a href="http://twitter.com/mrdenny" title="Denny Cherry on Twitter">twitter</a>)<br />
Having previous virtualized servers (as well as managed the random set of SQL servers), I was eager to start filling a gap in my education, namely putting the two together. Denny did an excellent introduction into virtualization of SQL Server, critical points that need to be determined when considering virtualization, and a live view into his own, very large environments. </p>
<p><b><u>Powershell Awesomesauce</u><br />
Aaron Nelson</b> (<a href="http://sqlvariant.com/wordpress/" title="Aaron Nelson's blog">blog</a> | <a href="http://twitter.com/SQLVariant" title="Aaron Nelson on Twitter">twitter</a>)<br />
I went into Aaron&#8217;s session with almost no knowledge of powershell and came out with some ideas and practical examples of where it could be used to manage environments and automate work. While some of the concepts clicked quickly for me (&#8216;piping&#8217; output is common in Unix-like systems), others were new to me and his examples hit a good balance between brevity in code length and breadth of functionality. He also pointed out a number of good follow-up resources and reading recommendations.</p>
<p><b><u>Maximizing Plan Re-Use</u><br />
Andrew Kelly</b> (<a href="http://sqlblog.com/blogs/andrew_kelly/" title="Andrew Kelly's blog">blog</a> | <a href="http://twitter.com/gunneyk" title="Andrew Kelly on twitter">twitter</a>)<br />
The concept of executions plans is still fairly new to me, something I had little knowledge on prior to Andrew&#8217;s session. Andrew presented a good mix of knowledge about plans, recompilation of plans, reasons, etc. and active examples to help us tie the concepts to the code. While I&#8217;m by no means an expert after one session, he filled in some critical gaps in my own learning and helped connect some dots from past tuning experiences.</p>
<p><b><u>Storage for the DBA</u><br />
Denny Cherry</b> (<a href="http://itknowledgeexchange.techtarget.com/sql-server/" title="Denny's blog">blog</a> | <a href="http://twitter.com/mrdenny" title="Denny Cherry on Twitter">twitter</a>)<br />
As Denny put it in the beginning, often there is a disconnect between DBA&#8217;s and Storage Admins that comes down to some fundamental differences in terminology. This session was a &#8216;How to Speak Storage Admin&#8217; class that walked us trough the basics of terminology, tools and methods to help size your environment, and some advanced tools he uses in his own environment. And excellent session, even if I am a developer and not a DBA <img src="https://s.w.org/images/core/emoji/2/72x72/1f642.png" alt="ðŸ™‚" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><b><u><a href="http://kevinekline.com/slides/" title="Kevin's Slides">Top 10 Mistakes on SQL Server</a></u><br />
Kevin Kline</b> (<a href="http://kevinekline.com/" title="Kevin Kline's blog">blog</a> | <a href="http://twitter.com/kekline" title="Kevin Kline on Twitter">twitter</a>)<br />
An excellent session from Kevin on the top 10 <u>DBA</u> mistakes he has seen in his experiences. From lack of troubleshooting methodology to not testing backups, he covered a number of assumptions and bad practices that we have probably all been guilty of, at one time or another.<br />
<i>Note: The linked slides page above has the 2005 version of this Top 10&#8230; slides, but not the newer 2008 one he presented yesterday. I assume that will be posted soon, though</i></p>
<h2>The Community</h2>
<p>The community was probably the best part of the event. Beyond getting to learn from so many people (for free!) it was great to actually meet them face to face. Someone repeated the &#8220;Our rockstars are not the same as your rockstars&#8221; comment at one point during the day, and I couldn&#8217;t agree more. It was just downright cool to meet people that previously I had only talked with on twitter and forums, or seen as names on book covers and faces in webinars. The down-to-earth, we&#8217;re-all-part-of-the-same-community feeling was a great change from the larger conferences that (not that I don&#8217;t appreciate those as well). Instead of being a conference event, the day had a more fun, get-together feel to it.</p>
<p>And the fact that Greg (<a href="http://twitter.com/sqlsensei" title="Greg on Twitter">SQLSensei</a>) picked up my bar tab and I got a raffle drawing prize from Kevin (<a href="http://twitter.com/kekline" Title="kevin on Twitter (again)">kekline</a>) definitely didn&#8217;t hurt. Peter (<a href="http://twitter.com/peter_shire" title="Peter on twitter">Peter_Shire</a>), Greg (<a href="http://twitter.com/sqlsensei" title="Greg on Twitter">SQLSensei</a>), and the rest of the group at Charlotte put together an excellent event.</p>
<h2>Final Word</h2>
<p>The event was a resounding success. This was my first SQL Saturday and already I&#8217;m looking forward to my next one, and the one after that. The SQL community is amazing and I think that these events really drive it home. I urge everyone to support your local SQL Server user groups and events like SQL Saturday, as this will only help the community continue growing and continue to be a close-knit and fun community to be a part of. </p>
<p>I have also, after urging from a number of people, started giving thought to offering to speak at few events myself. While I&#8217;m not nearly the SQL guru that the other speakers are, I&#8217;ve been in the trenches for a while, broken my fair share of servers, and could probably find one or two things to pass on.</p>
]]></content:encoded>
			<wfw:commentRss>/index.php/datamgmt/dbprogramming/sql-saturday-33-charlotte-nc/feed/</wfw:commentRss>
		<slash:comments>5</slash:comments>
		</item>
		<item>
		<title>Sharing ASP.net Session State Between Web Applications With SQL Server &#8211; Part I</title>
		<link>/index.php/webdev/serverprogramming/aspnet/sharing-asp-net-session-state-between-we/</link>
		<comments>/index.php/webdev/serverprogramming/aspnet/sharing-asp-net-session-state-between-we/#comments</comments>
		<pubDate>Fri, 23 Jan 2009 17:15:00 +0000</pubDate>
		<dc:creator><![CDATA[Alex Ullrich]]></dc:creator>
				<category><![CDATA[ASP.NET]]></category>
		<category><![CDATA[asp.net]]></category>
		<category><![CDATA[mvc]]></category>
		<category><![CDATA[sqlserver]]></category>
		<category><![CDATA[webservices]]></category>

		<guid isPermaLink="false">/index.php/2009/01/sharing-asp-net-session-state-between-we/</guid>
		<description><![CDATA[I recently needed to implement a shared session between a few different applications, and didn't find a whole lot on the interwebs about how to do this (I'm starting a second life as a web developer though, it could be that I just don't know all the ter&#8230;]]></description>
				<content:encoded><![CDATA[<p>I recently needed to implement a shared session between a few different applications, and didn&#8217;t find a whole lot on the interwebs about how to do this (I&#8217;m starting a second life as a web developer though, it could be that I just don&#8217;t know all the terms the cool kids are using).  It ended up being a bit easier than I thought it would be, but then again everything is easy when the great folks at LessThanDot&#8217;s <a href="http://forum.lessthandot.com/viewforum.php?f=27">ASP.net Forum</a> are there to bail me out <img src="https://s.w.org/images/core/emoji/2/72x72/1f609.png" alt="ðŸ˜‰" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>Anyway, because I had trouble finding this information I figured it was worth throwing together a blog post to get it all in one place.  I&#8217;ll try to cover everything here, including the session state installation.  In order to test, I set up an ASP.net MVC project (using the <strong>beta</strong> release), an ASP.net webservice project, and a local SQL Server instance to maintain the session state (all this is running on the one computer for now, so it feels silly, but remember the goal is to eventually get each component onto its own server.  I named them &#8220;SessionTest.Services&#8221; and &#8220;SessionTest.Site&#8221;.  So go ahead and set that up, I&#8217;ll still be here I swear.</p>
<p>Wow, you are quick!  But you&#8217;re just getting started, there&#8217;s some more things to do.  First, lets install the SQL Server session state on localhost.  You&#8217;ll need to fire up command prompt to do this and run the command: </p>
<p><code class="codespan">C:WindowsMicrosoft.NETFrameworkv2.0.50727aspnet_regsql.exe -ssadd -sstype c -S ALEXCOMPUTER -d ASPState -E</code></p>
<p>The parameters here mean:</p>
<ul>
<li><strong>ssadd:</strong> Add Session State</li>
<li><strong>sstype c: Session State type = &#8220;custom&#8221; (not really, but we need to rename the database)</strong></li>
<li><strong>-S ALEXCOMPUTER:</strong> Server to install the session state db on.  I already have it installed on mine, so you can go ahead and replace this with your computer name.  I really appreciate the offer though</li>
<li><strong>d ASPState:</strong> Name for the database (this is what ASP.net expects)</li>
<li><strong>E:</strong> Signal for the Session State database to use current windows credentials for authentication (when you deploy to the server, you&#8217;ll need to grant access to the service account that ASP.net is running under</li>
</ul>
<p>It&#8217;ll take a minute or so, but eventually it will finish, and it will tell you so.  When its&#8217; done, lets mosey on over to Visual Studio.</p>
<p>First thing to do here is add a reference to your class library project to both the webservice and the the website project, so that we can share types.  Or type in this case.  May as well add that type to the class library now as well.</p>
<p>First thing we want to do is get the MVC project ready.  I got rid of everything in the Views folder except for the About and Index pages in Views/Home.  I also got rid of the Account controller.  Feel free to do this if you want, but I suppose it isn&#8217;t necessary.  One thing that is necessary, since we want to use jQuery to get the webservice value eventually, is to reference the jQuery script.  So just add this to the bottom of the page called Site.Master (before the closing html tag):</p>
<p><code class="codespan">&lt;script type="text/javascript" src="../../Scripts/jquery-1.2.6.min.js" /&gt;</code></p>
<p>Next, we want to add a simple form to Index.aspx.  This form just has one text input, and a submit button.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="html4strict"><thead><tr><td colspan="2"  class="head">HTML</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
</pre></td><td class="de1"><pre class="de1">&nbsp; &nbsp; <span class="sc2">&lt;<span class="kw2">form</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;mainForm&quot;</span> runat<span class="sy0">=</span><span class="st0">&quot;server&quot;</span> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">&quot;/Home/Entered&quot;</span>&gt;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="sc2">&lt;<span class="kw2">p</span>&gt;</span>Give it a try: <span class="sc2">&lt;<span class="kw2">input</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;inputValue&quot;</span> <span class="sy0">/</span>&gt;&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
&nbsp; &nbsp; &nbsp; &nbsp; <span class="sc2">&lt;<span class="kw2">input</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;submit&quot;</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;submitter&quot;</span> <span class="sy0">/</span>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">form</span>&gt;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">    &lt;form id="mainForm" runat="server" action="/Home/Entered"&gt;
        &lt;p&gt;Give it a try: &lt;input type="text" name="inputValue" /&gt;&lt;/p&gt;
        &lt;input type="submit" id="submitter" /&gt;
&lt;/form&gt;</pre></div></div>

<p>You notice its&#8217; action is the page Home/Entered, which currently does not exist.  So we need to add a new MVC Content Page with that name.  In the page attributes, set EnableViewStateMac=&#8221;false&#8221;.  Within the content place holder, we can add this HTML:</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="html4strict"><thead><tr><td colspan="2"  class="head">HTML</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
</pre></td><td class="de1"><pre class="de1"><span class="sc2">&lt;<span class="kw2">p</span>&gt;</span>Entered Value was: <span class="sc2">&lt;%<span class="sy0">=</span> Session<span class="br0">&#91;</span><span class="st0">&quot;enteredValue&quot;</span><span class="br0">&#93;</span>.ToString<span class="br0">&#40;</span><span class="br0">&#41;</span> %&gt;&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span>&gt;</span>Try getting it from the service:<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">p</span>&gt;&lt;<span class="kw2">input</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;button&quot;</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;retrieveButton&quot;</span> <span class="kw3">text</span><span class="sy0">=</span><span class="st0">&quot;retrieve it!&quot;</span> <span class="kw3">onclick</span><span class="sy0">=</span><span class="st0">&quot;retrieve()&quot;</span> <span class="sy0">/</span>&gt;&lt;<span class="kw2">input</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text&quot;</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;retrievedValue&quot;</span> <span class="sy0">/</span>&gt;&lt;<span class="sy0">/</span><span class="kw2">p</span>&gt;</span>
<span class="sc2">&lt;<span class="kw2">script</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/javascript&quot;</span>&gt;</span>
&nbsp; &nbsp; function retrieve() {
&nbsp; &nbsp; }
<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">script</span>&gt;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">&lt;p&gt;Entered Value was: &lt;%= Session["enteredValue"].ToString() %&gt;&lt;/p&gt;
&lt;p&gt;Try getting it from the service:&lt;/p&gt;
&lt;p&gt;&lt;input type="button" id="retrieveButton" text="retrieve it!" onclick="retrieve()" /&gt;&lt;input type="text" id="retrievedValue" /&gt;&lt;/p&gt;
&lt;script type="text/javascript"&gt;
    function retrieve() {
    }
&lt;/script&gt;</pre></div></div>

<p>The javascript is not implemented yet to retrieve the value yet, but at this point there is just one thing we need to do to get the pages working, and that is add a new ActionResult to the HomeController for our new &#8220;Entered&#8221; page.  All this action will really be doing is placing the input from the form submission into the session.  So, </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="csharp"><thead><tr><td colspan="2"  class="head">C#</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
</pre></td><td class="de1"><pre class="de1"><span class="kw1">public</span> ActionResult Entered<span class="br0">&#40;</span><span class="kw4">String</span> inputValue<span class="br0">&#41;</span>
<span class="br0">&#123;</span>
&nbsp; &nbsp; Session<span class="br0">&#91;</span><span class="st0">&quot;enteredValue&quot;</span><span class="br0">&#93;</span> <span class="sy0">=</span> inputValue<span class="sy0">;</span>
&nbsp; &nbsp; <span class="kw1">return</span> View<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">public ActionResult Entered(String inputValue)
{
    Session["enteredValue"] = inputValue;
    return View();
}</pre></div></div>

<p>Now, you can run the page and you should be able to enter a value in Index, and see it on the &#8220;Entered&#8221; page.  So, we can tell that our traditional (in process) session is working.  Now let&#8217;s change it to use the database.  In the main web.config (not the one in the Views folder) we&#8217;ll need to add a SessionState entry within system.web (I usually do this at the bottom, having a common place to look makes my life easier).  So we add this entry:</p>
<p><code class="codespan">&lt;sessionState mode="SQLServer" sqlConnectionString="Data Source=127.0.0.1; Integrated Security=SSPI" cookieless="false" timeout="20"/&gt;</code></p>
<p>Now, as long as your local SQL Server instance is accepting TCP/IP connections, it should work just as before.  And this post is getting long, so this will be the end of part I.</p>
<p>Stay tuned for the exciting conclusion, where we will set up the webservice and the client-side interaction.  In fact, tune in here:<a href="/index.php/WebDev/ServerProgramming/ASPNET/sharing-asp-net-session-state-between-ap">Sharing ASP.net session state with SQL Server, Part II</a></p>
<p>Got a question on ASP.net?  Check out our <a href="http://forum.lessthandot.com/viewforum.php?f=27">ASP.net Forum</a>!</p>
]]></content:encoded>
			<wfw:commentRss>/index.php/webdev/serverprogramming/aspnet/sharing-asp-net-session-state-between-we/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
		</item>
		<item>
		<title>Getting The Percentage Of NULLS And Values In A SQL Server Table</title>
		<link>/index.php/datamgmt/datadesign/title-1/</link>
		<comments>/index.php/datamgmt/datadesign/title-1/#respond</comments>
		<pubDate>Tue, 05 Aug 2008 12:09:49 +0000</pubDate>
		<dc:creator><![CDATA[SQLDenis]]></dc:creator>
				<category><![CDATA[Data Modelling and Design]]></category>
		<category><![CDATA[database]]></category>
		<category><![CDATA[math]]></category>
		<category><![CDATA[null]]></category>
		<category><![CDATA[sql]]></category>
		<category><![CDATA[sqlserver]]></category>

		<guid isPermaLink="false">/index.php/2008/08/title-1/</guid>
		<description><![CDATA[Sometimes you want to know what the percentage is of null values in a table for a Column Or you might want to know what the percentage of all values in a Column is grouped by value You can get these answers by running the code below First create this table T-SQL1 2 3 4 [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Sometimes you want to know what the percentage is of null values in a table for a Column<br />
Or you might want to know what the percentage of all values in a Column is grouped by value<br />
You can get these answers by running the code below</p>
<p>First create this table</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="de1"><pre class="de1"><span class="kw1">CREATE</span> <span class="kw1">TABLE</span> #perc <span class="br0">&#40;</span> Column1 <span class="kw1">INT</span>,Column2 <span class="kw1">INT</span>,Column3 <span class="kw1">INT</span><span class="br0">&#41;</span>
<span class="kw1">INSERT</span> <span class="kw1">INTO</span> #perc
<span class="kw1">SELECT</span> <span class="sy0">NULL</span>,<span class="nu0">1</span>,<span class="nu0">1</span>
<span class="kw1">UNION</span> <span class="sy0">ALL</span>
<span class="kw1">SELECT</span> <span class="nu0">1</span>,<span class="nu0">1</span>,<span class="nu0">1</span>
<span class="kw1">UNION</span> <span class="sy0">ALL</span>
<span class="kw1">SELECT</span> <span class="sy0">NULL</span>,<span class="sy0">NULL</span>,<span class="nu0">1</span>
<span class="kw1">UNION</span> <span class="sy0">ALL</span>
<span class="kw1">SELECT</span> <span class="sy0">NULL</span>,<span class="nu0">1</span>,<span class="sy0">NULL</span>
<span class="kw1">UNION</span> <span class="sy0">ALL</span>
<span class="kw1">SELECT</span> <span class="sy0">NULL</span>,<span class="nu0">1</span>,<span class="nu0">1</span>
<span class="kw1">UNION</span> <span class="sy0">ALL</span>
<span class="kw1">SELECT</span> <span class="nu0">1</span>,<span class="nu0">1</span>,<span class="sy0">NULL</span>
<span class="kw1">UNION</span> <span class="sy0">ALL</span>
<span class="kw1">SELECT</span> <span class="sy0">NULL</span>,<span class="nu0">1</span>,<span class="nu0">1</span>
<span class="kw1">UNION</span> <span class="sy0">ALL</span>
<span class="kw1">SELECT</span> <span class="nu0">2</span>,<span class="nu0">1</span>,<span class="nu0">2</span>
<span class="kw1">UNION</span> <span class="sy0">ALL</span>
<span class="kw1">SELECT</span> <span class="nu0">3</span>,<span class="nu0">1</span>,<span class="nu0">1</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">CREATE TABLE #perc ( Column1 INT,Column2 INT,Column3 INT)
INSERT INTO #perc
SELECT NULL,1,1
UNION ALL
SELECT 1,1,1
UNION ALL
SELECT NULL,NULL,1
UNION ALL
SELECT NULL,1,NULL
UNION ALL
SELECT NULL,1,1
UNION ALL
SELECT 1,1,NULL
UNION ALL
SELECT NULL,1,1
UNION ALL
SELECT 2,1,2
UNION ALL
SELECT 3,1,1</pre></div></div>

<p>Get the percentage of nulls in all the Columns in my table</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> <span class="nu0">100.0</span> <span class="sy0">*</span> <span class="kw2">SUM</span><span class="br0">&#40;</span><span class="kw1">CASE</span> <span class="kw1">WHEN</span> Column1 <span class="kw1">IS</span> <span class="sy0">NULL</span> <span class="kw1">THEN</span> <span class="nu0">1</span> <span class="kw1">ELSE</span> <span class="nu0">0</span> <span class="kw1">END</span><span class="br0">&#41;</span> <span class="sy0">/</span> <span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="sy0">*</span><span class="br0">&#41;</span> <span class="kw1">AS</span> Column1Percent,
<span class="nu0">100.0</span> <span class="sy0">*</span> <span class="kw2">SUM</span><span class="br0">&#40;</span><span class="kw1">CASE</span> <span class="kw1">WHEN</span> Column2 <span class="kw1">IS</span> <span class="sy0">NULL</span> <span class="kw1">THEN</span> <span class="nu0">1</span> <span class="kw1">ELSE</span> <span class="nu0">0</span> <span class="kw1">END</span><span class="br0">&#41;</span> <span class="sy0">/</span> <span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="sy0">*</span><span class="br0">&#41;</span> <span class="kw1">AS</span> Column2Percent,
<span class="nu0">100.0</span> <span class="sy0">*</span> <span class="kw2">SUM</span><span class="br0">&#40;</span><span class="kw1">CASE</span> <span class="kw1">WHEN</span> Column3 <span class="kw1">IS</span> <span class="sy0">NULL</span> <span class="kw1">THEN</span> <span class="nu0">1</span> <span class="kw1">ELSE</span> <span class="nu0">0</span> <span class="kw1">END</span><span class="br0">&#41;</span> <span class="sy0">/</span> <span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="sy0">*</span><span class="br0">&#41;</span> <span class="kw1">AS</span> Column3Percent
<span class="kw1">FROM</span> #perc</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT 100.0 * SUM(CASE WHEN Column1 IS NULL THEN 1 ELSE 0 END) / COUNT(*) AS Column1Percent,
100.0 * SUM(CASE WHEN Column2 IS NULL THEN 1 ELSE 0 END) / COUNT(*) AS Column2Percent,
100.0 * SUM(CASE WHEN Column3 IS NULL THEN 1 ELSE 0 END) / COUNT(*) AS Column3Percent
FROM #perc</pre></div></div>

<p>Output</p>
<pre>Column1Percent	Column2Percent	Column3Percent
55.555555555555	11.111111111111	22.222222222222</pre>
<p>Get the values and the percentage of all values for a Column</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> Column3 <span class="kw1">AS</span> <span class="kw1">Value</span>,<span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="sy0">*</span><span class="br0">&#41;</span> <span class="kw1">AS</span> ValueCount,
<span class="nu0">100.0</span> <span class="sy0">*</span> <span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="kw1">coalesce</span><span class="br0">&#40;</span>Column3,<span class="nu0">0</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">/</span><span class="br0">&#40;</span><span class="kw1">SELECT</span> <span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="sy0">*</span><span class="br0">&#41;</span> <span class="kw1">FROM</span> #perc <span class="br0">&#41;</span> <span class="kw1">AS</span> Percentage
<span class="kw1">FROM</span> #perc
<span class="kw1">GROUP</span> <span class="kw1">BY</span> Column3
<span class="kw1">ORDER</span> <span class="kw1">BY</span> Percentage <span class="kw1">DESC</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT Column3 AS Value,COUNT(*) AS ValueCount,
100.0 * COUNT(coalesce(Column3,0))/(SELECT COUNT(*) FROM #perc ) AS Percentage
FROM #perc
GROUP BY Column3
ORDER BY Percentage DESC</pre></div></div>

<p>Output</p>
<pre>Value	ValueCount	Percentage
1	6	66.666666666666
NULL	2	22.222222222222
2	1	11.111111111111</pre>
]]></content:encoded>
			<wfw:commentRss>/index.php/datamgmt/datadesign/title-1/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Good SQL Articles To Read If You Can&#8217;t Afford Books</title>
		<link>/index.php/datamgmt/datadesign/good-sql-articles-to-read-if-you-can-t-a/</link>
		<comments>/index.php/datamgmt/datadesign/good-sql-articles-to-read-if-you-can-t-a/#comments</comments>
		<pubDate>Fri, 23 May 2008 13:11:30 +0000</pubDate>
		<dc:creator><![CDATA[SQLDenis]]></dc:creator>
				<category><![CDATA[Data Modelling and Design]]></category>
		<category><![CDATA[Microsoft SQL Server]]></category>
		<category><![CDATA[Microsoft SQL Server Admin]]></category>
		<category><![CDATA[database]]></category>
		<category><![CDATA[deadlocks]]></category>
		<category><![CDATA[functions]]></category>
		<category><![CDATA[howto]]></category>
		<category><![CDATA[math]]></category>
		<category><![CDATA[sql]]></category>
		<category><![CDATA[sqlserver]]></category>
		<category><![CDATA[tips]]></category>
		<category><![CDATA[toread]]></category>
		<category><![CDATA[tricks]]></category>

		<guid isPermaLink="false">/index.php/2008/05/good-sql-articles-to-read-if-you-can-t-a/</guid>
		<description><![CDATA[You have only $50 left and you can buy two DVDs or one SQL book, what do you do? I would buy the book but not every person has the same idea of a fun time. This is the reason why I present you with a bunch of links to articles which will give you [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>You have only $50 left and you can buy two DVDs or one SQL book, what do you do? I would buy the book but not every person has the same idea of a fun time. This is the reason why I present you with a bunch of links to articles which will give you very good info. Some of this you won&#8217;t be able to find in a book anyway.</p>
<p><a href="http://www.sommarskog.se/dynamic_sql.html">The curse and blessings of dynamic SQL</a>. How you use dynamic SQL, when you should &#8211; and when you should not.</p>
<p><a href="http://www.sommarskog.se/arrays-in-sql.html">Arrays and Lists in SQL Server</a>. Several methods on how to pass an array of values from a client to SQL Server, and performance data about the methods. Two versions are available, one for SQL 2005 and one for SQL 2000 and earlier.</p>
<p><a href="http://www.sommarskog.se/error-handling-II.html">Implementing Error Handling with Stored Procedures</a> and <a href="http://www.sommarskog.se/error-handling-I.html">Error Handling in SQL Server â€“ a Background</a>. Two articles on error handling in SQL Server.</p>
<p><a href="http://www.karaszi.com/SQLServer/info_datetime.asp">The ultimate guide to the datetime datatypes</a><br />
The purpose of this article is to explain how the datetime datatypes work in SQL Server, including common pitfalls and general recommendations.</p>
<p><a href="http://www.karaszi.com/SQLServer/info_sp_recompile_set.asp">Stored procedure recompiles and SET options</a><br />
Using stored procedures is generally considered a good thing. One advantage of stored procedures is that they are precompiled. This means that at execution time, SQL Server will fetch the precompiled procedure plan from cache memory (if exists) and execute it. This is generally faster than optimizing and compiling the code for each execution. However, under some circumstances, a procedure needs to be recompiled during execution.</p>
<p><a href="http://dotnetsamplechapters.blogspot.com/2007/09/do-you-know-how-between-works-with.html">Do You Know How Between Works With Dates?</a><br />
article explaining why it can be dangerous to use between with datetime data types</p>
<p><a href="http://dotnetsamplechapters.blogspot.com/2007/09/how-are-dates-stored-internally-in-sql.html">How Are Dates Stored Internally In SQL Server?</a><br />
Article explaining how datetimes are actually stored internally</p>
<p>Three part deadlock troubleshooting post, a must read if you want to understand how to resolve deadlocks.<br />
<a href="http://blogs.msdn.com/bartd/archive/2006/09/09/Deadlock-Troubleshooting_2C00_-Part-1.aspx">Deadlock Troubleshooting, Part 1</a><br />
<a href="http://blogs.msdn.com/bartd/archive/2006/09/13/Deadlock-Troubleshooting_2C00_-Part-2.aspx">Deadlock Troubleshooting, Part 2</a><br />
<a href="http://blogs.msdn.com/bartd/archive/2006/09/25/deadlock-troubleshooting-part-3.aspx">Deadlock Troubleshooting, Part 3</a></p>
<p><a href="http://dotnetsamplechapters.blogspot.com/2007/03/sql-server-2005-whitepapers-list.html">SQL Server 2005 Whitepapers List</a><br />
A list of 29 different SQL Server 2005 Whitepapers</p>
<p><a href="http://vyaskn.tripod.com/sql_server_check_identity_columns.htm">Keep a check on your IDENTITY columns in SQL Server</a>This article shows you how to keep an eye on your IDENTITY columns and find out before they run out of values, and fail with an arithmetic overflow error. </p>
<p><a href="http://www.projectdmx.com/tsql/strcleanup.aspx">Character replacements in T-SQL</a><br />
Quite often SQL programmers are left with the dirty job of working with badly formatted strings mostly generated from external sources. Typical examples are badly structured date values, social security numbers with misplaced hyphens, badly formatted phone numbers etc. When the data set if small, in many cases, one can easily fix by a one time cleanup code snippet, but for larger sets one will need more generalized routines.</p>
]]></content:encoded>
			<wfw:commentRss>/index.php/datamgmt/datadesign/good-sql-articles-to-read-if-you-can-t-a/feed/</wfw:commentRss>
		<slash:comments>19</slash:comments>
		</item>
		<item>
		<title>How to get the selectivity of an index</title>
		<link>/index.php/datamgmt/datadesign/how-to-get-the-selectivity-of-an-index/</link>
		<comments>/index.php/datamgmt/datadesign/how-to-get-the-selectivity-of-an-index/#respond</comments>
		<pubDate>Tue, 20 May 2008 13:32:33 +0000</pubDate>
		<dc:creator><![CDATA[SQLDenis]]></dc:creator>
				<category><![CDATA[Data Modelling and Design]]></category>
		<category><![CDATA[Database Administration]]></category>
		<category><![CDATA[Database Programming]]></category>
		<category><![CDATA[Microsoft SQL Server]]></category>
		<category><![CDATA[Microsoft SQL Server Admin]]></category>
		<category><![CDATA[database]]></category>
		<category><![CDATA[indexes]]></category>
		<category><![CDATA[optimizing]]></category>
		<category><![CDATA[sql]]></category>
		<category><![CDATA[sqlserver]]></category>

		<guid isPermaLink="false">/index.php/2008/05/how-to-get-the-selectivity-of-an-index/</guid>
		<description><![CDATA[The selectivity of an index is extremely important. If your index is not selective enough then the optimizer will simply have to do a scan. This is also a reason why creating an index on a gender column does not make a lot of sense. First create this table T-SQL1 2 3 4 5 6 [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>The selectivity of an index is extremely important. If your index is not selective enough then the optimizer will simply have to do a scan. This is also a reason why creating an index on a gender column does not make a lot of sense.</p>
<p>First create this table</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="de1"><pre class="de1"><span class="kw1">USE</span> tempdb
go
&nbsp;
<span class="kw1">CREATE</span> <span class="kw1">TABLE</span> TestCompositeIndex <span class="br0">&#40;</span><span class="kw1">State</span> <span class="kw1">char</span><span class="br0">&#40;</span><span class="nu0">2</span><span class="br0">&#41;</span>,Zip <span class="kw1">Char</span><span class="br0">&#40;</span><span class="nu0">5</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
<span class="kw1">INSERT</span> TestCompositeIndex <span class="kw1">VALUES</span><span class="br0">&#40;</span><span class="st0">'NJ'</span>,<span class="st0">'08540'</span><span class="br0">&#41;</span>
<span class="kw1">INSERT</span> TestCompositeIndex <span class="kw1">VALUES</span><span class="br0">&#40;</span><span class="st0">'NJ'</span>,<span class="st0">'08540'</span><span class="br0">&#41;</span>
<span class="kw1">INSERT</span> TestCompositeIndex <span class="kw1">VALUES</span><span class="br0">&#40;</span><span class="st0">'NY'</span>,<span class="st0">'10028'</span><span class="br0">&#41;</span>
<span class="kw1">INSERT</span> TestCompositeIndex <span class="kw1">VALUES</span><span class="br0">&#40;</span><span class="st0">'NY'</span>,<span class="st0">'10021'</span><span class="br0">&#41;</span>
<span class="kw1">INSERT</span> TestCompositeIndex <span class="kw1">VALUES</span><span class="br0">&#40;</span><span class="st0">'NY'</span>,<span class="st0">'10021'</span><span class="br0">&#41;</span>
<span class="kw1">INSERT</span> TestCompositeIndex <span class="kw1">VALUES</span><span class="br0">&#40;</span><span class="st0">'NY'</span>,<span class="st0">'10021'</span><span class="br0">&#41;</span>
<span class="kw1">INSERT</span> TestCompositeIndex <span class="kw1">VALUES</span><span class="br0">&#40;</span><span class="st0">'NY'</span>,<span class="st0">'10001'</span><span class="br0">&#41;</span>
<span class="kw1">INSERT</span> TestCompositeIndex <span class="kw1">VALUES</span><span class="br0">&#40;</span><span class="st0">'NJ'</span>,<span class="st0">'08536'</span><span class="br0">&#41;</span>
<span class="kw1">INSERT</span> TestCompositeIndex <span class="kw1">VALUES</span><span class="br0">&#40;</span><span class="st0">'NJ'</span>,<span class="st0">'08540'</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">USE tempdb
go

CREATE TABLE TestCompositeIndex (State char(2),Zip Char(5))
INSERT TestCompositeIndex VALUES('NJ','08540')
INSERT TestCompositeIndex VALUES('NJ','08540')
INSERT TestCompositeIndex VALUES('NY','10028')
INSERT TestCompositeIndex VALUES('NY','10021')
INSERT TestCompositeIndex VALUES('NY','10021')
INSERT TestCompositeIndex VALUES('NY','10021')
INSERT TestCompositeIndex VALUES('NY','10001')
INSERT TestCompositeIndex VALUES('NJ','08536')
INSERT TestCompositeIndex VALUES('NJ','08540')</pre></div></div>

<p>If you have a composite index (composite means the index contains more than one column) you need to run this code.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="de1"><pre class="de1"><span class="kw1">DECLARE</span> @<span class="kw2">Count</span> <span class="kw1">int</span>
&nbsp;
<span class="kw1">SELECT</span> <span class="kw1">DISTINCT</span> <span class="kw1">State</span>, Zip
<span class="kw1">FROM</span> TestCompositeIndex;
&nbsp;
<span class="kw1">SET</span> @<span class="kw2">Count</span> <span class="sy0">=</span> <span class="kw2">@@ROWCOUNT</span>;
&nbsp;
&nbsp;
&nbsp;
<span class="kw1">SELECT</span> <span class="br0">&#40;</span>@<span class="kw2">Count</span><span class="sy0">*</span><span class="nu0">1.0</span><span class="br0">&#41;</span> <span class="sy0">/</span> <span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="sy0">*</span><span class="br0">&#41;</span> <span class="kw1">AS</span> IndexSelectivity, 
<span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="sy0">*</span><span class="br0">&#41;</span><span class="kw1">AS</span> TotalCount,
@<span class="kw2">Count</span> <span class="kw1">AS</span> DistinctCount
<span class="kw1">FROM</span> TestCompositeIndex;</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">DECLARE @Count int

SELECT DISTINCT State, Zip
FROM TestCompositeIndex;

SET @Count = @@ROWCOUNT;

 

SELECT (@Count*1.0) / COUNT(*) AS IndexSelectivity, 
COUNT(*)AS TotalCount,
@Count AS DistinctCount
FROM TestCompositeIndex;</pre></div></div>

<p>Result<br />
&#8212;&#8212;&#8211;<br />
IndexSelectivity	TotalCount	DistinctCount<br />
.555555555555	9	5</p>
<p>If you have a one column index you can use this code</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> <span class="br0">&#40;</span><span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="kw1">DISTINCT</span> <span class="kw1">State</span><span class="br0">&#41;</span><span class="sy0">*</span> <span class="nu0">1.0</span><span class="br0">&#41;</span> <span class="sy0">/</span> <span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="sy0">*</span><span class="br0">&#41;</span> <span class="kw1">AS</span> IndexSelectivity,
<span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="sy0">*</span><span class="br0">&#41;</span> <span class="kw1">AS</span> TotalCount,
<span class="kw2">COUNT</span><span class="br0">&#40;</span><span class="kw1">DISTINCT</span> <span class="kw1">State</span><span class="br0">&#41;</span> <span class="kw1">AS</span> DistinctCount
<span class="kw1">FROM</span> TestCompositeIndex;</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT (COUNT(DISTINCT State)* 1.0) / COUNT(*) AS IndexSelectivity,
COUNT(*) AS TotalCount,
COUNT(DISTINCT State) AS DistinctCount
FROM TestCompositeIndex;</pre></div></div>

<p>Result<br />
&#8212;&#8212;&#8211;<br />
IndexSelectivity	TotalCount	DistinctCount<br />
.222222222222	9	2</p>
]]></content:encoded>
			<wfw:commentRss>/index.php/datamgmt/datadesign/how-to-get-the-selectivity-of-an-index/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
