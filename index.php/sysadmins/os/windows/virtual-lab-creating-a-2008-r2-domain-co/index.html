<!DOCTYPE html>
<html lang="en-US">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
		<link rel="shortcut icon" href="http://lessthandot.com/favicon.ico" type="image/vnd.microsoft.icon" />
	<title>Less Than Dot - Blog -   Virtual Lab: Creating a 2008 R2 Domain Controller</title>
	<meta prefix="og: http://ogp.me/ns#" property="og:title" content="Less Than Dot - Blog -   Virtual Lab: Creating a 2008 R2 Domain Controller" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:url" content="/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/" />
		<meta prefix="og: http://ogp.me/ns#" property="og:image" content="http://lessthandot.com/images/logo_prod.png" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="LessThanDot" />
	<meta prefix="og: http://ogp.me/ns#" property="og:description" content="A virtual domain controller (DC) can be both a powerful and lightweight addition to your virtual lab. A central AD implementation not only gives you another set of services to work with, it also provides a more realistic environment with the power of do&hellip;" />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/index.php/feed/" />
	<link rel="alternate" type="application/atom+xml" title="Atom" href="/index.php/feed/atom/" />

	<!-- this page is the canonical URL -->	
	<link rel="stylesheet" href="/wp-content/themes/lessthandot2009/style.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsite.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsiteprint.css" media="print" type="text/css" />

	<link rel='dns-prefetch' href='//ajax.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="LessthanDot &raquo; Virtual Lab: Creating a 2008 R2 Domain Controller Comments Feed" href="/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.1"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='bwp-syntax-css'  href='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/css/bwp-syntax-global.css?ver=4.6.1' type='text/css' media='all' />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/js/bwp-syntax.js?ver=4.6.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Report Manager / Report Server Loading Slow Initially' href='/index.php/datamgmt/datadesign/reporting-services-loads-slow-first-time/' />
<link rel='next' title='Less Than Dot is two years old, here are some stats' href='/index.php/itprofessionals/ethicsit/less-than-dot-is-two-years-old-here-are/' />
<meta name="generator" content="WordPress 4.6.1" />
<link rel="canonical" href="/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/" />
<link rel='shortlink' href='/?p=790' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fsysadmins%2Fos%2Fwindows%2Fvirtual-lab-creating-a-2008-r2-domain-co%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fsysadmins%2Fos%2Fwindows%2Fvirtual-lab-creating-a-2008-r2-domain-co%2F&#038;format=xml" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
	<script src="http://lessthandot.com/includes/allsite.js" type="text/javascript" ></script>
</head>
<body>
<div id="contain"><div id="subcontain"><div id="ttl"><div id="hdr"><div id="snav"><a href="http://lessthandot.com/login.php?backtrack=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/?">Member Login</a>
</div><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="logoc"><img src="http://lessthandot.com/images/logo_prod.png" alt="LessThanDot Site Logo" border="0" /></a><h1>LessThanDot</h1><div class="pgsttl">A decade of helpful technical content</div></div><div id="nav">
<ul>
<li><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="h" ><span>Launchpad</span></a></li>
<li class="cur"><a href="/" title="LessThanDot Blogs" id="b" ><span>Blogs</span></a></li>
<li><a href="http://forum.lessthandot.com/" title="LessThanDot Community Forums" id="f" ><span>Forum</span></a></li>
<li><a href="http://wiki.lessthandot.com/" title="LessThanDot Wiki Articles" id="w" ><span>Wiki</span></a></li>
<li><a href="http://sqlcop.lessthandot.com/" title="LessThanDot SQLCop" id="a" ><span>SQLCop</span></a></li>
<li><a href="http://lessthandot.com/account.php" title="Your Account Settings" id="r"  class="l_ie"><span>My Account</span></a></li></ul></div>
</div><div id="content">
<div id="fac"><div id="fa">
		<p>Less Than Dot is a community of passionate IT professionals and enthusiasts dedicated to sharing technical knowledge, experience, and assistance. Inside you will find reference materials, interesting technical discussions, and expert tips and commentary.</p></div></div><div class="content-sidebar">
	<div id="social" class="sdsec">
		<h2>LTD Social Sitings</h2>
		<div>
		<a id="social_twitter" href="http://twitter.com/LessThanDot/" title="Follow us on Twitter" ><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Lessthandot twitter"/></a> 
		<a href="http://www.linkedin.com/groups?home=&amp;gid=113440" title="Join us on LinkedIn" ><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="Lessthandot Linkedin" /></a> 
		<a href="http://www.facebook.com/group.php?gid=19330511063" title="Join us on Facebook" ><img src="http://lessthandot.com/images/bdg_facebook.png" alt="Lessthandot facebook"/></a> 
		<a href="http://lessthandot.com/rss.php" title="LessThanDot News Feed" ><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="Lessthandot rss"/></a> 
		</div>
		<p><em>Note: Watch for social icons on posts by your favorite authors to follow their postings on these and other social sites.</em></p>
	</div><div class="content-sidebar-section">
<h2>Tag cloud</h2>
	<p class="tag-cloud">
		<a href='/index.php/tag/net/' class='tag-link-245 tag-link-position-1' title='21 topics' style='font-size: 8.9565217391304pt;'>.net</a> <a href='/index.php/tag/asp-net/' class='tag-link-168 tag-link-position-2' title='21 topics' style='font-size: 8.9565217391304pt;'>asp.net</a> <a href='/index.php/tag/azure-2/' class='tag-link-321 tag-link-position-3' title='29 topics' style='font-size: 10.173913043478pt;'>azure</a> <a href='/index.php/tag/book/' class='tag-link-130 tag-link-position-4' title='26 topics' style='font-size: 9.7391304347826pt;'>book</a> <a href='/index.php/tag/business-intelligence-2/' class='tag-link-256 tag-link-position-5' title='30 topics' style='font-size: 10.260869565217pt;'>business intelligence</a> <a href='/index.php/tag/c/' class='tag-link-138 tag-link-position-6' title='40 topics' style='font-size: 11.304347826087pt;'>c#</a> <a href='/index.php/tag/database/' class='tag-link-134 tag-link-position-7' title='31 topics' style='font-size: 10.434782608696pt;'>database</a> <a href='/index.php/tag/excel/' class='tag-link-155 tag-link-position-8' title='16 topics' style='font-size: 8pt;'>excel</a> <a href='/index.php/tag/gotcha/' class='tag-link-240 tag-link-position-9' title='19 topics' style='font-size: 8.6086956521739pt;'>gotcha</a> <a href='/index.php/tag/how-to/' class='tag-link-272 tag-link-position-10' title='44 topics' style='font-size: 11.652173913043pt;'>how to</a> <a href='/index.php/tag/mongodb/' class='tag-link-765 tag-link-position-11' title='17 topics' style='font-size: 8.2608695652174pt;'>mongodb</a> <a href='/index.php/tag/nosql/' class='tag-link-775 tag-link-position-12' title='18 topics' style='font-size: 8.4347826086957pt;'>nosql</a> <a href='/index.php/tag/performance/' class='tag-link-179 tag-link-position-13' title='26 topics' style='font-size: 9.7391304347826pt;'>performance</a> <a href='/index.php/tag/security-2/' class='tag-link-398 tag-link-position-14' title='25 topics' style='font-size: 9.5652173913043pt;'>security</a> <a href='/index.php/tag/sql/' class='tag-link-132 tag-link-position-15' title='42 topics' style='font-size: 11.478260869565pt;'>sql</a> <a href='/index.php/tag/sql-advent-2012/' class='tag-link-1416 tag-link-position-16' title='18 topics' style='font-size: 8.4347826086957pt;'>sql advent 2012</a> <a href='/index.php/tag/sql-friday/' class='tag-link-377 tag-link-position-17' title='18 topics' style='font-size: 8.4347826086957pt;'>sql friday</a> <a href='/index.php/tag/sql-server/' class='tag-link-154 tag-link-position-18' title='145 topics' style='font-size: 16.086956521739pt;'>sql server</a> <a href='/index.php/tag/sql-server-2000/' class='tag-link-366 tag-link-position-19' title='45 topics' style='font-size: 11.739130434783pt;'>sql server 2000</a> <a href='/index.php/tag/sql-server-2005/' class='tag-link-327 tag-link-position-20' title='118 topics' style='font-size: 15.391304347826pt;'>sql server 2005</a> <a href='/index.php/tag/sql-server-2008/' class='tag-link-152 tag-link-position-21' title='237 topics' style='font-size: 18pt;'>sql server 2008</a> <a href='/index.php/tag/sql-server-2008-r2/' class='tag-link-548 tag-link-position-22' title='38 topics' style='font-size: 11.130434782609pt;'>sql server 2008 r2</a> <a href='/index.php/tag/sql-server-2012/' class='tag-link-1161 tag-link-position-23' title='76 topics' style='font-size: 13.739130434783pt;'>sql server 2012</a> <a href='/index.php/tag/ssis-2/' class='tag-link-501 tag-link-position-24' title='52 topics' style='font-size: 12.260869565217pt;'>ssis</a> <a href='/index.php/tag/ssms/' class='tag-link-640 tag-link-position-25' title='18 topics' style='font-size: 8.4347826086957pt;'>ssms</a> <a href='/index.php/tag/ssrs-2/' class='tag-link-557 tag-link-position-26' title='27 topics' style='font-size: 9.9130434782609pt;'>ssrs</a> <a href='/index.php/tag/syndicated/' class='tag-link-1407 tag-link-position-27' title='67 topics' style='font-size: 13.217391304348pt;'>syndicated</a> <a href='/index.php/tag/t-sql/' class='tag-link-185 tag-link-position-28' title='26 topics' style='font-size: 9.7391304347826pt;'>t-sql</a> <a href='/index.php/tag/tip/' class='tag-link-194 tag-link-position-29' title='46 topics' style='font-size: 11.826086956522pt;'>tip</a> <a href='/index.php/tag/unit-testing/' class='tag-link-162 tag-link-position-30' title='17 topics' style='font-size: 8.2608695652174pt;'>unit testing</a>	</p>
</div>		<div class="content-sidebar-section">
		<h2>Authors</h2>
			<ul class="author-list dimmed">
				<li><a href="/index.php/author/SQLDenis/" title="Posts by SQLDenis">SQLDenis</a> <a href="/index.php/author/SQLDenis/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (597)</li><li><a href="/index.php/author/onpnt/" title="Posts by Ted Krueger (onpnt)">Ted Krueger (onpnt)</a> <a href="/index.php/author/onpnt/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (355)</li><li><a href="/index.php/author/grrlgeek/" title="Posts by Jes Borland">Jes Borland</a> <a href="/index.php/author/grrlgeek/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (202)</li><li><a href="/index.php/author/tarwn/" title="Posts by Eli Weinstock-Herman (tarwn)">Eli Weinstock-Herman (tarwn)</a> <a href="/index.php/author/tarwn/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (190)</li><li><a href="/index.php/author/koenverbeeck/" title="Posts by Koen Verbeeck">Koen Verbeeck</a> <a href="/index.php/author/koenverbeeck/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (100)</li><li><a href="/index.php/author/alexcuse/" title="Posts by Alex Ullrich">Alex Ullrich</a> <a href="/index.php/author/alexcuse/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (55)</li><li><a href="/index.php/author/gmmastros/" title="Posts by George Mastros (gmmastros)">George Mastros (gmmastros)</a> <a href="/index.php/author/gmmastros/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (45)</li><li><a href="/index.php/author/axel8s/" title="Posts by Axel Achten (axel8s)">Axel Achten (axel8s)</a> <a href="/index.php/author/axel8s/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (28)</li><li><a href="/index.php/author/naomi/" title="Posts by Naomi Nosonovsky">Naomi Nosonovsky</a> <a href="/index.php/author/naomi/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (27)</li><li><a href="/index.php/author/thirster42/" title="Posts by David Forck (thirster42)">David Forck (thirster42)</a> <a href="/index.php/author/thirster42/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (24)</li><li><a href="/index.php/author/chopstik/" title="Posts by chopstik">chopstik</a> <a href="/index.php/author/chopstik/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (20)</li><li><a href="/index.php/author/kconan/" title="Posts by Kevin Conan">Kevin Conan</a> <a href="/index.php/author/kconan/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (18)</li><li><a href="/index.php/author/robearl/" title="Posts by Rob Earl">Rob Earl</a> <a href="/index.php/author/robearl/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (14)</li><li><a href="/index.php/author/thatrickguy/" title="Posts by ThatRickGuy">ThatRickGuy</a> <a href="/index.php/author/thatrickguy/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (12)</li><li><a href="/index.php/author/sqlarcher/" title="Posts by SQLArcher">SQLArcher</a> <a href="/index.php/author/sqlarcher/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (11)</li>                <li><a href="http://lessthandot.com/Stats/BlogAuthors.php">More...</a></li>
			</ul>
		</div>
				<div class="content-sidebar-section">
		<h2>Categories</h2>
			<ul class="categories-list">
					<li class="cat-item cat-item-10"><a href="/index.php/category/all/" >All Blogs</a>
</li>
	<li class="cat-item cat-item-5"><a href="/index.php/category/architect/" >Architecture, Design and Strategy</a>
</li>
	<li class="cat-item cat-item-1759"><a href="/index.php/category/artificial-intelligence/" >Artificial Intelligence</a>
</li>
	<li class="cat-item cat-item-6"><a href="/index.php/category/datamgmt/" >Data Management</a>
</li>
	<li class="cat-item cat-item-7"><a href="/index.php/category/desktopdev/" >Desktop Developer</a>
</li>
	<li class="cat-item cat-item-8"><a href="/index.php/category/enterprisedev/" >Enterprise Developer</a>
</li>
	<li class="cat-item cat-item-11"><a href="/index.php/category/itprofessionals/" >IT Professionals</a>
</li>
	<li class="cat-item cat-item-12"><a href="/index.php/category/itstudents/" >IT Students and Researchers</a>
</li>
	<li class="cat-item cat-item-1743"><a href="/index.php/category/management/" >Management</a>
</li>
	<li class="cat-item cat-item-9"><a href="/index.php/category/sysadmins/" >System Admins</a>
</li>
	<li class="cat-item cat-item-1"><a href="/index.php/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-4"><a href="/index.php/category/webdev/" >Web Developer</a>
</li>
			</ul>
		</div>
		</div><div class="content-main">
				<div class="post-navigation">
				<div class="post-navigation-forward"><a href="/index.php/itprofessionals/ethicsit/less-than-dot-is-two-years-old-here-are/" rel="next">Less Than Dot is two years old, here are some stats</a> &raquo; </div>
				<div class="post-navigation-back">&laquo; <a href="/index.php/datamgmt/datadesign/reporting-services-loads-slow-first-time/" rel="prev">Report Manager / Report Server Loading Slow Initially</a></div>
			</div>
			<div class="post-area instapaper_body">
				<div class="post-title-line">
										<h1 class="instapaper_ignore"><a href="/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/" class="post-title">Virtual Lab: Creating a 2008 R2 Domain Controller</a></h1>
					<div class="post-byline">by <a href="/index.php/author/tarwn/" title="Posts by Eli Weinstock-Herman (tarwn)" rel="author">Eli Weinstock-Herman (tarwn)</a> on May 28, 2010 in category <a href="/index.php/category/sysadmins/os/windows/2008server/" rel="category tag">2008 Server</a> <a href="/index.php/category/sysadmins/os/windows/" rel="category tag">Windows</a>. Article views: 29,201 </div>
				</div>
				<div class="post-tagline"><a href="https://twitter.com/intent/tweet?url=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/&text=RT @LessThanDot Blog - Virtual Lab: Creating a 2008 R2 Domain Controller by @tarwn" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/&title=Virtual Lab: Creating a 2008 R2 Domain Controller&source=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/&title=Virtual Lab: Creating a 2008 R2 Domain Controller" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/&quote=Virtual Lab: Creating a 2008 R2 Domain Controller" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/&title=Virtual Lab: Creating a 2008 R2 Domain Controller" class="instapaper_button">Instapaper</a></div>

				<div class="post-content"><div class="acc_header">
A virtual domain controller (DC) can be both a powerful and lightweight addition to your virtual lab. A central AD implementation not only gives you another set of services to work with, it also provides a more realistic environment with the power of domain accounts and policies that will be useful when you start working with multi-server setups. This article will walk through the creation of a basic 2008 R2 Domain Controller.<br />
<br />
<label>Technical Area:</label> Accidental Systems Administrator<br />
<label class="diff">Level of Difficulty: </label><img src="http://tiernok.com/LTDBlog/dr_basic.png" alt="Basic Difficulty" /><br />
<label>Additional Articles:</label><a href="http://wiki.lessthandot.com/index.php/Virtual_Lab" title="View the wiki entry">Virtual Lab entry on the LTD Wiki</a>
</div>
<p></p>
<h2>Terminology</h2>
<p>There are some terms that are commonly used in relation to AD or a Domain Controller that will appear in this and other documents:</p>
<dl>
<dt>Domain Controller</dt>
<dd>The server or servers responsible for handling authentication and informational requests for users/systems on the domain</dd>
<dt>Forest</dt>
<dd>Domains are represented as trees of directory information, a forest is the group of all trees in the organization</dd>
<dt>Kerberos</dt>
<dd>Kerberos is an authentication protocol used to allow systems on an un-trusted network a method to prove their identity to one another</dd>
<dt>FQDN</dt>
<dd>Fully Qualified Domain Name &#8211; the fully spelled out domain name for a domain, for example mydomain.com</dd>
</dl>
<div class="hint">
There has been a critical change to this article due to a new piece of information that I didn&#8217;t previously know. Rather than use the base windows image as the DC for your lab you should go ahead and install this machine from scratch to ensure it doesn&#8217;t have a duplicate SID. In prior versions we could (sort-of) change a SID but that&#8217;s not really the case anymore. This is really only a big deal for the DC because the SIDs for users from the DC (domain accounts) need to not match SIDs for local users/groups/etc.<br />
More details can around duplicate SIDs, 2008 R2, and similar topics are available in <a href="http://blogs.technet.com/b/markrussinovich/archive/2009/11/03/3291024.aspx" target="_blank">this article from Mark Russinovich</a>.
</div>
<h2>Setting up VM</h2>
<p>First we need to create a virtual machine to house the future domain controller (DC). In the <a href="/index.php/SysAdmins/OS/building-the-virtual-lab-vmware-and-2008" title="Building the Virtual Lab: VMWare and MS Windows 2008 R2">first article</a> we walked through the process of creating a basic VM. We will follow those same steps to create the VM for our DC except once we have Windows installed we will customize it further than we did with the original VM.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/0_AddVirtualMachine.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/0_AddVirtualMachine.png" alt="Add Virtual Machine, Step 0" /></a><br />
	Creating the Virtual Machine
</div>
<p>For the time being this system is going to be connected to the Host via the existing Bridged connection. At a later point in time we will look at creating virtual networks in VMWare and build out a more defined network. </p>
<div class="mylab">
	Because I don&#8217;t intend on having a heavy workload on this server or installing any additional services beyond AD and DNS, I have only allocated 512MB of memory to the server. If it becomes noticeably sluggish servicing my tiny domain then I will bump it up to 1024.
</div>
<h2>Configuring the OS</h2>
<p>Once the virtual machine is created, configured in VMWare, and Windows has been installed, it&#8217;s time to move on to the Windows configuration. Some of these will be the same as our prior article and several will be new additions to prep the server for Active Directory.</p>
<p>First we will want to configure the server name and then assign it a new static IP Address on the local network.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/1_startup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/1_startup.png" alt="Changing the System Name" /></a><br />
	Changing the System Name
</div>
<p>After changing the name we&#8217;ll open the network settings by either selecting the &#8220;Configure Networking&#8221; link on the Initial Configuration dashboard (above) or clicking the network icon in the tool tray at the bottom right, followed by &#8220;Open Network and Sharing&#8221;, and then &#8220;Change adapter settings&#8221; near the top right of the screen. With the &#8220;Network Connections&#8221; screen open we can right click the network adapter and enter the &#8220;Properties&#8221; pane. Select the &#8220;Internet Protocol Version 4&#8221; item from the list and press properties to access the IP configuration panel. </p>
<p>At this point we need to select a static IP address that isn&#8217;t already in use on our network and isn&#8217;t in the DHCP range for our network. After selecting an IP Address we enter the static IP address, enter the gateway server or switches address, and then enter the servers address as the primary DNS entry and our switch or external DNS as the secondary one.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/2_startup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/2_startup.png" alt="Configuring the IP Address" /></a><br />
	Configuring the IP Address
</div>
<div class="mylab">
	My home network has defined ranges and already has a DNS server, so these servers will all receive addresses in the 51-99 range and they will have the non-virtual DNS server listed as a secondary DNS.
</div>
<div class="hint">
It is possible to install Active Directory and the DNS server on a system without a static IP address and trust that it will assign itself the same address over time, but I don&#8217;t recommend it as your clients will eventually not be able to find their DNS server and than pain and suffering will ensue.
</div>
<p>The last step to preparing your server for Active Directory is planning. In a non-lab installation we would want to put some forethought into how many clients we intend to support with Directory Services, whether there will be secondary DCs on the network, etc. I have an older link for <a href="http://technet.microsoft.com/en-us/library/cc739022%28WS.10%29.aspx" title="Assess Hardware for AD on Windows 2003">capacity planning for AD on Windows 2003</a>, but unfortunately I have not been able to find a comparable article for 2008 yet.</p>
<h2>Installing Active Directory</h2>
<p>In Windows 2008, Active Directory has expanded to take on a wider range of roles and capabilities. The portion we formerly considered to be AD, directory management and communications, is now called Active Directory Domain Services (AD DS). Other services include Active Directory Certificate Services (AD CS), Active Directory Federation Services (AD FS), Active Directory Lightweight Directory Services (AD LDS), and Active Directory Rights Management Services (AD RMS). Today we will be concentrating on AD DS, though I will continue to refer to as AD throughout the rest of the post due to bad habits and years of practice.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/0_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/0_setup.png" alt="Assigning Server Roles" /></a><br />
	Assigning Server Roles
</div>
<p>To start the installation and setup process, we will refer back to the Initial Configuration dashboard (click the pinned shortcut on the taskbar if you closed it already). Under section 3 there is a &#8220;Roles&#8221; category that will allow us to easily assign the necessary roles to our server.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/1_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/1_setup.png" alt="Assigning Server Roles" /></a><br />
	Assigning Server Roles
</div>
<h3>Installing the Active Directory Role</h3>
<p>The first page of the &#8220;Add Roles Wizard&#8221; presents us with some friendly reminders to set a static IP Address (check), ensure the Administrator account has a strong password (check), and make sure the server is up to date on Windows Updates (check). </p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/2_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/2_setup.png" alt="Assigning Server Roles" /></a><br />
	Assigning Server Roles
</div>
<p>Next we move on to the Roles selection page. As promised, we see a number of active directory services listed, the option for today being AD DS.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/3_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/3_setup.png" alt="Installing AD DS" /></a><br />
	Installing AD DS
</div>
<p>On selecting the AD DS option the wizard runs a quick validation and notices that our server does not appear to have a necessary component, in this case .Net Framework 3.5. </p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/4_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/4_setup.png" alt="Installing AD DS" /></a><br />
	Installing AD DS &#8211; Prerequisites
</div>
<p>After choosing to install the prerequisite (a difficult and time consuming decision, or perhaps not) and pressing next on the main screen, we are provided with a list of &#8220;Things to Note&#8221; as well as links to additional information, saving me the time of writing and linking them up myself.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/5_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/5_setup.png" alt="Installing AD DS" /></a><br />
	Installing AD DS &#8211; Things to Note
</div>
<p>A short confirmation displays the items we are installing, including the noted prerequisite above and a reminder that directory services won&#8217;t truly be functional until we run &#8220;dcpromo&#8221;.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/6_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/6_setup.png" alt="Installing AD DS" /></a><br />
	Installing AD DS &#8211; Confirmation
</div>
<p>After the installation and verification is complete, we are presented a handy link to launch dcpromo.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/7_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/7_setup.png" alt="Installing AD DS" /></a><br />
	Installing AD DS &#8211; Wizard Complete
</div>
<div class="hint">
	If you accidentally close the window before pressing the link or need to access dcpromo later, the start menu&#8217;s run input will recognize &#8220;dcpromo&#8221; and find the requisite shortcut for you.
</div>
<h3>AD DS Installation Wizard (DCPromo)</h3>
<p>The dcpromo wizard will complete the installation of AD DS on the server. </p>
<p>On the first step we are presented with the option to &#8220;Use Advanced Mode Setup&#8221;. This option will cause several additional wizard windows to appear throughout the process that would have defaulted behind the scenes if it were not checked. Press the &#8220;advanced mode installation&#8221; hyperlink to get a help document about the additional options presented in advanced mode.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/7_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/7_setup.png" alt="DCPromo" /></a><br />
	DCPromo &#8211; Beginning
</div>
<p>After an informational screen about the suggested cryptography option and systems that may not support it, we are presented with the option to add a domain to an existing forest or to create a new domain under a new forest. This being our first DC in the virtual lab, we will be creating a new forest for our domain.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/8_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/8_setup.png" alt="DCPromo" /></a><br />
	DCPromo &#8211; New Forest and Domain
</div>
<p>Next type the fully qualified domain name (FQDN) for your domain. After typing this name the wizard will then scan to ensure the name is not already in use.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/9_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/9_setup.png" alt="DCPromo" /></a><br />
	DCPromo &#8211; FQDN Entry
</div>
<p>The wizard then prompts us to enter a Domain NetBIOS name, with a suggestion based on the name from the prior step.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/10_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/10_setup.png" alt="DCPromo" /></a><br />
	DCPromo &#8211; NetBIOS Name
</div>
<p>Next we&#8217;ll set the functional level of our forest. The functional level defines the maximum level (and feature set) that our forest will support. When installing additional DCs in an existing forest or creating a business domain that you intend to support over the next ten years, this needs to be a well thought out decision. When installing in a virtual lab we will of course pick the highest possible level in less time than it took to write this paragraph.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/11_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/11_setup.png" alt="DCPromo" /></a><br />
	DCPromo &#8211; Functional Level
</div>
<div class="hint">
	One of the best reasons for using 2008 R2 mode is the new &#8220;Recycle Bin&#8221; option. This option keeps deleted entries in memory and provides an option to restore them, providing a bit of a safety net and reducing the potential for having to use the AD Recovery Mode to recover a deleted set of accounts or objects.
</div>
<div class="mylab">
Actually the Recycle Bin option worries me. I like admins (and myself) to be a little scared of their tools and nothing says scared like remembering that time you accidentally deleted something and spent recovering it manually. Oh well.
</div>
<p>After another quick scan of the network will tell us if DNS is available and supports the necessary capabilities for the domain controller. In this case, since we are installing a primary DC, I&#8217;m going to suggest we install DNS on the same server.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/12_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/12_setup.png" alt="DCPromo" /></a><br />
	DCPromo &#8211; DNS
</div>
<p>After selecting to install the DNS server we receive a warning that a delegation for the DNS server cannot be created because the authoritative parent zone for the domain name I entered earlier could not be found. Translated, this means that the server went looking for an authoritative DNS entry for the <i>avl.local</i> domain name I entered and determined that no one had ever heard of it. Since we are just now installing the DNS server that will recognize that name, this is to be expected and can be safely ignored. </p>
<p>The next step is to provide a location for the database and files that will be used by AD DS. In a non-lab setup this needs to be carefully planned to ensure enough capacity is available ahead of time. This being a virtual lab, we will be accepting the defaults and allowing it to carve out space from the primary drive.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/13_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/13_setup.png" alt="DCPromo" /></a><br />
	DCPromo &#8211; Database and File Locations
</div>
<p>The Directory Services Restore password is used only when major restoration activities need to be undertaken. After entering the password we will add it to our password safe so it won&#8217;t be forgotten. This password will hopefully never be needed (especially in a lab environment), but not writing it down will pretty much ensure our first, future restoration step will be getting past the lack of a password.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/14_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/14_setup.png" alt="DCPromo" /></a><br />
	DCPromo &#8211; Restore Password
</div>
<p>After a brief summary of the selected configurations and the option to export these settings for an unattended installation, we are ready to let the server start installing.</p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/15_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/15_setup.png" alt="DCPromo" /></a><br />
	DCPromo &#8211; Installing
</div>
<p>The installer wraps up with the common Finish screen and a request to reboot.</p>
<p>After rebooting, our &#8220;Initial Configuration Tasks&#8221; window confirms our new roles have been installed. </p>
<div class="screenshot">
	<a href="http://tiernok.com/LTDBlog/BasicDC/16_setup.png" title="View Fullsize" target="_blank"><img src="http://tiernok.com/LTDBlog/BasicDC/16_setup.png" alt="DCPromo" /></a><br />
	Initial Configuration Tasks &#8211; Roles
</div>
<h2>Managing the Domain</h2>
<p>Our next post will cover basic administration topics for the domain, as we add our first SQL Server system to the domain, create a new administrative user, and create a service account for our SQL Server services.</p>
<p><label>Additional Articles:</label><a href="http://wiki.lessthandot.com/index.php/Virtual_Lab" title="View the wiki entry">Virtual Lab entry on the LTD Wiki</a></p>
<style>
.mylab, .hint{
   margin: .5em 2em;
   padding: 1em 1em 1em 90px;
}
.mylab{
   border: 2px solid #CCEECC;
   background-color: #DDFFDD;
   background-image: url(http://tiernok.com/LTDBlog/mylab.png);
   background-repeat: no-repeat;
   background-position: 20px 20px;
}
.hint{
   border: 2px solid #EEEECC;
   background-color: #FFFFDD;
   background-image: url(http://tiernok.com/LTDBlog/tip.png);
   background-repeat: no-repeat;
   background-position: 20px 20px;
}
.screenshot{
   text-align: center;
   font-size: .8em;
   margin-bottom: 1em;
}
.acc_header{ position: relative; }
.acc_header label{ float: left; width: 150px; font-weight: bold;}
.acc_header br{  clear: left; }
.acc_header .diff{ margin-top: 3px; }
</style>
<div class='rp4wp-related-posts'>
<h3>Related Posts</h3>
<ul>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/sysadmins/security/virtual-lab-2008-r2-domain-controller-ba/'>Virtual Lab: 2008 R2 Domain Controller - Basic Tasks</a><p>In the previous article we covered the creation of a basic Domain Controller for our&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/dbadmin/virtual-lab-creating-a-basic-sql-2008-r2/'>Virtual Lab: Creating the Basic SQL 2008 R2 Virtual Machine</a><p>A virtual database server provides you the ability to not only work on database-relate tools&hellip;</p></div>
</li>
</ul>
</div>
</div>
				<div class="post-author">
					<div class="userInfo"><h2>About the Author</h2><img class="bioPic" src="http://www.tiernok.com/images/RedShirt_80.jpg" alt="User bio image"/>My roles have included accidental DBA, lone developer, systems architect, team lead, VP of Engineering, and general troublemaker. On the technical front I work in web development, distributed systems, test automation, and devop-sy areas like delivery pipelines and integration of all the auditable things. <br style="clear: left" /><div class="bioSoc"><span class="bioSocTitle">Social Sitings</span><a href="http://twitter.com/tarwn" title="tarwn at Twitter" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Twitter" /></a><a href="http://www.linkedin.com/in/eliweinstockherman" title="tarwn at LinkedIn" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="LinkedIn" /></a><a href="http://tiernok.com/" title="tarwn at HomePage" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_homepage.png" alt="HomePage" /></a><a href="https://plus.google.com/114520820167873768473" title="tarwn at Google Plus" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_gplus.png" alt="Google Plus" /></a><a href="/index.php/author/tarwn/feed/" title="Blog RSS feed for tarwn" class="bioSocLink"><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="LTD RSS Feed" /></a></div></div>				</div>
				<div class="post-foot instapaper_ignore">
					<div class="post-tagline">
						<div class="post-foot-views"><label>Article views:</label> 29,201 </div>
						<div class="post-foot-more-posts">
                            <a href="/index.php/author/tarwn/">Read More Posts by Eli Weinstock-Herman (tarwn)</a>
						</div>
					</div>
					<div>
						 
					</div>
					<div class="post-tagline" style="height: auto">
						<span class="social-button-label">Share:</span><a href="https://twitter.com/intent/tweet?url=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/&text=RT @LessThanDot Blog - Virtual Lab: Creating a 2008 R2 Domain Controller by @tarwn" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/&title=Virtual Lab: Creating a 2008 R2 Domain Controller&source=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/&title=Virtual Lab: Creating a 2008 R2 Domain Controller" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/&quote=Virtual Lab: Creating a 2008 R2 Domain Controller" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/&title=Virtual Lab: Creating a 2008 R2 Domain Controller" class="instapaper_button">Instapaper</a>					</div>			
				</div>
				<div class="comments-area instapaper_ignore">
	<h4 class="comments-title">
		6 Comments	</h4>
			<ol class="comments-list">
					<li class="comment even thread-even depth-1" id="comment-2756">
				<div id="div-comment-2756" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/db0b37b08a430b4201311c76dbf96933?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/db0b37b08a430b4201311c76dbf96933?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn"><a href='http://www.sachinshah.in/' rel='external nofollow' class='url'>Sachin Shah</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/#comment-2756">
			June 7, 2010 at 3:24 am</a>		</div>

		<p>Hi, </p>
<p>I had followed same steps on my i7 Processor computer. But System is not repsonding after reboot.. What can be issue ??</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/?replytocom=2756#respond' onclick='return addComment.moveForm( "div-comment-2756", "2756", "respond", "790" )' aria-label='Reply to Sachin Shah'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-tarwn bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-2757">
				<div id="div-comment-2757" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/67511f6308748c8524ff82fa4ec1eb58?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/67511f6308748c8524ff82fa4ec1eb58?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Eli Weinstock-Herman (tarwn)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/#comment-2757">
			June 7, 2010 at 4:13 am</a>		</div>

		<p>Sachin, that might be a better question for the forums. When you say the system is not responding, do you mean you can&#8217;t ping it, remote desktop isn&#8217;t work, or you can&#8217;t open the console window (VMWare console, VPC, Virtual Server, &#8230; not sure what you are using). <br />
If you cannot access it on the network then you likely assigned it an IP address that is not on the correct subnet or that is inaccessible from the system you are trying to connect from. If you are trying to connect by name, try using the ip address instead, it may be a DNS resolution issue. Lastly, if you are trying to use the remote console for your virtualization platform, i would need to know which platform you are on before I could make any guesses.<br />
Generally the console for your virtualization product should continue to work, no mater what&#8217;s wrong with the system. Try using that and the administrator account to log into the system and verify the network settings and see if any error entries are showing in the event log.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/?replytocom=2757#respond' onclick='return addComment.moveForm( "div-comment-2757", "2757", "respond", "790" )' aria-label='Reply to Eli Weinstock-Herman (tarwn)'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2753">
				<div id="div-comment-2753" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/b8070fbe3d19f122e84d33ca4ebd8e86?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b8070fbe3d19f122e84d33ca4ebd8e86?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn"><a href='http://www.starinnovative.com/' rel='external nofollow' class='url'>Prakash Heda</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/#comment-2753">
			January 8, 2011 at 10:25 pm</a>		</div>

		<p>My home network has defined ranges and already has a DNS server, so these servers will all receive addresses in the 51-99 range and they will have the non-virtual DNS server listed as a secondary DNS. </p>
<p>This is probably why I guess its not working for me&#8230;can you provide details to configure DHCP as well to make this article work on generic scenerio&#8230;thanks ~ Prakash</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/?replytocom=2753#respond' onclick='return addComment.moveForm( "div-comment-2753", "2753", "respond", "790" )' aria-label='Reply to Prakash Heda'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-tarwn bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-2754">
				<div id="div-comment-2754" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/67511f6308748c8524ff82fa4ec1eb58?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/67511f6308748c8524ff82fa4ec1eb58?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Eli Weinstock-Herman (tarwn)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/#comment-2754">
			January 9, 2011 at 6:58 am</a>		</div>

		<p>If you are planning on setting up the combined DNS/Domain controller, then you will want to give it a static address so either your switch can reference it and hand it out to DHCP clients or your individual machines can be configured with it manually. Short of  a specialized multi-cast DNS (or zeroconf if it&#8217;s a small network?) setup, you have to have the IP address of a DNS server in order to ask it for name resolution, if it is constantly changing (DHCP) then you will be forced to update all of your other systems regularly with the new address.</p>
<p>Pick an address outside of the dynamic range in your switch and use that one (this will guarantee none of your other systems will accidentally be provided the same address). One digit higher or lower than your switch, or completely opposite (ie .1 and .254) might be easy to remember.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/?replytocom=2754#respond' onclick='return addComment.moveForm( "div-comment-2754", "2754", "respond", "790" )' aria-label='Reply to Eli Weinstock-Herman (tarwn)'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2755">
				<div id="div-comment-2755" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/c4052a1fb041b1c07be665d2e4bfb994?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/c4052a1fb041b1c07be665d2e4bfb994?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">mansoor</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/#comment-2755">
			August 16, 2012 at 5:52 am</a>		</div>

		<p>Hi i was actually searching for virtual labs where i can implement myself. for example there is a article in this website creatind Domain Controllers. but i want virtual lab where i can do to get experience</p>
<p>thanks in advance</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/?replytocom=2755#respond' onclick='return addComment.moveForm( "div-comment-2755", "2755", "respond", "790" )' aria-label='Reply to mansoor'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-bearhntr28 odd alt thread-odd thread-alt depth-1" id="comment-4919754">
				<div id="div-comment-4919754" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/6921ce3c1446e2a26c0f1275cdb2c8a5?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/6921ce3c1446e2a26c0f1275cdb2c8a5?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">bearhntr28</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/#comment-4919754">
			February 16, 2016 at 9:54 pm</a>		</div>

		<p>Here is my delimma, we have a corporate environment and this DC will be only for the lab. In order for the computer to get to the Internet – I have to use one of the DNS entries from the corp network. I have DNS1 = 127.0.0.1 and DNS2=corp DNS1 from computers. The Time is synching with the corp NNTP server.</p>
<p>It is PRIVATE and is not seen by anyone not on accessing the LAB’s Segment (151.114.20.xxx). We have our own subnet for lab printers and computers and other servers. They are used for testing our software products and attempting to replicate customer issues. We have all addresses from .10-.240 in that segment.</p>
<p>We need access to the following — LDAP, CERT AUTH, AD, EXCHANGE 2013 (I plan to install on the DC), and we have a SQL server which will need to use the AD Accounts from this server once setup.</p>
<p>I have built it once, and could not get anything to properly work — the EVALUATE THIS ROLE would give all sorts of errors. I thought I would try SBS 2011, as we are replacing an SBS 2003 server with this one (it will be retired). I gave with SBS 2011 this weekend, when I could not get it to talk to the Internet without putting a ROUTER on the desk where the server sits and configuring it to be the pass through – as the INET Wizard kept seeing the CORP DHCP and DNS and failing out.</p>
<p>Right now the only ROLE I have on in the server is AD DOMAIN SERVICES and DNS (as I have run DCPROMO already. Eventually I would like to have the following:</p>
<p>1) LDAP capabilities for use on other computers and printers to authenticate and do email addr lookups.</p>
<p>2) CERT AUTH for creating SSL certs to test SSL in the environment.</p>
<p>3) Every user have a HOME FOLDER and EMAIL (Exchange 2013) through Outlook Web.</p>
<p>4) Service accounts and Groups to use for managing users – our old DC everyone knew the DOMAIN ADMIN and LOCAL ADMIN password and trashed the server.</p>
<p>5) I am not seeing a NEW USER WIZARD like in SBS 2011 (and SBS 2003) that can use templates to create a new user with EMAIL and FOLDER and allow you to choose different templates for them which puts them into specific groups.</p>
<p>I am fairly proficient with setting up a DC (have one at home). but I think part of my problem comes from the DC within a corp environment and I have been told that it cannot broadcast DHCP or DNS info to the network. So it needs to be only seen by machines where we set the DNS1 entry to its IP ADDRESS to setup authentication on them, or once the computer is added to the domain (ASCLAB.local).</p>
<p>I have scoured the Internet looking for a walk through to do this, and one was pretty close – but I was getting tons of errors in the ROLE CHECKS. I am not skeerd of Yellow Triangles – it is the Red Circles that get me.  🙂</p>
<p>If anyone has any ideas on how best to get this done – a website, a forum, anything – I would be so grateful.</p>
<p>Curtis</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/?replytocom=4919754#respond' onclick='return addComment.moveForm( "div-comment-4919754", "4919754", "respond", "790" )' aria-label='Reply to bearhntr28'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol>
						<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/index.php/sysadmins/os/windows/virtual-lab-creating-a-2008-r2-domain-co/#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='790' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><input type="hidden" id="killer_value" name="killer_value" value="fe131d7f5a6b38b23cc967316c13dae2"/><noscript>Sorry, but you are required to use a javascript enabled brower to comment here.</noscript>				</form>
					</div><!-- #respond -->
		</div>			</div>
				<br style="clear: both;" />
</div>
		</div>
		<div id="page-footer">
			<div id="botnav"><a href="http://lessthandot.com/" title="LessThanDot Launchpad">Launchpad</a> | <a href="http://lessthandot.com/account.php" title="Your Account Settings">My Account</a> | <a href="http://lessthandot.com/statistics.php" title="Statistics">Statistics</a> | <a href="http://lessthandot.com/donate.php" title="Donate">Donate</a> | <a href="http://lessthandot.com/contactus.php" title="Contact Us">Contact Us</a> | <a href="http://lessthandot.com/aboutus.php" title="About the LessThanDot Team">&copy;2008 - 2019 LessThanDot, LLC</a></div>

		<script type='text/javascript'>
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-4471405-1']);
		_gaq.push(['_trackPageview']);
		_gaq.push(['_setCustomVar', 1, 'Environment', 'lessthandot.com', 3]);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	  </script>			<div class="validator"><a href="http://validator.w3.org/check?uri=referer">Valid XHTML</a> | <a href="http://jigsaw.w3.org/css-validator/check/referer" title="Validate the CSS for this page at the W3C website">Valid CSS</a> | 2018-11-11 15:52</div>
		</div>
	</div>
</div>
<!-- <script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script> -->
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var spam_destroyer = {"key":"159ff9dcc225580310c2de238cdd1f1a","lifetime":"3600","limit":"1552765934"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/spam-destroyer/kill.js?ver=1.2'></script>
</body>
</html>
