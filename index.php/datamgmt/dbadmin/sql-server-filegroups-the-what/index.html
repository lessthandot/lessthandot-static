<!DOCTYPE html>
<html lang="en-US">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
		<link rel="shortcut icon" href="http://lessthandot.com/favicon.ico" type="image/vnd.microsoft.icon" />
	<title>Less Than Dot - Blog -   SQL Server Filegroups: The What, The Why and The How</title>
	<meta prefix="og: http://ogp.me/ns#" property="og:title" content="Less Than Dot - Blog -   SQL Server Filegroups: The What, The Why and The How" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:url" content="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/" />
		<meta prefix="og: http://ogp.me/ns#" property="og:image" content="http://lessthandot.com/images/logo_prod.png" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="LessThanDot" />
	<meta prefix="og: http://ogp.me/ns#" property="og:description" content="A filegroup is a logical structure to group objects in a database. Don‚Äôt confuse filegroups with actual files (.mdf, .ddf, .ldf, etc.). You can have multiple filegroups per database." />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/index.php/feed/" />
	<link rel="alternate" type="application/atom+xml" title="Atom" href="/index.php/feed/atom/" />

	<!-- this page is the canonical URL -->	
	<link rel="stylesheet" href="/wp-content/themes/lessthandot2009/style.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsite.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsiteprint.css" media="print" type="text/css" />

	<link rel='dns-prefetch' href='//ajax.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="LessthanDot &raquo; SQL Server Filegroups: The What, The Why and The How Comments Feed" href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.1"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='bwp-syntax-css'  href='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/css/bwp-syntax-global.css?ver=4.6.1' type='text/css' media='all' />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/js/bwp-syntax.js?ver=4.6.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Spatial Data From Your iPhone' href='/index.php/datamgmt/dbprogramming/mssqlserver/spatial-data-from-your-iphone/' />
<link rel='next' title='SQL Server DBA Tip 1 &#8211; Server Configuration ‚Äì MAX Memory' href='/index.php/datamgmt/dbadmin/sql-server-dba-tip-1/' />
<meta name="generator" content="WordPress 4.6.1" />
<link rel="canonical" href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/" />
<link rel='shortlink' href='/?p=1141' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fdatamgmt%2Fdbadmin%2Fsql-server-filegroups-the-what%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fdatamgmt%2Fdbadmin%2Fsql-server-filegroups-the-what%2F&#038;format=xml" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
	<script src="http://lessthandot.com/includes/allsite.js" type="text/javascript" ></script>
</head>
<body>
<div id="contain"><div id="subcontain"><div id="ttl"><div id="hdr"><div id="snav"><a href="http://lessthandot.com/login.php?backtrack=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?">Member Login</a>
</div><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="logoc"><img src="http://lessthandot.com/images/logo_prod.png" alt="LessThanDot Site Logo" border="0" /></a><h1>LessThanDot</h1><div class="pgsttl">A decade of helpful technical content</div></div><div id="nav">
<ul>
<li><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="h" ><span>Launchpad</span></a></li>
<li class="cur"><a href="/" title="LessThanDot Blogs" id="b" ><span>Blogs</span></a></li>
<li><a href="http://forum.lessthandot.com/" title="LessThanDot Community Forums" id="f" ><span>Forum</span></a></li>
<li><a href="http://wiki.lessthandot.com/" title="LessThanDot Wiki Articles" id="w" ><span>Wiki</span></a></li>
<li><a href="http://sqlcop.lessthandot.com/" title="LessThanDot SQLCop" id="a" ><span>SQLCop</span></a></li>
<li><a href="http://lessthandot.com/account.php" title="Your Account Settings" id="r"  class="l_ie"><span>My Account</span></a></li></ul></div>
</div><div id="content">
<div id="fac"><div id="fa">
		<p>Less Than Dot is a community of passionate IT professionals and enthusiasts dedicated to sharing technical knowledge, experience, and assistance. Inside you will find reference materials, interesting technical discussions, and expert tips and commentary.</p></div></div><div class="content-sidebar">
	<div id="social" class="sdsec">
		<h2>LTD Social Sitings</h2>
		<div>
		<a id="social_twitter" href="http://twitter.com/LessThanDot/" title="Follow us on Twitter" ><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Lessthandot twitter"/></a> 
		<a href="http://www.linkedin.com/groups?home=&amp;gid=113440" title="Join us on LinkedIn" ><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="Lessthandot Linkedin" /></a> 
		<a href="http://www.facebook.com/group.php?gid=19330511063" title="Join us on Facebook" ><img src="http://lessthandot.com/images/bdg_facebook.png" alt="Lessthandot facebook"/></a> 
		<a href="http://lessthandot.com/rss.php" title="LessThanDot News Feed" ><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="Lessthandot rss"/></a> 
		</div>
		<p><em>Note: Watch for social icons on posts by your favorite authors to follow their postings on these and other social sites.</em></p>
	</div><div class="content-sidebar-section">
<h2>Tag cloud</h2>
	<p class="tag-cloud">
		<a href='/index.php/tag/net/' class='tag-link-245 tag-link-position-1' title='21 topics' style='font-size: 8.9565217391304pt;'>.net</a> <a href='/index.php/tag/asp-net/' class='tag-link-168 tag-link-position-2' title='21 topics' style='font-size: 8.9565217391304pt;'>asp.net</a> <a href='/index.php/tag/azure-2/' class='tag-link-321 tag-link-position-3' title='29 topics' style='font-size: 10.173913043478pt;'>azure</a> <a href='/index.php/tag/book/' class='tag-link-130 tag-link-position-4' title='26 topics' style='font-size: 9.7391304347826pt;'>book</a> <a href='/index.php/tag/business-intelligence-2/' class='tag-link-256 tag-link-position-5' title='30 topics' style='font-size: 10.260869565217pt;'>business intelligence</a> <a href='/index.php/tag/c/' class='tag-link-138 tag-link-position-6' title='40 topics' style='font-size: 11.304347826087pt;'>c#</a> <a href='/index.php/tag/database/' class='tag-link-134 tag-link-position-7' title='31 topics' style='font-size: 10.434782608696pt;'>database</a> <a href='/index.php/tag/excel/' class='tag-link-155 tag-link-position-8' title='16 topics' style='font-size: 8pt;'>excel</a> <a href='/index.php/tag/gotcha/' class='tag-link-240 tag-link-position-9' title='19 topics' style='font-size: 8.6086956521739pt;'>gotcha</a> <a href='/index.php/tag/how-to/' class='tag-link-272 tag-link-position-10' title='44 topics' style='font-size: 11.652173913043pt;'>how to</a> <a href='/index.php/tag/mongodb/' class='tag-link-765 tag-link-position-11' title='17 topics' style='font-size: 8.2608695652174pt;'>mongodb</a> <a href='/index.php/tag/nosql/' class='tag-link-775 tag-link-position-12' title='18 topics' style='font-size: 8.4347826086957pt;'>nosql</a> <a href='/index.php/tag/performance/' class='tag-link-179 tag-link-position-13' title='26 topics' style='font-size: 9.7391304347826pt;'>performance</a> <a href='/index.php/tag/security-2/' class='tag-link-398 tag-link-position-14' title='25 topics' style='font-size: 9.5652173913043pt;'>security</a> <a href='/index.php/tag/sql/' class='tag-link-132 tag-link-position-15' title='42 topics' style='font-size: 11.478260869565pt;'>sql</a> <a href='/index.php/tag/sql-advent-2012/' class='tag-link-1416 tag-link-position-16' title='18 topics' style='font-size: 8.4347826086957pt;'>sql advent 2012</a> <a href='/index.php/tag/sql-friday/' class='tag-link-377 tag-link-position-17' title='18 topics' style='font-size: 8.4347826086957pt;'>sql friday</a> <a href='/index.php/tag/sql-server/' class='tag-link-154 tag-link-position-18' title='145 topics' style='font-size: 16.086956521739pt;'>sql server</a> <a href='/index.php/tag/sql-server-2000/' class='tag-link-366 tag-link-position-19' title='45 topics' style='font-size: 11.739130434783pt;'>sql server 2000</a> <a href='/index.php/tag/sql-server-2005/' class='tag-link-327 tag-link-position-20' title='118 topics' style='font-size: 15.391304347826pt;'>sql server 2005</a> <a href='/index.php/tag/sql-server-2008/' class='tag-link-152 tag-link-position-21' title='237 topics' style='font-size: 18pt;'>sql server 2008</a> <a href='/index.php/tag/sql-server-2008-r2/' class='tag-link-548 tag-link-position-22' title='38 topics' style='font-size: 11.130434782609pt;'>sql server 2008 r2</a> <a href='/index.php/tag/sql-server-2012/' class='tag-link-1161 tag-link-position-23' title='76 topics' style='font-size: 13.739130434783pt;'>sql server 2012</a> <a href='/index.php/tag/ssis-2/' class='tag-link-501 tag-link-position-24' title='52 topics' style='font-size: 12.260869565217pt;'>ssis</a> <a href='/index.php/tag/ssms/' class='tag-link-640 tag-link-position-25' title='18 topics' style='font-size: 8.4347826086957pt;'>ssms</a> <a href='/index.php/tag/ssrs-2/' class='tag-link-557 tag-link-position-26' title='27 topics' style='font-size: 9.9130434782609pt;'>ssrs</a> <a href='/index.php/tag/syndicated/' class='tag-link-1407 tag-link-position-27' title='67 topics' style='font-size: 13.217391304348pt;'>syndicated</a> <a href='/index.php/tag/t-sql/' class='tag-link-185 tag-link-position-28' title='26 topics' style='font-size: 9.7391304347826pt;'>t-sql</a> <a href='/index.php/tag/tip/' class='tag-link-194 tag-link-position-29' title='46 topics' style='font-size: 11.826086956522pt;'>tip</a> <a href='/index.php/tag/unit-testing/' class='tag-link-162 tag-link-position-30' title='17 topics' style='font-size: 8.2608695652174pt;'>unit testing</a>	</p>
</div>		<div class="content-sidebar-section">
		<h2>Authors</h2>
			<ul class="author-list dimmed">
				<li><a href="/index.php/author/SQLDenis/" title="Posts by SQLDenis">SQLDenis</a> <a href="/index.php/author/SQLDenis/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (597)</li><li><a href="/index.php/author/onpnt/" title="Posts by Ted Krueger (onpnt)">Ted Krueger (onpnt)</a> <a href="/index.php/author/onpnt/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (355)</li><li><a href="/index.php/author/grrlgeek/" title="Posts by Jes Borland">Jes Borland</a> <a href="/index.php/author/grrlgeek/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (202)</li><li><a href="/index.php/author/tarwn/" title="Posts by Eli Weinstock-Herman (tarwn)">Eli Weinstock-Herman (tarwn)</a> <a href="/index.php/author/tarwn/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (190)</li><li><a href="/index.php/author/koenverbeeck/" title="Posts by Koen Verbeeck">Koen Verbeeck</a> <a href="/index.php/author/koenverbeeck/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (100)</li><li><a href="/index.php/author/alexcuse/" title="Posts by Alex Ullrich">Alex Ullrich</a> <a href="/index.php/author/alexcuse/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (55)</li><li><a href="/index.php/author/gmmastros/" title="Posts by George Mastros (gmmastros)">George Mastros (gmmastros)</a> <a href="/index.php/author/gmmastros/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (45)</li><li><a href="/index.php/author/axel8s/" title="Posts by Axel Achten (axel8s)">Axel Achten (axel8s)</a> <a href="/index.php/author/axel8s/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (28)</li><li><a href="/index.php/author/naomi/" title="Posts by Naomi Nosonovsky">Naomi Nosonovsky</a> <a href="/index.php/author/naomi/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (27)</li><li><a href="/index.php/author/thirster42/" title="Posts by David Forck (thirster42)">David Forck (thirster42)</a> <a href="/index.php/author/thirster42/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (24)</li><li><a href="/index.php/author/chopstik/" title="Posts by chopstik">chopstik</a> <a href="/index.php/author/chopstik/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (20)</li><li><a href="/index.php/author/kconan/" title="Posts by Kevin Conan">Kevin Conan</a> <a href="/index.php/author/kconan/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (18)</li><li><a href="/index.php/author/robearl/" title="Posts by Rob Earl">Rob Earl</a> <a href="/index.php/author/robearl/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (14)</li><li><a href="/index.php/author/thatrickguy/" title="Posts by ThatRickGuy">ThatRickGuy</a> <a href="/index.php/author/thatrickguy/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (12)</li><li><a href="/index.php/author/sqlarcher/" title="Posts by SQLArcher">SQLArcher</a> <a href="/index.php/author/sqlarcher/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (11)</li>                <li><a href="http://lessthandot.com/Stats/BlogAuthors.php">More...</a></li>
			</ul>
		</div>
				<div class="content-sidebar-section">
		<h2>Categories</h2>
			<ul class="categories-list">
					<li class="cat-item cat-item-10"><a href="/index.php/category/all/" >All Blogs</a>
</li>
	<li class="cat-item cat-item-5"><a href="/index.php/category/architect/" >Architecture, Design and Strategy</a>
</li>
	<li class="cat-item cat-item-1759"><a href="/index.php/category/artificial-intelligence/" >Artificial Intelligence</a>
</li>
	<li class="cat-item cat-item-6"><a href="/index.php/category/datamgmt/" >Data Management</a>
</li>
	<li class="cat-item cat-item-7"><a href="/index.php/category/desktopdev/" >Desktop Developer</a>
</li>
	<li class="cat-item cat-item-8"><a href="/index.php/category/enterprisedev/" >Enterprise Developer</a>
</li>
	<li class="cat-item cat-item-11"><a href="/index.php/category/itprofessionals/" >IT Professionals</a>
</li>
	<li class="cat-item cat-item-12"><a href="/index.php/category/itstudents/" >IT Students and Researchers</a>
</li>
	<li class="cat-item cat-item-1743"><a href="/index.php/category/management/" >Management</a>
</li>
	<li class="cat-item cat-item-9"><a href="/index.php/category/sysadmins/" >System Admins</a>
</li>
	<li class="cat-item cat-item-1"><a href="/index.php/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-4"><a href="/index.php/category/webdev/" >Web Developer</a>
</li>
			</ul>
		</div>
		</div><div class="content-main">
				<div class="post-navigation">
				<div class="post-navigation-forward"><a href="/index.php/datamgmt/dbadmin/sql-server-dba-tip-1/" rel="next">SQL Server DBA Tip 1 &#8211; Server Configuration ‚Äì MAX Memory</a> &raquo; </div>
				<div class="post-navigation-back">&laquo; <a href="/index.php/datamgmt/dbprogramming/mssqlserver/spatial-data-from-your-iphone/" rel="prev">Spatial Data From Your iPhone</a></div>
			</div>
			<div class="post-area instapaper_body">
				<div class="post-title-line">
										<h1 class="instapaper_ignore"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/" class="post-title">SQL Server Filegroups: The What, The Why and The How</a></h1>
					<div class="post-byline">by <a href="/index.php/author/grrlgeek/" title="Posts by Jes Borland" rel="author">Jes Borland</a> on April 26, 2011 in category <a href="/index.php/category/datamgmt/dbadmin/" rel="category tag">Database Administration</a> <a href="/index.php/category/datamgmt/dbadmin/mssqlserveradmin/" rel="category tag">Microsoft SQL Server Admin</a>. Article views: 46,631 </div>
				</div>
				<div class="post-tagline"><a href="https://twitter.com/intent/tweet?url=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/&text=RT @LessThanDot Blog - SQL Server Filegroups: The What, The Why and The How by @grrl_geek" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/&title=SQL Server Filegroups: The What, The Why and The How&source=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/&title=SQL Server Filegroups: The What, The Why and The How" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/&quote=SQL Server Filegroups: The What, The Why and The How" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/&title=SQL Server Filegroups: The What, The Why and The How" class="instapaper_button">Instapaper</a></div>

				<div class="post-content"><p>I once had a boss whose desk looked something like this: </p>
<div class="image_block"><a href="/wp-content/uploads/users/grrlgeek/messy-desk.jpg?mtime=1303781099"><img alt="" src="/wp-content/uploads/users/grrlgeek/messy-desk.jpg?mtime=1303781099" width="310" height="232" /></a></div>
<p><em>Shudder.</em> I like things organized, from the files on my desk to the files in my database. There&#8217;s a mechanism in SQL Server to help you separate and organize files: filegroups. </p>
<p><strong>What is a Filegroup? </strong></p>
<p>A filegroup is a logical structure to group objects in a database. Don‚Äôt confuse filegroups with actual files (.mdf, .ddf, .ndf, .ldf, etc.). You can have multiple filegroups per database. One filegroup will be the primary, and all system tables are stored on it. Then, you add additional filegroups. You can specify one filegroup as the default, and objects not specifically assigned to a filegroup will exist in the default. In a filegroup, you can have multiple files. </p>
<p align = "center"><img src="/wp-content/uploads/users/grrlgeek/Filegroup.jpg?mtime=1303779237" alt="" title="" /> </p>
<p>Only data files can be assigned to filegroups. Log space is managed separately from data space. </p>
<p><strong>Why Should I Create Multiple Filegroups?</strong> </p>
<p>There are two primary reasons for creating filegroups: performance and recovery. </p>
<p>Filegroups that contain files created on specific disks can alleviate disk performance issues. For example, you may have one very large table in your database with a lot of read and write activity ‚Äì an orders table, perhaps. You can create a filegroup, create a file in the filegroup, and then move a table to the filegroup by moving the clustered index. (I‚Äôll cover how to do this later in this post.) If the file is created on a disk separate from other files, you are going to have better performance. This is similar to the logic behind separating data and log files in a database. Performance improves when you spread files across multiple disks because you have multiple heads reading and writing, rather than one doing all the work. </p>
<p>Filegroups can be backed up and restored separately as well. This can enable faster object recovery in the case of a disaster. It can also help the administration of large databases.  </p>
<p><strong>How Do I Create Multiple Filegroups?</strong> </p>
<p>If you are creating a new database, you can specify the filegroups in the CREATE DATABASE statement. </p>
<p>Here, I will create a database named FilegroupTest. It has two filegroups, <strong>PRIMARY </strong>and <strong>FGTestFG2</strong>. There are two data files, <strong>FGTest1_dat</strong>, assigned to <strong>PRIMARY</strong>; and <strong>FGTest2_dat</strong>, assigned to <strong>FGTestFG2</strong>. </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="de1"><pre class="de1"><span class="kw1">CREATE</span> <span class="kw1">DATABASE</span> FilegroupTest 
<span class="kw1">ON</span> <span class="kw1">PRIMARY</span> 
<span class="br0">&#40;</span>NAME <span class="sy0">=</span> FGTest1_dat, 
&nbsp;FILENAME <span class="sy0">=</span> <span class="st0">'C:Program FilesMicrosoft SQL ServerMSSQL10_50.MSSQLSERVERMSSQLDATAFGTest1_dat.mdf'</span><span class="br0">&#41;</span>, 
FILEGROUP FGTestFG2 
<span class="br0">&#40;</span>NAME <span class="sy0">=</span> FGTest2_dat, 
&nbsp;FILENAME <span class="sy0">=</span> <span class="st0">'C:Program FilesMicrosoft SQL ServerMSSQL10_50.MSSQLSERVERMSSQLDATAFGTest2_dat.mdf'</span><span class="br0">&#41;</span> 
<span class="kw2">LOG</span> <span class="kw1">ON</span> 
<span class="br0">&#40;</span>NAME <span class="sy0">=</span> FGTest_log, 
&nbsp;FILENAME <span class="sy0">=</span> <span class="st0">'C:Program FilesMicrosoft SQL ServerMSSQL10_50.MSSQLSERVERMSSQLDATAFGTest_log.ldf'</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">CREATE DATABASE FilegroupTest 
ON PRIMARY 
(NAME = FGTest1_dat, 
 FILENAME = 'C:Program FilesMicrosoft SQL ServerMSSQL10_50.MSSQLSERVERMSSQLDATAFGTest1_dat.mdf'), 
FILEGROUP FGTestFG2 
(NAME = FGTest2_dat, 
 FILENAME = 'C:Program FilesMicrosoft SQL ServerMSSQL10_50.MSSQLSERVERMSSQLDATAFGTest2_dat.mdf') 
LOG ON 
(NAME = FGTest_log, 
 FILENAME = 'C:Program FilesMicrosoft SQL ServerMSSQL10_50.MSSQLSERVERMSSQLDATAFGTest_log.ldf')</pre></div></div>

<p>If you have an existing database, use can use the ALTER DATABASE statement to add a filegroup. I‚Äôm going to add <strong>FGTestFG3 </strong>to <strong>FilegroupTest</strong>. </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
</pre></td><td class="de1"><pre class="de1"><span class="kw1">ALTER</span> <span class="kw1">DATABASE</span> FilegroupTest 
<span class="kw1">ADD</span> FILEGROUP FGTestFG3</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">ALTER DATABASE FilegroupTest 
ADD FILEGROUP FGTestFG3</pre></div></div>

<p>I can view the filegroups in a database using sys.filegroups. </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
</pre></td><td class="de1"><pre class="de1"><span class="kw1">USE</span> FilegroupTest;
GO
<span class="kw1">SELECT</span> <span class="sy0">*</span> 
<span class="kw1">FROM</span> sys.<span class="me1">filegroups</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">USE FilegroupTest;
GO
SELECT * 
FROM sys.filegroups</pre></div></div>

<div class="image_block"><a href="/wp-content/uploads/users/grrlgeek/sysfilegroups.JPG?mtime=1303779715"><img alt="" src="/wp-content/uploads/users/grrlgeek/sysfilegroups.JPG?mtime=1303779715" width="805" height="113" /></a></div>
<p>To create a new file, <strong>FGTest3_dat</strong>, and assign it to <strong>FGTestFG3</strong>, I‚Äôll use ALTER DATABASE again. </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
</pre></td><td class="de1"><pre class="de1"><span class="kw1">ALTER</span> <span class="kw1">DATABASE</span> FilegroupTest 
<span class="kw1">ADD</span> <span class="kw1">FILE</span> 
<span class="br0">&#40;</span>NAME <span class="sy0">=</span> FGTest3_dat, 
&nbsp;FILENAME <span class="sy0">=</span> <span class="st0">'C:Program FilesMicrosoft SQL ServerMSSQL10_50.MSSQLSERVERMSSQLDATAFGTest3_dat.mdf'</span><span class="br0">&#41;</span> 
<span class="kw1">TO</span> FILEGROUP FGTestFG3</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">ALTER DATABASE FilegroupTest 
ADD FILE 
(NAME = FGTest3_dat, 
 FILENAME = 'C:Program FilesMicrosoft SQL ServerMSSQL10_50.MSSQLSERVERMSSQLDATAFGTest3_dat.mdf') 
TO FILEGROUP FGTestFG3</pre></div></div>

<p>Right now, my PRIMARY filegroup is the default filegroup. I can change that to <strong>FGTestFG3 </strong>using ALTER DATABASE. </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
</pre></td><td class="de1"><pre class="de1"><span class="kw1">ALTER</span> <span class="kw1">DATABASE</span> FilegroupTest 
<span class="kw1">MODIFY</span> FILEGROUP FGTestFG3 <span class="kw1">DEFAULT</span> &nbsp;</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">ALTER DATABASE FilegroupTest 
MODIFY FILEGROUP FGTestFG3 DEFAULT  </pre></div></div>

<p>When I re-run my sys.filegroups query, is_default value has changed. </p>
<div class="image_block"><a href="/wp-content/uploads/users/grrlgeek/sysfilegroups2.JPG?mtime=1303779975"><img alt="" src="/wp-content/uploads/users/grrlgeek/sysfilegroups2.JPG?mtime=1303779975" width="804" height="113" /></a></div>
<p><strong>How Do I Move An Object to a Different Filegroup?</strong> </p>
<p>You can move a table from one filegroup to another, provided the table has a clustered index on it. </p>
<p>Note: You can move a heap (a table with no clustered index). To do so, you would create an index, move it, and drop the index. </p>
<p>First, I create a table with no indexes. </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
</pre></td><td class="de1"><pre class="de1"><span class="kw1">CREATE</span> <span class="kw1">TABLE</span> StuffAndJunk
<span class="br0">&#40;</span>StuffHere <span class="kw1">INT</span> <span class="sy0">NOT</span> <span class="sy0">NULL</span>, 
&nbsp;JunkHere <span class="kw1">INT</span> <span class="sy0">NOT</span> <span class="sy0">NULL</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">CREATE TABLE StuffAndJunk
(StuffHere INT NOT NULL, 
 JunkHere INT NOT NULL)</pre></div></div>

<p>I can use sp_help to see which filegroup this was created on. It was created on the default, <strong>FGTestFG3</strong>. </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
</pre></td><td class="de1"><pre class="de1"><span class="kw1">exec</span> <span class="kw3">sp_help</span> <span class="st0">'dbo.StuffAndJunk'</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">exec sp_help 'dbo.StuffAndJunk'</pre></div></div>

<div class="image_block"><a href="/wp-content/uploads/users/grrlgeek/sphelp.JPG?mtime=1303780300"><img alt="" src="/wp-content/uploads/users/grrlgeek/sphelp.JPG?mtime=1303780300" width="689" height="314" /></a></div>
<p>I can also return this information using the sys.filegroups, sys.allocation_units and sys.partitions tables. </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> PA.<span class="kw2">object_id</span>, FG.<span class="me1">name</span> 
<span class="kw1">FROM</span> sys.<span class="me1">filegroups</span> FG 
&nbsp; &nbsp; <span class="kw1">INNER</span> <span class="sy0">JOIN</span> sys.<span class="me1">allocation_units</span> AU <span class="kw1">ON</span> AU.<span class="me1">data_space_id</span> <span class="sy0">=</span> FG.<span class="me1">data_space_id</span> 
&nbsp; &nbsp; <span class="kw1">INNER</span> <span class="sy0">JOIN</span> sys.<span class="me1">partitions</span> PA <span class="kw1">ON</span> PA.<span class="me1">partition_id</span> <span class="sy0">=</span> AU.<span class="me1">container_id</span> 
<span class="kw1">WHERE</span> PA.<span class="kw2">object_id</span> <span class="sy0">=</span> 
&nbsp; &nbsp; <span class="br0">&#40;</span><span class="kw1">SELECT</span> <span class="kw2">object_id</span><span class="br0">&#40;</span>N<span class="st0">'FilegroupTest.dbo.StuffAndJunk'</span><span class="br0">&#41;</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT PA.object_id, FG.name 
FROM sys.filegroups FG 
	INNER JOIN sys.allocation_units AU ON AU.data_space_id = FG.data_space_id 
	INNER JOIN sys.partitions PA ON PA.partition_id = AU.container_id 
WHERE PA.object_id = 
	(SELECT object_id(N'FilegroupTest.dbo.StuffAndJunk'))</pre></div></div>

<div class="image_block"><a href="/wp-content/uploads/users/grrlgeek/objectid1.JPG?mtime=1303780416"><img alt="" src="/wp-content/uploads/users/grrlgeek/objectid1.JPG?mtime=1303780416" width="215" height="78" /></a></div>
<p>I cannot move the table only. That is simply not part of the ALTER TABLE syntax. According to <a href="http://msdn.microsoft.com/en-us/library/ms190273.aspx">BOL</a>, MOVE TO ‚ÄúSpecifies a location to move the data rows currently in the leaf level of the clustered index.‚Äù  </p>
<p>Note: It is possible to create a table in a secondary filegroup, move the data from the first filegroup to the second, and then drop the table from the primary. Be aware that these types of operations cause a high level of transaction log entries.  Ensure that the transaction log is properly sized to prevent a large amount of growth in the logs or inadvertently affect things that rely on the transaction logs such as log shipping or mirroring. </p>
<p>I‚Äôm going to add a clustered index to the table. When I do this, I specify which filegroup I want it created on. I create <strong>StuffJunk </strong>on <strong>FGTestFG2</strong>. </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
</pre></td><td class="de1"><pre class="de1"><span class="kw1">CREATE</span> <span class="kw1">CLUSTERED</span> <span class="kw1">INDEX</span> StuffJunk 
&nbsp; &nbsp; <span class="kw1">ON</span> StuffAndJunk <span class="br0">&#40;</span>StuffHere, JunkHere<span class="br0">&#41;</span> 
&nbsp; &nbsp; <span class="kw1">ON</span> FGTestFG2</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">CREATE CLUSTERED INDEX StuffJunk 
	ON StuffAndJunk (StuffHere, JunkHere) 
	ON FGTestFG2</pre></div></div>

<p>If I run my sys.filegroups query again, I can see I have the same object_id, but it has moved to a different filegroup. </p>
<div class="image_block"><a href="/wp-content/uploads/users/grrlgeek/objectid2.JPG?mtime=1303780550"><img alt="" src="/wp-content/uploads/users/grrlgeek/objectid2.JPG?mtime=1303780550" width="208" height="83" /></a></div>
<p>How would I move a table with an existing clustered index? Let‚Äôs move <strong>StuffAndJunk</strong> back to <strong>FGTestFG3</strong>.  I would issue a create clustered index command with the option to drop existing, like this. </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
</pre></td><td class="de1"><pre class="de1"><span class="kw1">CREATE</span> <span class="kw1">CLUSTERED</span> <span class="kw1">INDEX</span> StuffJunk 
&nbsp; &nbsp; <span class="kw1">ON</span> StuffAndJunk <span class="br0">&#40;</span>StuffHere, JunkHere<span class="br0">&#41;</span> 
&nbsp; &nbsp; <span class="kw1">WITH</span> <span class="br0">&#40;</span>DROP_EXIST<span class="sy0">IN</span>G <span class="sy0">=</span> <span class="kw1">ON</span><span class="br0">&#41;</span>
&nbsp; &nbsp; <span class="kw1">ON</span> FGTestFG3</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">CREATE CLUSTERED INDEX StuffJunk 
	ON StuffAndJunk (StuffHere, JunkHere) 
	WITH (DROP_EXISTING = ON)
	ON FGTestFG3</pre></div></div>

<p>Re-running my sys.filegroups query shows that the index, and thus the data and table, are on <strong>FGTestFG3</strong>. </p>
<div class="image_block"><a href="/wp-content/uploads/users/grrlgeek/objectid3.JPG?mtime=1303780648"><img alt="" src="/wp-content/uploads/users/grrlgeek/objectid3.JPG?mtime=1303780648" width="218" height="74" /></a></div>
<p><strong>Organize, Organize, Organize! </strong> </p>
<p>Help your databases look like this:</p>
<div class="image_block"><a href="/wp-content/uploads/users/grrlgeek/organized-filing-cabinet.jpg?mtime=1303781231"><img alt="" src="/wp-content/uploads/users/grrlgeek/organized-filing-cabinet.jpg?mtime=1303781231" width="336" height="448" /></a></div>
<p>Filegroups are a great way to organize your data, increasing performance and providing additional disaster recovery. If you can do this in the planning stages, it‚Äôs great, but be aware that you can add filegroups in later, too.</p>
<div class='rp4wp-related-posts'>
<h3>Related Posts</h3>
<ul>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/dbadmin/sql-server-filegroup-piecemeal-restores-1/'>SQL Server Filegroup Piecemeal Restores</a><p>Learn how to use multiple filegroups to perform partial restores in a SQL Server database.</p></div>
</li>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/datadesign/location-of-files-for-new/'>Location of files for new database in SQL Server</a><p>The following question was asked I've got a sql server that's set up to have&hellip;</p></div>
</li>
</ul>
</div>
</div>
				<div class="post-author">
					<div class="userInfo"><h2>About the Author</h2><img class="bioPic" src="/wp-content/uploads/2014/03/IMG_8755-300x300.jpg" alt="User bio image"/>Jes Borland is a Premier Field Engineer - SQL Server for Microsoft, where she is a trusted technical adviser, deep technical support, and teacher for her customers. Her experience as a DBA, consultant, and 5-time Data Platform MVP allow her to help the business and the IT teams reach their goals. She has worked with SQL Server as a developer, report writer, DBA, and consultant. Her favorite topics are administration, automation, and performance. She frequently presents at user groups, SQL Saturdays, and other community events. She is also an avid runner and chef.
<br style="clear: left" /><div class="bioSoc"><span class="bioSocTitle">Social Sitings</span><a href="http://twitter.com/grrl_geek" title="grrlgeek at Twitter" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Twitter" /></a><a href="http://www.linkedin.com/pub/jes-schultz-borland/9/393/705" title="grrlgeek at LinkedIn" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="LinkedIn" /></a><a href="/index.php/author/grrlgeek/feed/" title="Blog RSS feed for grrlgeek" class="bioSocLink"><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="LTD RSS Feed" /></a></div></div>				</div>
				<div class="post-foot instapaper_ignore">
					<div class="post-tagline">
						<div class="post-foot-views"><label>Article views:</label> 46,631 </div>
						<div class="post-foot-more-posts">
                            <a href="/index.php/author/grrlgeek/">Read More Posts by Jes Borland</a>
						</div>
					</div>
					<div>
						 
					</div>
					<div class="post-tagline" style="height: auto">
						<span class="social-button-label">Share:</span><a href="https://twitter.com/intent/tweet?url=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/&text=RT @LessThanDot Blog - SQL Server Filegroups: The What, The Why and The How by @grrl_geek" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/&title=SQL Server Filegroups: The What, The Why and The How&source=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/&title=SQL Server Filegroups: The What, The Why and The How" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/&quote=SQL Server Filegroups: The What, The Why and The How" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/&title=SQL Server Filegroups: The What, The Why and The How" class="instapaper_button">Instapaper</a>					</div>			
				</div>
				<div class="comments-area instapaper_ignore">
	<h4 class="comments-title">
		11 Comments	</h4>
			<ol class="comments-list">
					<li class="comment byuser comment-author-SQLDenis even thread-even depth-1" id="comment-4170">
				<div id="div-comment-4170" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/7a49149d4d4b9242348b95a2c561c20d?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/7a49149d4d4b9242348b95a2c561c20d?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">SQLDenis</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#comment-4170">
			April 26, 2011 at 7:04 am</a>		</div>

		<p>Good post!!</p>
<p>In general I will create non clustered indexes on a different file group than the one that the heap/clustered table is created on..of course placed on a different spindle</p>
<p>
Of course I always get a chuckle when people try to place the clustered index on a different file group than the base table&#8230;you know what will happen</p>
<p></p>
<blockquote><p>A filegroup is a logical structure to group objects in a database</p></blockquote>
<p>
So is a schema  üôÇ</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?replytocom=4170#respond' onclick='return addComment.moveForm( "div-comment-4170", "4170", "respond", "1141" )' aria-label='Reply to SQLDenis'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-brian78 odd alt thread-odd thread-alt depth-1" id="comment-4171">
				<div id="div-comment-4171" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/7a0dfd0ac86899e49826bbdbb23b521a?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/7a0dfd0ac86899e49826bbdbb23b521a?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Brian Davis</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#comment-4171">
			April 26, 2011 at 7:43 am</a>		</div>

		<p>Great write up Jes!</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?replytocom=4171#respond' onclick='return addComment.moveForm( "div-comment-4171", "4171", "respond", "1141" )' aria-label='Reply to Brian Davis'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-thirster42 even thread-even depth-1" id="comment-4172">
				<div id="div-comment-4172" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/026f3abfbd6ac89b6dbabbd4cef2e83d?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/026f3abfbd6ac89b6dbabbd4cef2e83d?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">David Forck (thirster42)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#comment-4172">
			April 26, 2011 at 7:44 am</a>		</div>

		<p>Great post Jes!</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?replytocom=4172#respond' onclick='return addComment.moveForm( "div-comment-4172", "4172", "respond", "1141" )' aria-label='Reply to David Forck (thirster42)'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-4173">
				<div id="div-comment-4173" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/468f235c75878fee5c25eec29c70b4ea?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/468f235c75878fee5c25eec29c70b4ea?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn"><a href='http://www.troubleshootingsql.com/' rel='external nofollow' class='url'>Amit Banerjee</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#comment-4173">
			April 26, 2011 at 10:24 am</a>		</div>

		<p>Good post Jes!</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?replytocom=4173#respond' onclick='return addComment.moveForm( "div-comment-4173", "4173", "respond", "1141" )' aria-label='Reply to Amit Banerjee'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-4174">
				<div id="div-comment-4174" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/3d4134010f571c843d45f3fc1dfeca3a?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/3d4134010f571c843d45f3fc1dfeca3a?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn"><a href='http://tenbulls.co.uk/' rel='external nofollow' class='url'>Mark Broadbent</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#comment-4174">
			April 26, 2011 at 2:34 pm</a>		</div>

		<p>Good post. The availability you touch upon is particularly relevant in SQL Enterprise edition where it will allow for partial availability and piecemeal restore. Best practice dictates that the Primary filegroup should only be used for system objects so any user objects ideally should be created on additional filegroups. I&#8217;m sure you already know all this Jes but thought I&#8217;d add it for the benefit of your readers.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?replytocom=4174#respond' onclick='return addComment.moveForm( "div-comment-4174", "4174", "respond", "1141" )' aria-label='Reply to Mark Broadbent'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-grrlgeek bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-4175">
				<div id="div-comment-4175" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/9a2d253ad20c63844964e14d3571d431?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9a2d253ad20c63844964e14d3571d431?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Jes Schultz Borland (grrlgeek)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#comment-4175">
			April 26, 2011 at 3:00 pm</a>		</div>

		<p>Thanks guys! </p>
<p>Denis &#8211; I agree, schemas are another logical organizer. The difference is that users see schemas, whereas filegroups are really an internal structure that users wouldn&#8217;t worry about (other than creating objects on the correct one). </p>
<p>Mark &#8211; thanks for the great points! I will probably do a filegroup backup/restore post in the near future, since that is a great topic.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?replytocom=4175#respond' onclick='return addComment.moveForm( "div-comment-4175", "4175", "respond", "1141" )' aria-label='Reply to Jes Schultz Borland (grrlgeek)'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-4177">
				<div id="div-comment-4177" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/203a4c2fcddc50c96f42ee5a6204146d?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/203a4c2fcddc50c96f42ee5a6204146d?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Dilip</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#comment-4177">
			July 13, 2011 at 12:33 am</a>		</div>

		<p>great post.</p>
<p>When we create a new database inside the SQL Server, it is typical that SQl Server creates two physical files in the Operating System: one with .MDF Extension, and another with .LDF Extension.</p>
<p>If you add one or more data files to a database, the physical file that will be created in the Operating System will have an extension of .NDF, which is called as Secondary Data File;</p>
<p>but in your script it is .mdf extension for Secondary file,can u please clarify on that.Which will be beter option?</p>
<p>I am planning to design a database which has<br />
&#8211;> read only data<br />
&#8211;> read and write data(booking table,customer table)<br />
&#8211;> log data (deleting the data after 4 months)<br />
&#8211;> system data(some user configuration settings for running the application)</p>
<p>the last one would be primary file group  and other three would be secondary filegroup.</p>
<p>Is it a good design and also how to backup the DB with this design</p>
<p>Thank you<br />
with regards<br />
Dilip D</p>
<p></p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?replytocom=4177#respond' onclick='return addComment.moveForm( "div-comment-4177", "4177", "respond", "1141" )' aria-label='Reply to Dilip'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-grrlgeek bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-4178">
				<div id="div-comment-4178" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/9a2d253ad20c63844964e14d3571d431?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9a2d253ad20c63844964e14d3571d431?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Jes Schultz Borland (grrlgeek)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#comment-4178">
			July 13, 2011 at 6:48 am</a>		</div>

		<p>Dilip &#8211; the .mdf, .ndf, .ddf and .ldf file extensions are recommended extensions, but not required. You could place any extension on the files. The best thing you can do is create a standard for your environment, and stick to that standard. </p>
<p>For reference: <a href="http://msdn.microsoft.com/en-us/library/ms179316.aspx" rel="nofollow">http://msdn.microsoft.com/en-us/library/ms179316.aspx</a>.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?replytocom=4178#respond' onclick='return addComment.moveForm( "div-comment-4178", "4178", "respond", "1141" )' aria-label='Reply to Jes Schultz Borland (grrlgeek)'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-4176">
				<div id="div-comment-4176" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/2391084c0ded1ae9515b6a9730ad75aa?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/2391084c0ded1ae9515b6a9730ad75aa?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Russ</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#comment-4176">
			January 30, 2012 at 11:08 am</a>		</div>

		<p>Great post, thanks!! </p>
<p>We should mention &#8220;The trouble with Text Filegroups&#8221; though.. lol &#8230; if you have EVER had a varchar(max), text, ntext or image datatype in the table, sql server will fill in the Text Filegroup to the default filegroup, usually PRIMARY. If someone then just deletes that field later, the property field will not be changed. Changing the datatype of the offending field will null the property correctly. </p>
<p>So, if you try to do the filegroup switch, even if you no longer have one of those datatypes in your table, that property for the table(text filegroup) is still filled in, which can cause script issues if doing the switch via scritping. </p>
<p>Is this fixed in any new release/patch that anyone is aware of?</p>
<p>Thanks!</p>
<p>Russ</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?replytocom=4176#respond' onclick='return addComment.moveForm( "div-comment-4176", "4176", "respond", "1141" )' aria-label='Reply to Russ'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-4179">
				<div id="div-comment-4179" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/6659ab03a9962f01653a22413a86862d?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/6659ab03a9962f01653a22413a86862d?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn"><a href='http://www.travisrunyard.com/' rel='external nofollow' class='url'>Travis Runyard</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#comment-4179">
			December 5, 2012 at 12:50 am</a>		</div>

		<p>Hi Jes,<br />
If you have existing non-clustered indexes on the table you are moving, will they be moved as well?<br />
Thanks a lot for your post, much appreciated.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?replytocom=4179#respond' onclick='return addComment.moveForm( "div-comment-4179", "4179", "respond", "1141" )' aria-label='Reply to Travis Runyard'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-grrlgeek bypostauthor even thread-even depth-1" id="comment-4180">
				<div id="div-comment-4180" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/9a2d253ad20c63844964e14d3571d431?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9a2d253ad20c63844964e14d3571d431?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Jes Schultz Borland (grrlgeek)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#comment-4180">
			December 5, 2012 at 7:40 am</a>		</div>

		<p>Travis &#8211; no, nonclustered indexes are separate objects, and those would need to be moved separately.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/?replytocom=4180#respond' onclick='return addComment.moveForm( "div-comment-4180", "4180", "respond", "1141" )' aria-label='Reply to Jes Schultz Borland (grrlgeek)'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol>
						<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/index.php/datamgmt/dbadmin/sql-server-filegroups-the-what/#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='1141' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><input type="hidden" id="killer_value" name="killer_value" value="7fa732b517cbed14a48843d74526c11a"/><noscript>Sorry, but you are required to use a javascript enabled brower to comment here.</noscript>				</form>
					</div><!-- #respond -->
		</div>			</div>
				<br style="clear: both;" />
</div>
		</div>
		<div id="page-footer">
			<div id="botnav"><a href="http://lessthandot.com/" title="LessThanDot Launchpad">Launchpad</a> | <a href="http://lessthandot.com/account.php" title="Your Account Settings">My Account</a> | <a href="http://lessthandot.com/statistics.php" title="Statistics">Statistics</a> | <a href="http://lessthandot.com/donate.php" title="Donate">Donate</a> | <a href="http://lessthandot.com/contactus.php" title="Contact Us">Contact Us</a> | <a href="http://lessthandot.com/aboutus.php" title="About the LessThanDot Team">&copy;2008 - 2019 LessThanDot, LLC</a></div>

		<script type='text/javascript'>
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-4471405-1']);
		_gaq.push(['_trackPageview']);
		_gaq.push(['_setCustomVar', 1, 'Environment', 'lessthandot.com', 3]);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	  </script>			<div class="validator"><a href="http://validator.w3.org/check?uri=referer">Valid XHTML</a> | <a href="http://jigsaw.w3.org/css-validator/check/referer" title="Validate the CSS for this page at the W3C website">Valid CSS</a> | 2018-11-11 15:52</div>
		</div>
	</div>
</div>
<!-- <script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script> -->
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var spam_destroyer = {"key":"159ff9dcc225580310c2de238cdd1f1a","lifetime":"3600","limit":"1552765883"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/spam-destroyer/kill.js?ver=1.2'></script>
</body>
</html>
