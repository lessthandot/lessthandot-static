<!DOCTYPE html>
<html lang="en-US">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
		<link rel="shortcut icon" href="http://lessthandot.com/favicon.ico" type="image/vnd.microsoft.icon" />
	<title>Less Than Dot - Blog -   Merge Replication – Filtered Data Publication Setup</title>
	<meta prefix="og: http://ogp.me/ns#" property="og:title" content="Less Than Dot - Blog -   Merge Replication – Filtered Data Publication Setup" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:url" content="/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/" />
		<meta prefix="og: http://ogp.me/ns#" property="og:image" content="http://lessthandot.com/images/logo_prod.png" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="LessThanDot" />
	<meta prefix="og: http://ogp.me/ns#" property="og:description" content="This article will show you how to use two methods in order to restrict the amount of data that is needed in a Merge Replication setup:  Join and Parameterized Filters.Join Filters are exactly what they sound like.  If a Join Filter is configured in a&hellip;" />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/index.php/feed/" />
	<link rel="alternate" type="application/atom+xml" title="Atom" href="/index.php/feed/atom/" />

	<!-- this page is the canonical URL -->	
	<link rel="stylesheet" href="/wp-content/themes/lessthandot2009/style.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsite.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsiteprint.css" media="print" type="text/css" />

	<link rel='dns-prefetch' href='//ajax.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="LessthanDot &raquo; Merge Replication – Filtered Data Publication Setup Comments Feed" href="/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.1"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='bwp-syntax-css'  href='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/css/bwp-syntax-global.css?ver=4.6.1' type='text/css' media='all' />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/js/bwp-syntax.js?ver=4.6.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Row-Level and Column-Level tracking in Merge Replication' href='/index.php/datamgmt/dbadmin/row-level-and-column-level/' />
<link rel='next' title='Handling Unauthenticated AJAX Requests' href='/index.php/webdev/uidevelopment/handling-unauthenticated-ajax-requests/' />
<meta name="generator" content="WordPress 4.6.1" />
<link rel="canonical" href="/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/" />
<link rel='shortlink' href='/?p=1528' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fdatamgmt%2Fdbadmin%2Fmerge-replication-filtered-data-publication%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fdatamgmt%2Fdbadmin%2Fmerge-replication-filtered-data-publication%2F&#038;format=xml" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
	<script src="http://lessthandot.com/includes/allsite.js" type="text/javascript" ></script>
</head>
<body>
<div id="contain"><div id="subcontain"><div id="ttl"><div id="hdr"><div id="snav"><a href="http://lessthandot.com/login.php?backtrack=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/?">Member Login</a>
</div><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="logoc"><img src="http://lessthandot.com/images/logo_prod.png" alt="LessThanDot Site Logo" border="0" /></a><h1>LessThanDot</h1><div class="pgsttl">A decade of helpful technical content</div></div><div id="nav">
<ul>
<li><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="h" ><span>Launchpad</span></a></li>
<li class="cur"><a href="/" title="LessThanDot Blogs" id="b" ><span>Blogs</span></a></li>
<li><a href="http://forum.lessthandot.com/" title="LessThanDot Community Forums" id="f" ><span>Forum</span></a></li>
<li><a href="http://wiki.lessthandot.com/" title="LessThanDot Wiki Articles" id="w" ><span>Wiki</span></a></li>
<li><a href="http://sqlcop.lessthandot.com/" title="LessThanDot SQLCop" id="a" ><span>SQLCop</span></a></li>
<li><a href="http://lessthandot.com/account.php" title="Your Account Settings" id="r"  class="l_ie"><span>My Account</span></a></li></ul></div>
</div><div id="content">
<div id="fac"><div id="fa">
		<p>Less Than Dot is a community of passionate IT professionals and enthusiasts dedicated to sharing technical knowledge, experience, and assistance. Inside you will find reference materials, interesting technical discussions, and expert tips and commentary.</p></div></div><div class="content-sidebar">
	<div id="social" class="sdsec">
		<h2>LTD Social Sitings</h2>
		<div>
		<a id="social_twitter" href="http://twitter.com/LessThanDot/" title="Follow us on Twitter" ><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Lessthandot twitter"/></a> 
		<a href="http://www.linkedin.com/groups?home=&amp;gid=113440" title="Join us on LinkedIn" ><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="Lessthandot Linkedin" /></a> 
		<a href="http://www.facebook.com/group.php?gid=19330511063" title="Join us on Facebook" ><img src="http://lessthandot.com/images/bdg_facebook.png" alt="Lessthandot facebook"/></a> 
		<a href="http://lessthandot.com/rss.php" title="LessThanDot News Feed" ><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="Lessthandot rss"/></a> 
		</div>
		<p><em>Note: Watch for social icons on posts by your favorite authors to follow their postings on these and other social sites.</em></p>
	</div><div class="content-sidebar-section">
<h2>Tag cloud</h2>
	<p class="tag-cloud">
		<a href='/index.php/tag/net/' class='tag-link-245 tag-link-position-1' title='21 topics' style='font-size: 8.9565217391304pt;'>.net</a> <a href='/index.php/tag/asp-net/' class='tag-link-168 tag-link-position-2' title='21 topics' style='font-size: 8.9565217391304pt;'>asp.net</a> <a href='/index.php/tag/azure-2/' class='tag-link-321 tag-link-position-3' title='29 topics' style='font-size: 10.173913043478pt;'>azure</a> <a href='/index.php/tag/book/' class='tag-link-130 tag-link-position-4' title='26 topics' style='font-size: 9.7391304347826pt;'>book</a> <a href='/index.php/tag/business-intelligence-2/' class='tag-link-256 tag-link-position-5' title='30 topics' style='font-size: 10.260869565217pt;'>business intelligence</a> <a href='/index.php/tag/c/' class='tag-link-138 tag-link-position-6' title='40 topics' style='font-size: 11.304347826087pt;'>c#</a> <a href='/index.php/tag/database/' class='tag-link-134 tag-link-position-7' title='31 topics' style='font-size: 10.434782608696pt;'>database</a> <a href='/index.php/tag/excel/' class='tag-link-155 tag-link-position-8' title='16 topics' style='font-size: 8pt;'>excel</a> <a href='/index.php/tag/gotcha/' class='tag-link-240 tag-link-position-9' title='19 topics' style='font-size: 8.6086956521739pt;'>gotcha</a> <a href='/index.php/tag/how-to/' class='tag-link-272 tag-link-position-10' title='44 topics' style='font-size: 11.652173913043pt;'>how to</a> <a href='/index.php/tag/mongodb/' class='tag-link-765 tag-link-position-11' title='17 topics' style='font-size: 8.2608695652174pt;'>mongodb</a> <a href='/index.php/tag/nosql/' class='tag-link-775 tag-link-position-12' title='18 topics' style='font-size: 8.4347826086957pt;'>nosql</a> <a href='/index.php/tag/performance/' class='tag-link-179 tag-link-position-13' title='26 topics' style='font-size: 9.7391304347826pt;'>performance</a> <a href='/index.php/tag/security-2/' class='tag-link-398 tag-link-position-14' title='25 topics' style='font-size: 9.5652173913043pt;'>security</a> <a href='/index.php/tag/sql/' class='tag-link-132 tag-link-position-15' title='42 topics' style='font-size: 11.478260869565pt;'>sql</a> <a href='/index.php/tag/sql-advent-2012/' class='tag-link-1416 tag-link-position-16' title='18 topics' style='font-size: 8.4347826086957pt;'>sql advent 2012</a> <a href='/index.php/tag/sql-friday/' class='tag-link-377 tag-link-position-17' title='18 topics' style='font-size: 8.4347826086957pt;'>sql friday</a> <a href='/index.php/tag/sql-server/' class='tag-link-154 tag-link-position-18' title='145 topics' style='font-size: 16.086956521739pt;'>sql server</a> <a href='/index.php/tag/sql-server-2000/' class='tag-link-366 tag-link-position-19' title='45 topics' style='font-size: 11.739130434783pt;'>sql server 2000</a> <a href='/index.php/tag/sql-server-2005/' class='tag-link-327 tag-link-position-20' title='118 topics' style='font-size: 15.391304347826pt;'>sql server 2005</a> <a href='/index.php/tag/sql-server-2008/' class='tag-link-152 tag-link-position-21' title='237 topics' style='font-size: 18pt;'>sql server 2008</a> <a href='/index.php/tag/sql-server-2008-r2/' class='tag-link-548 tag-link-position-22' title='38 topics' style='font-size: 11.130434782609pt;'>sql server 2008 r2</a> <a href='/index.php/tag/sql-server-2012/' class='tag-link-1161 tag-link-position-23' title='76 topics' style='font-size: 13.739130434783pt;'>sql server 2012</a> <a href='/index.php/tag/ssis-2/' class='tag-link-501 tag-link-position-24' title='52 topics' style='font-size: 12.260869565217pt;'>ssis</a> <a href='/index.php/tag/ssms/' class='tag-link-640 tag-link-position-25' title='18 topics' style='font-size: 8.4347826086957pt;'>ssms</a> <a href='/index.php/tag/ssrs-2/' class='tag-link-557 tag-link-position-26' title='27 topics' style='font-size: 9.9130434782609pt;'>ssrs</a> <a href='/index.php/tag/syndicated/' class='tag-link-1407 tag-link-position-27' title='67 topics' style='font-size: 13.217391304348pt;'>syndicated</a> <a href='/index.php/tag/t-sql/' class='tag-link-185 tag-link-position-28' title='26 topics' style='font-size: 9.7391304347826pt;'>t-sql</a> <a href='/index.php/tag/tip/' class='tag-link-194 tag-link-position-29' title='46 topics' style='font-size: 11.826086956522pt;'>tip</a> <a href='/index.php/tag/unit-testing/' class='tag-link-162 tag-link-position-30' title='17 topics' style='font-size: 8.2608695652174pt;'>unit testing</a>	</p>
</div>		<div class="content-sidebar-section">
		<h2>Authors</h2>
			<ul class="author-list dimmed">
				<li><a href="/index.php/author/SQLDenis/" title="Posts by SQLDenis">SQLDenis</a> <a href="/index.php/author/SQLDenis/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (597)</li><li><a href="/index.php/author/onpnt/" title="Posts by Ted Krueger (onpnt)">Ted Krueger (onpnt)</a> <a href="/index.php/author/onpnt/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (355)</li><li><a href="/index.php/author/grrlgeek/" title="Posts by Jes Borland">Jes Borland</a> <a href="/index.php/author/grrlgeek/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (202)</li><li><a href="/index.php/author/tarwn/" title="Posts by Eli Weinstock-Herman (tarwn)">Eli Weinstock-Herman (tarwn)</a> <a href="/index.php/author/tarwn/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (190)</li><li><a href="/index.php/author/koenverbeeck/" title="Posts by Koen Verbeeck">Koen Verbeeck</a> <a href="/index.php/author/koenverbeeck/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (100)</li><li><a href="/index.php/author/alexcuse/" title="Posts by Alex Ullrich">Alex Ullrich</a> <a href="/index.php/author/alexcuse/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (55)</li><li><a href="/index.php/author/gmmastros/" title="Posts by George Mastros (gmmastros)">George Mastros (gmmastros)</a> <a href="/index.php/author/gmmastros/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (45)</li><li><a href="/index.php/author/axel8s/" title="Posts by Axel Achten (axel8s)">Axel Achten (axel8s)</a> <a href="/index.php/author/axel8s/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (28)</li><li><a href="/index.php/author/naomi/" title="Posts by Naomi Nosonovsky">Naomi Nosonovsky</a> <a href="/index.php/author/naomi/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (27)</li><li><a href="/index.php/author/thirster42/" title="Posts by David Forck (thirster42)">David Forck (thirster42)</a> <a href="/index.php/author/thirster42/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (24)</li><li><a href="/index.php/author/chopstik/" title="Posts by chopstik">chopstik</a> <a href="/index.php/author/chopstik/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (20)</li><li><a href="/index.php/author/kconan/" title="Posts by Kevin Conan">Kevin Conan</a> <a href="/index.php/author/kconan/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (18)</li><li><a href="/index.php/author/robearl/" title="Posts by Rob Earl">Rob Earl</a> <a href="/index.php/author/robearl/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (14)</li><li><a href="/index.php/author/thatrickguy/" title="Posts by ThatRickGuy">ThatRickGuy</a> <a href="/index.php/author/thatrickguy/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (12)</li><li><a href="/index.php/author/sqlarcher/" title="Posts by SQLArcher">SQLArcher</a> <a href="/index.php/author/sqlarcher/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (11)</li>                <li><a href="http://lessthandot.com/Stats/BlogAuthors.php">More...</a></li>
			</ul>
		</div>
				<div class="content-sidebar-section">
		<h2>Categories</h2>
			<ul class="categories-list">
					<li class="cat-item cat-item-10"><a href="/index.php/category/all/" >All Blogs</a>
</li>
	<li class="cat-item cat-item-5"><a href="/index.php/category/architect/" >Architecture, Design and Strategy</a>
</li>
	<li class="cat-item cat-item-1759"><a href="/index.php/category/artificial-intelligence/" >Artificial Intelligence</a>
</li>
	<li class="cat-item cat-item-6"><a href="/index.php/category/datamgmt/" >Data Management</a>
</li>
	<li class="cat-item cat-item-7"><a href="/index.php/category/desktopdev/" >Desktop Developer</a>
</li>
	<li class="cat-item cat-item-8"><a href="/index.php/category/enterprisedev/" >Enterprise Developer</a>
</li>
	<li class="cat-item cat-item-11"><a href="/index.php/category/itprofessionals/" >IT Professionals</a>
</li>
	<li class="cat-item cat-item-12"><a href="/index.php/category/itstudents/" >IT Students and Researchers</a>
</li>
	<li class="cat-item cat-item-1743"><a href="/index.php/category/management/" >Management</a>
</li>
	<li class="cat-item cat-item-9"><a href="/index.php/category/sysadmins/" >System Admins</a>
</li>
	<li class="cat-item cat-item-1"><a href="/index.php/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-4"><a href="/index.php/category/webdev/" >Web Developer</a>
</li>
			</ul>
		</div>
		</div><div class="content-main">
				<div class="post-navigation">
				<div class="post-navigation-forward"><a href="/index.php/webdev/uidevelopment/handling-unauthenticated-ajax-requests/" rel="next">Handling Unauthenticated AJAX Requests</a> &raquo; </div>
				<div class="post-navigation-back">&laquo; <a href="/index.php/datamgmt/dbadmin/row-level-and-column-level/" rel="prev">Row-Level and Column-Level tracking in Merge Replication</a></div>
			</div>
			<div class="post-area instapaper_body">
				<div class="post-title-line">
										<h1 class="instapaper_ignore"><a href="/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/" class="post-title">Merge Replication – Filtered Data Publication Setup</a></h1>
					<div class="post-byline">by <a href="/index.php/author/onpnt/" title="Posts by Ted Krueger (onpnt)" rel="author">Ted Krueger (onpnt)</a> on February 14, 2012 in category <a href="/index.php/category/datamgmt/dbadmin/" rel="category tag">Database Administration</a> <a href="/index.php/category/datamgmt/dbprogramming/mssqlserver/" rel="category tag">Microsoft SQL Server</a> <a href="/index.php/category/datamgmt/dbadmin/mssqlserveradmin/" rel="category tag">Microsoft SQL Server Admin</a>. Article views: 10,814 </div>
				</div>
				<div class="post-tagline"><a href="https://twitter.com/intent/tweet?url=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/&text=RT @LessThanDot Blog - Merge Replication &ndash; Filtered Data Publication Setup by @onpnt" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/&title=Merge Replication &ndash; Filtered Data Publication Setup&source=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/&title=Merge Replication &ndash; Filtered Data Publication Setup" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/&quote=Merge Replication &ndash; Filtered Data Publication Setup" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/&title=Merge Replication &ndash; Filtered Data Publication Setup" class="instapaper_button">Instapaper</a></div>

				<div class="post-content"><p>This article will show you how to use two methods in order to restrict the amount of data that is needed in a Merge Replication setup:  Join and Parameterized Filters.</p>
<p>Join Filters are exactly what they sound like.  If a Join Filter is configured in a publication, the publication acts almost exactly as a join in a T-SQL query would.  The tables are joined on key columns and the data is thus filtered down through the tables.</p>
<p>Parameterized Filters are used to restrict data to partitions of data that are related to a user or host name.  This is extremely useful when data is mobile, and online and offline situations are involved.  Data can be configured into partitions based on a user’s SUSER_SNAME() or a machine’s HOSTNAME().  Not only can this be valuable in filtering what a user will receive for data but it can also be a valuable method in creating Re-Publisher publications based on the HOSTNAME() values.</p>
<p><strong>Setup and configure Sales Publication</strong></p>
<p>The following publication and subscription utilize Parameterized and Join filters.  The AdventureWorks database is being utilized as the publication database.  AdventureWorksSalesperson database will be created and used to act as the subscribing database.</p>
<p>If you need to download AdventureWorks, you can find it on <a href="http://sqlserversamples.codeplex.com/">Codeplex</a>.  To create the subscriber database, the following script can be executed.</p>
<p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
</pre></td><td class="de1"><pre class="de1"><span class="kw1">CREATE</span> <span class="kw1">DATABASE</span> <span class="br0">&#91;</span>AdventureWorksSalesperson<span class="br0">&#93;</span>
<span class="kw1">ON</span> <span class="kw1">PRIMARY</span> 
<span class="br0">&#40;</span>NAME <span class="sy0">=</span> N<span class="st0">'AdventureWorks2008R2_Data'</span>, FILENAME <span class="sy0">=</span> N<span class="st0">'C:SQLRCAdventureWorksSalesperson_Data.mdf'</span> , <span class="kw1">SIZE</span> <span class="sy0">=</span> 220928KB , MAXSIZE <span class="sy0">=</span> UNLIMITED, FILEGROWTH <span class="sy0">=</span> 102400KB <span class="br0">&#41;</span>
&nbsp;<span class="kw2">LOG</span> <span class="kw1">ON</span> 
<span class="br0">&#40;</span>NAME <span class="sy0">=</span> N<span class="st0">'AdventureWorks2008R2_Log'</span>, FILENAME <span class="sy0">=</span> N<span class="st0">'C:SQLRCAdventureWorksSalesperson_log.ldf'</span> , <span class="kw1">SIZE</span> <span class="sy0">=</span> 35712KB , MAXSIZE <span class="sy0">=</span> UNLIMITED, FILEGROWTH <span class="sy0">=</span> 20480KB <span class="br0">&#41;</span>
GO
<span class="kw1">ALTER</span> <span class="kw1">DATABASE</span> <span class="br0">&#91;</span>AdventureWorksSalesperson<span class="br0">&#93;</span> <span class="kw1">SET</span> RECOVERY SIMPLE
GO
<span class="co1">--change physical file names where required on your systems</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">CREATE DATABASE [AdventureWorksSalesperson]
ON PRIMARY 
(NAME = N'AdventureWorks2008R2_Data', FILENAME = N'C:SQLRCAdventureWorksSalesperson_Data.mdf' , SIZE = 220928KB , MAXSIZE = UNLIMITED, FILEGROWTH = 102400KB )
 LOG ON 
(NAME = N'AdventureWorks2008R2_Log', FILENAME = N'C:SQLRCAdventureWorksSalesperson_log.ldf' , SIZE = 35712KB , MAXSIZE = UNLIMITED, FILEGROWTH = 20480KB )
GO
ALTER DATABASE [AdventureWorksSalesperson] SET RECOVERY SIMPLE
GO
--change physical file names where required on your systems</pre></div></div>

</p>
<p>
<blockquote><em>Note: This database default growth for data and log files has been calculated based on the partition size that will be applied.  You should always estimate the partition size and create databases to follow that size requirement to prevent unwanted data and log growth.</em></p></blockquote>
<p>A good way to prepare for creating a publication that uses filters is to write the query that mimics the same functionality.  In this case, the publication is using parameterized filter SUSER_SNAME() on Person.Person and then Join Filters on Sales.SalesOrderHeader, Sales.SalesOrderDetail and Production.TransactionHistory.</p>
<p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> 
&nbsp; &nbsp; <span class="nu0">1</span>
<span class="kw1">FROM</span> Person.<span class="me1">Person</span>
<span class="sy0">JOIN</span> Sales.<span class="me1">SalesOrderHeader</span> <span class="kw1">ON</span> <span class="br0">&#91;</span>Person<span class="br0">&#93;</span>.<span class="br0">&#91;</span>BusinessEntityID<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="br0">&#91;</span>SalesOrderHeader<span class="br0">&#93;</span>.<span class="br0">&#91;</span>SalesPersonID<span class="br0">&#93;</span>
<span class="sy0">JOIN</span> Sales.<span class="me1">SalesOrderDetail</span> <span class="kw1">ON</span> <span class="br0">&#91;</span>SalesOrderHeader<span class="br0">&#93;</span>.<span class="br0">&#91;</span>SalesOrderID<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="br0">&#91;</span>SalesOrderDetail<span class="br0">&#93;</span>.<span class="br0">&#91;</span>SalesOrderID<span class="br0">&#93;</span>
<span class="sy0">JOIN</span> Production.<span class="me1">TransactionHistory</span> <span class="kw1">ON</span> <span class="br0">&#91;</span>SalesOrderHeader<span class="br0">&#93;</span>.<span class="br0">&#91;</span>SalesOrderID<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="br0">&#91;</span>TransactionHistory<span class="br0">&#93;</span>.<span class="br0">&#91;</span>ReferenceOrderID<span class="br0">&#93;</span>
<span class="kw1">WHERE</span> <span class="br0">&#91;</span>Person<span class="br0">&#93;</span>.<span class="br0">&#91;</span>LoginAccount<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw2">SUSER_SNAME</span><span class="br0">&#40;</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT 
	1
FROM Person.Person
JOIN Sales.SalesOrderHeader ON [Person].[BusinessEntityID] = [SalesOrderHeader].[SalesPersonID]
JOIN Sales.SalesOrderDetail ON [SalesOrderHeader].[SalesOrderID] = [SalesOrderDetail].[SalesOrderID]
JOIN Production.TransactionHistory ON [SalesOrderHeader].[SalesOrderID] = [TransactionHistory].[ReferenceOrderID]
WHERE [Person].[LoginAccount] = SUSER_SNAME()</pre></div></div>

</p>
<p>This query represents the resulting partition of data that will be sent to a subscriber matching the SUSER_SNAME().</p>
<p>In order to utilize AdventureWorks to publish data with parameterized filters, the Person table needs to be altered to include a column that will hold SUSER_SNAME().</p>
<p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
</pre></td><td class="de1"><pre class="de1"><span class="kw1">ALTER</span> <span class="kw1">TABLE</span> Person.<span class="me1">Person</span>
<span class="kw1">ADD</span> LoginAccount <span class="kw1">NVARCHAR</span><span class="br0">&#40;</span><span class="nu0">128</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">ALTER TABLE Person.Person
ADD LoginAccount NVARCHAR(128)</pre></div></div>

</p>
<p>Update all columns that match a BusinessEntityID of 275 to match your login account.</p>
<p>Example</p>
<p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
</pre></td><td class="de1"><pre class="de1"><span class="kw1">UPDATE</span> Person.<span class="me1">Person</span>
<span class="kw1">SET</span> LoginAccount <span class="sy0">=</span> <span class="st0">'ONPNTtkrueger'</span>
<span class="kw1">WHERE</span> BusinessEntityID <span class="sy0">=</span> <span class="nu0">275</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">UPDATE Person.Person
SET LoginAccount = 'ONPNTtkrueger'
WHERE BusinessEntityID = 275</pre></div></div>

</p>
<p><strong>Create a Publication</strong></p>
<p>To create the publication, ensure the distributor has been configured.  Right click Replication in SSMS and click configure distributor to do this step prior, or do it from the publication setup wizard.</p>
<p>Next, create a new publication by right clicking Local Publications and selecting New Publication</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/.png?mtime=1329263427"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/.png?mtime=1329263427" width="316" height="189" /></a></div>
<p>Click next to the welcome screen if it appears.</p>
<p>In the Publication Database selection, choose AdventureWorks (link provided earlier for downloading the AdventureWorks database)</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-1.png?mtime=1329263427"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-1.png?mtime=1329263427" width="510" height="178" /></a></div>
<p>The Publication Database selection will allow the wizard to perform the first step of enabling the database for replication.  All databases have a publisher setting of enabled or disabled for replication.  The setting is disabled by default so unneeded maintenance of the database in the replication system tables is not done.</p>
<p>Click Next.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-2.png?mtime=1329263427"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-2.png?mtime=1329263427" width="503" height="246" /></a></div>
<p>In the Publication Type window, select Merge publication and click Next.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-3.png?mtime=1329263427"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-3.png?mtime=1329263427" width="502" height="204" /></a></div>
<p>Depending on the version of SQL Server, the Subscriber Types will vary.  For this example, the subscriber is the same version as the publisher, SQL Server 2012 RC0.  If you are performing these tasks on a SQL Server 2008 publisher but want to use a SQL Server 2005 SP2 or greater version as a subscriber, select the check box to enable the support for SQL Server 2005 at this time.</p>
<p>Choosing versions that are an earlier compatibility level can have a slight performance impact.  When possible, always try to have your publications publishing to subscribers of the same versions (all editions) of SQL Server.</p>
<p>Click Next when the selection are made (or leave the default if the same versions are used)</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-4.png?mtime=1329263428"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-4.png?mtime=1329263428" width="504" height="261" /></a></div>
<p>In the Articles window, check the boxes next to Person, SalesOrderHeader SalesOrderDetail and TransactionHistory.</p>
<p>Highlight the SalesOrderHeader table and dropdown the list for Article Properties.  Select, Set Properties of Highlighted Table Articles”.  This will allow the changes for Row and Column Tracking.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-5.png?mtime=1329263428"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-5.png?mtime=1329263428" width="596" height="253" /></a></div>
<p>In the window that appears to alter the properties of the article, scroll down to the bottom of the window.  Under Merging Changes, change Tracking level setting to Column-Level tracking.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-6.png?mtime=1329263428"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-6.png?mtime=1329263428" width="436" height="85" /></a></div>
<p>Next, click the Resolver tab in the same article properties window.</p>
<p>Choose “Use a custom resolver (registered at the Distributor) and select the “Microsoft SQL Server DATETIME (later Wins) Conflict Resolver”.</p>
<p>Enter, “DueDate” in the box below the resolver list and click OK to close and save the article properties for SalesOrderHeader.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-7.png?mtime=1329263428"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-7.png?mtime=1329263428" width="455" height="377" /></a></div>
<p>Click next in the publication wizard to move to the filter table rows editor.</p>
<p>Select Add Filter from the list box.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-8.png?mtime=1329263428"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-8.png?mtime=1329263428" width="624" height="215" /></a></div>
<p>In the initial screen, the Person table should be selected, if it is not, drop the list down and select it.  The only changes needed to use the Person table as a parameterized filter is to edit the Filter statement.</p>
<p>Add to the filter statement, “[LoginAccount]=SUSER_SNAME()”</p>
<p>Click the radio button to specify “A row from this table will go to only one subscriber” in the How many subscriptions will receive data area.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-9.png?mtime=1329263429"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-9.png?mtime=1329263429" width="558" height="466" /></a></div>
<p>Click OK to save the filter on Person.</p>
<p>Click the Add list again and select “Add Join to Extend the Selected Filter…”</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-10.png?mtime=1329263429"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-10.png?mtime=1329263429" width="624" height="141" /></a></div>
<p>In the Add Join window, ensure that Sales.SalesOrderHeader is selected in the Joined table list.</p>
<p>Leave Use the builder to create the statement selected.  For Filtered table column select BusinessEntityID (int) and then select SalesPersonID (int) for the Joined table column.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-11.png?mtime=1329263429"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-11.png?mtime=1329263429" width="547" height="298" /></a></div>
<p>Click OK to close and add the join filter.</p>
<p>Back in the article properties window, click the Add list again and select “Add Join to Extend the Selected Filter…”</p>
<p>Drop down the Joined table and select Sales.SalesOrderDetail.  In the join statement step 2, use SalesOrderID (int) for the filtered table column and SalesOrderID (int) in the joined table column.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-12.png?mtime=1329263429"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-12.png?mtime=1329263429" width="543" height="301" /></a></div>
<p>Click OK to add the join filter.</p>
<p>The filter window should appear as shown below.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-13.png?mtime=1329263430"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-13.png?mtime=1329263430" width="624" height="204" /></a></div>
<p>Back in the article properties window, click the Add list again and select “Add Join to Extend the Selected Filter…”</p>
<p>Drop down the Joined table and select Production.TransationHistory.  In the join statement step 2, use SalesOrderID (int) for the filtered table column and ReferenceOrderID (int) in the joined table column.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-14.png?mtime=1329263430"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-14.png?mtime=1329263430" width="548" height="273" /></a></div>
<p>Click OK to add the filter and ensure the completed filters appear as shown below.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-15.png?mtime=1329263430"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-15.png?mtime=1329263430" width="296" height="90" /></a></div>
<p>Click Next to move to the Snapshot Agent settings window.</p>
<p>For this setup, the defaults are left for the snapshot agent.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-16.png?mtime=1329263430"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-16.png?mtime=1329263430" width="497" height="271" /></a></div>
<p>Click Next to move to the Agent Security window.  Click the browse button in the Connection to Subscriber box.  In the Snapshot Agent Security settings window that appears, Select, “Run under the SQL Server Agent service account” so the snapshot utilizes the agent account to perform the tasks.</p>
<p>(If your security does not allow the agent to access the file system, enter an account that can)</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-17.png?mtime=1329263430"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-17.png?mtime=1329263430" width="447" height="383" /></a></div>
<p>Click OK, then Next to move to the Wizard Actions window.  The defaults were left here as well.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-18.png?mtime=1329263430"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-18.png?mtime=1329263430" width="500" height="207" /></a></div>
<p>Click Next and then enter a name of, Sales, in the Complete the Wizard screen.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-19.png?mtime=1329263431"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-19.png?mtime=1329263431" width="502" height="451" /></a></div>
<p>Click Finish to create the publication.</p>
<p><strong>Add a Subscriber</strong></p>
<p>To add a subscription to the publication just created, follow these steps.</p>
<p>Right click the new publication and select New Subscriptions…</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-20.png?mtime=1329263553"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-20.png?mtime=1329263553" width="502" height="451" /></a></div>
<p>The first screen will list all the publications available. If the publisher instance is not the one used to create the publication earlier, change the list box to represent the correct instance.</p>
<p>Highlight the publication, Sales and click Next.</p>
<p>For this example, create the subscriber as a push subscription.  This will create the SQL Agent Jobs on the instance and allow us to utilize the agent as a synchronizing method.  Pull subscriptions will require other methods such as the replmerg.exe or Windows synchronization to initiate a replication session between the publisher and subscriber.</p>
<p>Click next to move to the Subscribers selection window.</p>
<p>In the Subscribers window, check the Subscriber instance or select the list to find a different instance.  Once selected, drop down the subscription database and select the database that will be used as the subscribing database.  If following these steps, use the database AdventureWorksSalesperson.  The create script was provided earlier in this article.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-21.png?mtime=1329263553"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-21.png?mtime=1329263553" width="409" height="55" /></a></div>
<p>Click Next to move to the Agent Security widow.  Click the browse button similar to the agent security settings performed prior in the publication wizard.  Select the radio buttons to impersonate the agent service account and click OK.  Click next to move to the final screen and click Finish to create the subscription.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-22.png?mtime=1329263553"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-22.png?mtime=1329263553" width="494" height="177" /></a></div>
<p><strong>Testing row updates</strong></p>
<p>If the subscription was setup as a Push Subscriber, the snapshot will be applied automatically by the merge agents running under the SQL Agent.</p>
<p>To check the state of the snapshot agent, right click the replication node in SSMS and select, Launch Replication Monitor.</p>
<p>Expand the My Publishers (if a publisher is not shown, right click My Publishers and click Add. Follow the screens to add a publisher) select the Sales publication and then click the Agent tab to the right.</p>
<p>The snapshot will show completed if it was successful.</p>
<p>Possible failure can consist of security errors, access to the ReplData folder, Job Ownership errors or the agent has not started yet.  To troubleshoot these, view the history of the agent job itself and attempt to manually run it.</p>
<p>Agent jobs will follow a naming convention if the defaults were used.</p>
<p>INSTANCE-database-publication-increment &#8211; Example: ONPNTRC0-AdventureWorks-Sales-1</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-23.png?mtime=1329263553"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-23.png?mtime=1329263553" width="500" height="167" /></a></div>
<p>Test the publication and subscription by altering data in the SalesOrderHeader table on the subscriber database, AdventureWorksSalesperson.</p>
<p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
</pre></td><td class="de1"><pre class="de1"><span class="kw1">update</span> Sales.<span class="me1">SalesOrderHeader</span>
<span class="kw1">set</span> ShipDate <span class="sy0">=</span> <span class="kw2">getdate</span><span class="br0">&#40;</span><span class="br0">&#41;</span>, OrderDate <span class="sy0">=</span> <span class="kw2">getdate</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">10</span>,DueDate <span class="sy0">=</span> <span class="kw2">getdate</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">-</span><span class="nu0">1</span>
<span class="kw1">where</span> SalesPersonID <span class="sy0">=</span> <span class="nu0">275</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">update Sales.SalesOrderHeader
set ShipDate = getdate(), OrderDate = getdate()-10,DueDate = getdate()-1
where SalesPersonID = 275</pre></div></div>

</p>
<p>Back in the replication monitor, click the All Subscriptions tab.  Right click the subscriber and click Start Synchronizing.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/-24.png?mtime=1329263554"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/-24.png?mtime=1329263554" width="624" height="115" /></a></div>
<p>Check the changes were sent to the publisher by querying the AdventureWorks database.</p>
<p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
</pre></td><td class="de1"><pre class="de1"><span class="kw1">select</span> <span class="sy0">*</span> <span class="kw1">from</span> Sales.<span class="me1">SalesOrderHeader</span> <span class="kw1">where</span> SalesPersonID <span class="sy0">=</span> <span class="nu0">275</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">select * from Sales.SalesOrderHeader where SalesPersonID = 275</pre></div></div>

</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/MergRepl/mergesetup_25.gif?mtime=1329263554"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/MergRepl/mergesetup_25.gif?mtime=1329263554" width="624" height="114" /></a></div>
<p>The changes should show on both publisher and subscriber.</p>
<div class='rp4wp-related-posts'>
<h3>Related Posts</h3>
<ul>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/dbadmin/row-level-and-column-level/'>Row-Level and Column-Level tracking in Merge Replication</a><p>There are several considerations when deciding if your Merge Replication setup is in need of&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/datadesign/merge-replication-parameterized-filters/'>Merge Replication – Parameterized Filters</a><p>Merge Replication can be a powerful tool for data mobility and distribution.  Data can be&hellip;</p></div>
</li>
</ul>
</div>
</div>
				<div class="post-author">
					<div class="userInfo"><h2>About the Author</h2>Ted Krueger is a SQL Server MVP and Author that has been working in development and database administration and the owner of a successful consulting business, DataMetrics Consulting.  Specialties range from High Availability and Disaster / Recovery setup and testing methods down to custom assembly development for SQL Server Reporting Services.  Ted blogs and is also one of the founders of LessThanDot.com technology community.  Some of the articles focused on are Backup / Recovery, Security, SSIS and working on SQL Server and using all of the SQL Server features available to create stable and scalable database services.  <br style="clear: left" /><div class="bioSoc"><span class="bioSocTitle">Social Sitings</span><a href="http://twitter.com/onpnt" title="onpnt at Twitter" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Twitter" /></a><a href="http://www.facebook.com/profile.php?id=https://www.facebook.com/onpntfirearms" title="onpnt at Facebook" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_facebook.png" alt="Facebook" /></a><a href="http://www.linkedin.com/pub/ted-krueger/2/183/b66" title="onpnt at LinkedIn" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="LinkedIn" /></a><a href="http://www.datametricsconsulting.com/" title="onpnt at HomePage" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_homepage.png" alt="HomePage" /></a><a href="/index.php/author/onpnt/feed/" title="Blog RSS feed for onpnt" class="bioSocLink"><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="LTD RSS Feed" /></a></div></div>				</div>
				<div class="post-foot instapaper_ignore">
					<div class="post-tagline">
						<div class="post-foot-views"><label>Article views:</label> 10,814 </div>
						<div class="post-foot-more-posts">
                            <a href="/index.php/author/onpnt/">Read More Posts by Ted Krueger (onpnt)</a>
						</div>
					</div>
					<div>
						 
					</div>
					<div class="post-tagline" style="height: auto">
						<span class="social-button-label">Share:</span><a href="https://twitter.com/intent/tweet?url=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/&text=RT @LessThanDot Blog - Merge Replication &ndash; Filtered Data Publication Setup by @onpnt" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/&title=Merge Replication &ndash; Filtered Data Publication Setup&source=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/&title=Merge Replication &ndash; Filtered Data Publication Setup" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/&quote=Merge Replication &ndash; Filtered Data Publication Setup" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/&title=Merge Replication &ndash; Filtered Data Publication Setup" class="instapaper_button">Instapaper</a>					</div>			
				</div>
				<div class="comments-area instapaper_ignore">
	<h4 class="comments-title">
		No comments posted so far	</h4>
					<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='1528' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><input type="hidden" id="killer_value" name="killer_value" value="b137fdd1f79d56c7edf3365fea7520f2"/><noscript>Sorry, but you are required to use a javascript enabled brower to comment here.</noscript>				</form>
					</div><!-- #respond -->
		</div>			</div>
				<br style="clear: both;" />
</div>
		</div>
		<div id="page-footer">
			<div id="botnav"><a href="http://lessthandot.com/" title="LessThanDot Launchpad">Launchpad</a> | <a href="http://lessthandot.com/account.php" title="Your Account Settings">My Account</a> | <a href="http://lessthandot.com/statistics.php" title="Statistics">Statistics</a> | <a href="http://lessthandot.com/donate.php" title="Donate">Donate</a> | <a href="http://lessthandot.com/contactus.php" title="Contact Us">Contact Us</a> | <a href="http://lessthandot.com/aboutus.php" title="About the LessThanDot Team">&copy;2008 - 2019 LessThanDot, LLC</a></div>

		<script type='text/javascript'>
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-4471405-1']);
		_gaq.push(['_trackPageview']);
		_gaq.push(['_setCustomVar', 1, 'Environment', 'lessthandot.com', 3]);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	  </script>			<div class="validator"><a href="http://validator.w3.org/check?uri=referer">Valid XHTML</a> | <a href="http://jigsaw.w3.org/css-validator/check/referer" title="Validate the CSS for this page at the W3C website">Valid CSS</a> | 2018-11-11 15:52</div>
		</div>
	</div>
</div>
<!-- <script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script> -->
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var spam_destroyer = {"key":"159ff9dcc225580310c2de238cdd1f1a","lifetime":"3600","limit":"1552765751"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/spam-destroyer/kill.js?ver=1.2'></script>
</body>
</html>
