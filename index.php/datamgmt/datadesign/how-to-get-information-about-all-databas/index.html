<!DOCTYPE html>
<html lang="en-US">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
		<link rel="shortcut icon" href="http://lessthandot.com/favicon.ico" type="image/vnd.microsoft.icon" />
	<title>Less Than Dot - Blog -   How to get information about all databases without a loop</title>
	<meta prefix="og: http://ogp.me/ns#" property="og:title" content="Less Than Dot - Blog -   How to get information about all databases without a loop" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:url" content="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/" />
		<meta prefix="og: http://ogp.me/ns#" property="og:image" content="http://lessthandot.com/images/logo_prod.png" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="LessThanDot" />
	<meta prefix="og: http://ogp.me/ns#" property="og:description" content="Quite often we want to consolidate query information across all databases (or all user databases). When this question is asked in forums, the usual recommendation is to either try running undocumented sp_MSForEachDB stored procedure or do a loop and use&hellip;" />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/index.php/feed/" />
	<link rel="alternate" type="application/atom+xml" title="Atom" href="/index.php/feed/atom/" />

	<!-- this page is the canonical URL -->	
	<link rel="stylesheet" href="/wp-content/themes/lessthandot2009/style.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsite.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsiteprint.css" media="print" type="text/css" />

	<link rel='dns-prefetch' href='//ajax.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="LessthanDot &raquo; How to get information about all databases without a loop Comments Feed" href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.1"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='bwp-syntax-css'  href='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/css/bwp-syntax-global.css?ver=4.6.1' type='text/css' media='all' />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/js/bwp-syntax.js?ver=4.6.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Anecdotes about SQL AKA post 400' href='/index.php/datamgmt/datadesign/anecdotes-about-sql-aka-post/' />
<link rel='next' title='SQL Advent 2011 Day 1: Date and time' href='/index.php/datamgmt/datadesign/sql-advent-2011-day-1/' />
<meta name="generator" content="WordPress 4.6.1" />
<link rel="canonical" href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/" />
<link rel='shortlink' href='/?p=791' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fdatamgmt%2Fdatadesign%2Fhow-to-get-information-about-all-databas%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fdatamgmt%2Fdatadesign%2Fhow-to-get-information-about-all-databas%2F&#038;format=xml" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
	<script src="http://lessthandot.com/includes/allsite.js" type="text/javascript" ></script>
</head>
<body>
<div id="contain"><div id="subcontain"><div id="ttl"><div id="hdr"><div id="snav"><a href="http://lessthandot.com/login.php?backtrack=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?">Member Login</a>
</div><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="logoc"><img src="http://lessthandot.com/images/logo_prod.png" alt="LessThanDot Site Logo" border="0" /></a><h1>LessThanDot</h1><div class="pgsttl">A decade of helpful technical content</div></div><div id="nav">
<ul>
<li><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="h" ><span>Launchpad</span></a></li>
<li class="cur"><a href="/" title="LessThanDot Blogs" id="b" ><span>Blogs</span></a></li>
<li><a href="http://forum.lessthandot.com/" title="LessThanDot Community Forums" id="f" ><span>Forum</span></a></li>
<li><a href="http://wiki.lessthandot.com/" title="LessThanDot Wiki Articles" id="w" ><span>Wiki</span></a></li>
<li><a href="http://sqlcop.lessthandot.com/" title="LessThanDot SQLCop" id="a" ><span>SQLCop</span></a></li>
<li><a href="http://lessthandot.com/account.php" title="Your Account Settings" id="r"  class="l_ie"><span>My Account</span></a></li></ul></div>
</div><div id="content">
<div id="fac"><div id="fa">
		<p>Less Than Dot is a community of passionate IT professionals and enthusiasts dedicated to sharing technical knowledge, experience, and assistance. Inside you will find reference materials, interesting technical discussions, and expert tips and commentary.</p></div></div><div class="content-sidebar">
	<div id="social" class="sdsec">
		<h2>LTD Social Sitings</h2>
		<div>
		<a id="social_twitter" href="http://twitter.com/LessThanDot/" title="Follow us on Twitter" ><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Lessthandot twitter"/></a> 
		<a href="http://www.linkedin.com/groups?home=&amp;gid=113440" title="Join us on LinkedIn" ><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="Lessthandot Linkedin" /></a> 
		<a href="http://www.facebook.com/group.php?gid=19330511063" title="Join us on Facebook" ><img src="http://lessthandot.com/images/bdg_facebook.png" alt="Lessthandot facebook"/></a> 
		<a href="http://lessthandot.com/rss.php" title="LessThanDot News Feed" ><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="Lessthandot rss"/></a> 
		</div>
		<p><em>Note: Watch for social icons on posts by your favorite authors to follow their postings on these and other social sites.</em></p>
	</div><div class="content-sidebar-section">
<h2>Tag cloud</h2>
	<p class="tag-cloud">
		<a href='/index.php/tag/net/' class='tag-link-245 tag-link-position-1' title='21 topics' style='font-size: 8.9565217391304pt;'>.net</a> <a href='/index.php/tag/asp-net/' class='tag-link-168 tag-link-position-2' title='21 topics' style='font-size: 8.9565217391304pt;'>asp.net</a> <a href='/index.php/tag/azure-2/' class='tag-link-321 tag-link-position-3' title='29 topics' style='font-size: 10.173913043478pt;'>azure</a> <a href='/index.php/tag/book/' class='tag-link-130 tag-link-position-4' title='26 topics' style='font-size: 9.7391304347826pt;'>book</a> <a href='/index.php/tag/business-intelligence-2/' class='tag-link-256 tag-link-position-5' title='30 topics' style='font-size: 10.260869565217pt;'>business intelligence</a> <a href='/index.php/tag/c/' class='tag-link-138 tag-link-position-6' title='40 topics' style='font-size: 11.304347826087pt;'>c#</a> <a href='/index.php/tag/database/' class='tag-link-134 tag-link-position-7' title='31 topics' style='font-size: 10.434782608696pt;'>database</a> <a href='/index.php/tag/excel/' class='tag-link-155 tag-link-position-8' title='16 topics' style='font-size: 8pt;'>excel</a> <a href='/index.php/tag/gotcha/' class='tag-link-240 tag-link-position-9' title='19 topics' style='font-size: 8.6086956521739pt;'>gotcha</a> <a href='/index.php/tag/how-to/' class='tag-link-272 tag-link-position-10' title='44 topics' style='font-size: 11.652173913043pt;'>how to</a> <a href='/index.php/tag/mongodb/' class='tag-link-765 tag-link-position-11' title='17 topics' style='font-size: 8.2608695652174pt;'>mongodb</a> <a href='/index.php/tag/nosql/' class='tag-link-775 tag-link-position-12' title='18 topics' style='font-size: 8.4347826086957pt;'>nosql</a> <a href='/index.php/tag/performance/' class='tag-link-179 tag-link-position-13' title='26 topics' style='font-size: 9.7391304347826pt;'>performance</a> <a href='/index.php/tag/security-2/' class='tag-link-398 tag-link-position-14' title='25 topics' style='font-size: 9.5652173913043pt;'>security</a> <a href='/index.php/tag/sql/' class='tag-link-132 tag-link-position-15' title='42 topics' style='font-size: 11.478260869565pt;'>sql</a> <a href='/index.php/tag/sql-advent-2012/' class='tag-link-1416 tag-link-position-16' title='18 topics' style='font-size: 8.4347826086957pt;'>sql advent 2012</a> <a href='/index.php/tag/sql-friday/' class='tag-link-377 tag-link-position-17' title='18 topics' style='font-size: 8.4347826086957pt;'>sql friday</a> <a href='/index.php/tag/sql-server/' class='tag-link-154 tag-link-position-18' title='145 topics' style='font-size: 16.086956521739pt;'>sql server</a> <a href='/index.php/tag/sql-server-2000/' class='tag-link-366 tag-link-position-19' title='45 topics' style='font-size: 11.739130434783pt;'>sql server 2000</a> <a href='/index.php/tag/sql-server-2005/' class='tag-link-327 tag-link-position-20' title='118 topics' style='font-size: 15.391304347826pt;'>sql server 2005</a> <a href='/index.php/tag/sql-server-2008/' class='tag-link-152 tag-link-position-21' title='237 topics' style='font-size: 18pt;'>sql server 2008</a> <a href='/index.php/tag/sql-server-2008-r2/' class='tag-link-548 tag-link-position-22' title='38 topics' style='font-size: 11.130434782609pt;'>sql server 2008 r2</a> <a href='/index.php/tag/sql-server-2012/' class='tag-link-1161 tag-link-position-23' title='76 topics' style='font-size: 13.739130434783pt;'>sql server 2012</a> <a href='/index.php/tag/ssis-2/' class='tag-link-501 tag-link-position-24' title='52 topics' style='font-size: 12.260869565217pt;'>ssis</a> <a href='/index.php/tag/ssms/' class='tag-link-640 tag-link-position-25' title='18 topics' style='font-size: 8.4347826086957pt;'>ssms</a> <a href='/index.php/tag/ssrs-2/' class='tag-link-557 tag-link-position-26' title='27 topics' style='font-size: 9.9130434782609pt;'>ssrs</a> <a href='/index.php/tag/syndicated/' class='tag-link-1407 tag-link-position-27' title='67 topics' style='font-size: 13.217391304348pt;'>syndicated</a> <a href='/index.php/tag/t-sql/' class='tag-link-185 tag-link-position-28' title='26 topics' style='font-size: 9.7391304347826pt;'>t-sql</a> <a href='/index.php/tag/tip/' class='tag-link-194 tag-link-position-29' title='46 topics' style='font-size: 11.826086956522pt;'>tip</a> <a href='/index.php/tag/unit-testing/' class='tag-link-162 tag-link-position-30' title='17 topics' style='font-size: 8.2608695652174pt;'>unit testing</a>	</p>
</div>		<div class="content-sidebar-section">
		<h2>Authors</h2>
			<ul class="author-list dimmed">
				<li><a href="/index.php/author/SQLDenis/" title="Posts by SQLDenis">SQLDenis</a> <a href="/index.php/author/SQLDenis/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (597)</li><li><a href="/index.php/author/onpnt/" title="Posts by Ted Krueger (onpnt)">Ted Krueger (onpnt)</a> <a href="/index.php/author/onpnt/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (355)</li><li><a href="/index.php/author/grrlgeek/" title="Posts by Jes Borland">Jes Borland</a> <a href="/index.php/author/grrlgeek/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (202)</li><li><a href="/index.php/author/tarwn/" title="Posts by Eli Weinstock-Herman (tarwn)">Eli Weinstock-Herman (tarwn)</a> <a href="/index.php/author/tarwn/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (190)</li><li><a href="/index.php/author/koenverbeeck/" title="Posts by Koen Verbeeck">Koen Verbeeck</a> <a href="/index.php/author/koenverbeeck/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (100)</li><li><a href="/index.php/author/alexcuse/" title="Posts by Alex Ullrich">Alex Ullrich</a> <a href="/index.php/author/alexcuse/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (55)</li><li><a href="/index.php/author/gmmastros/" title="Posts by George Mastros (gmmastros)">George Mastros (gmmastros)</a> <a href="/index.php/author/gmmastros/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (45)</li><li><a href="/index.php/author/axel8s/" title="Posts by Axel Achten (axel8s)">Axel Achten (axel8s)</a> <a href="/index.php/author/axel8s/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (28)</li><li><a href="/index.php/author/naomi/" title="Posts by Naomi Nosonovsky">Naomi Nosonovsky</a> <a href="/index.php/author/naomi/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (27)</li><li><a href="/index.php/author/thirster42/" title="Posts by David Forck (thirster42)">David Forck (thirster42)</a> <a href="/index.php/author/thirster42/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (24)</li><li><a href="/index.php/author/chopstik/" title="Posts by chopstik">chopstik</a> <a href="/index.php/author/chopstik/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (20)</li><li><a href="/index.php/author/kconan/" title="Posts by Kevin Conan">Kevin Conan</a> <a href="/index.php/author/kconan/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (18)</li><li><a href="/index.php/author/robearl/" title="Posts by Rob Earl">Rob Earl</a> <a href="/index.php/author/robearl/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (14)</li><li><a href="/index.php/author/thatrickguy/" title="Posts by ThatRickGuy">ThatRickGuy</a> <a href="/index.php/author/thatrickguy/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (12)</li><li><a href="/index.php/author/sqlarcher/" title="Posts by SQLArcher">SQLArcher</a> <a href="/index.php/author/sqlarcher/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (11)</li>                <li><a href="http://lessthandot.com/Stats/BlogAuthors.php">More...</a></li>
			</ul>
		</div>
				<div class="content-sidebar-section">
		<h2>Categories</h2>
			<ul class="categories-list">
					<li class="cat-item cat-item-10"><a href="/index.php/category/all/" >All Blogs</a>
</li>
	<li class="cat-item cat-item-5"><a href="/index.php/category/architect/" >Architecture, Design and Strategy</a>
</li>
	<li class="cat-item cat-item-1759"><a href="/index.php/category/artificial-intelligence/" >Artificial Intelligence</a>
</li>
	<li class="cat-item cat-item-6"><a href="/index.php/category/datamgmt/" >Data Management</a>
</li>
	<li class="cat-item cat-item-7"><a href="/index.php/category/desktopdev/" >Desktop Developer</a>
</li>
	<li class="cat-item cat-item-8"><a href="/index.php/category/enterprisedev/" >Enterprise Developer</a>
</li>
	<li class="cat-item cat-item-11"><a href="/index.php/category/itprofessionals/" >IT Professionals</a>
</li>
	<li class="cat-item cat-item-12"><a href="/index.php/category/itstudents/" >IT Students and Researchers</a>
</li>
	<li class="cat-item cat-item-1743"><a href="/index.php/category/management/" >Management</a>
</li>
	<li class="cat-item cat-item-9"><a href="/index.php/category/sysadmins/" >System Admins</a>
</li>
	<li class="cat-item cat-item-1"><a href="/index.php/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-4"><a href="/index.php/category/webdev/" >Web Developer</a>
</li>
			</ul>
		</div>
		</div><div class="content-main">
				<div class="post-navigation">
				<div class="post-navigation-forward"><a href="/index.php/datamgmt/datadesign/sql-advent-2011-day-1/" rel="next">SQL Advent 2011 Day 1: Date and time</a> &raquo; </div>
				<div class="post-navigation-back">&laquo; <a href="/index.php/datamgmt/datadesign/anecdotes-about-sql-aka-post/" rel="prev">Anecdotes about SQL AKA post 400</a></div>
			</div>
			<div class="post-area instapaper_body">
				<div class="post-title-line">
										<h1 class="instapaper_ignore"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/" class="post-title">How to get information about all databases without a loop</a></h1>
					<div class="post-byline">by <a href="/index.php/author/naomi/" title="Posts by Naomi Nosonovsky" rel="author">Naomi Nosonovsky</a> on November 30, 2011 in category <a href="/index.php/category/datamgmt/datadesign/" rel="category tag">Data Modelling and Design</a>. Article views: 131,766 </div>
				</div>
				<div class="post-tagline"><a href="https://twitter.com/intent/tweet?url=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/&text=RT @LessThanDot Blog - How to get information about all databases without a loop by naomi" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/&title=How to get information about all databases without a loop&source=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/&title=How to get information about all databases without a loop" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/&quote=How to get information about all databases without a loop" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/&title=How to get information about all databases without a loop" class="instapaper_button">Instapaper</a></div>

				<div class="post-content"><p>Quite often we want to consolidate query information across all databases (or all user databases). When this question is asked in forums, the usual recommendation is to either try running <a href="http://www.mssqltips.com/tip.asp?tip=1905&amp;ctc">undocumented sp_MSForEachDB stored procedure</a> or do a loop and use dynamic SQL. The example of such stored procedures can be found, for example, <a href="http://sqlusa.com/bestpractices/training/scripts/dynamicsql/">THIRD EXAMPLE &#8211; SPROC to enumerate all objects in databases</a>.</p>
<p>The idea occurred to me last night that while we do need a dynamic SQL to solve this problem, we don&#8217;t really need a loop unless we need a second loop involving looping through all tables.</p>
<h3>Table of Contents:</h3>
<p><a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#1">Indexes in all databases with their usage</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#2">Indexes in all databases with their physical stats</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#3">Count of all objects in all databases</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#4">Record Count in every table in a database</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#5">Quick Record Count in All Tables in All Databases</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#6">Quick Record Count in All Tables in All Databases (2)</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#7">Sizes of All Tables in a Database</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#8">Database Files Sizes in All Databases</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#9">Database Files Sizes in All Databases and used space</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#10">Backup All Databases with Compression (SQL 2008+)</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#11">All Schema Names in All Databases</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#12">List of All Tables in All Databases</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#13">List of All Tables in All Databases (2)</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#14">List of all Stored Procedures in All Databases</a><br />
<a href="/index.php/DataMgmt/DataDesign/how-to-get-information-about-all-databas#15">Database Files Growth</a></p>
<p>Here is a script demonstrating this idea &#8211; it lists indexes in all databases with their usage. This script was an answer to <a href="http://social.msdn.microsoft.com/Forums/en-US/transactsql/thread/ab4b39b0-5bb2-4ffc-a25d-6bb8fe6124ef/#f3a3a011-4318-44e2-97c1-5bdadd7b2444">Help in T-SQL Query thread</a> in MSDN T-SQL forum.</p>
<h2 id="1">Indexes in all databases with their usage</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="de1"><pre class="de1"><span class="kw1">declare</span> @<span class="kw1">SQL</span> <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>
<span class="kw1">if</span> <span class="kw2">object_id</span><span class="br0">&#40;</span><span class="st0">'tempdb..#Result'</span>,<span class="st0">'U'</span><span class="br0">&#41;</span> <span class="kw1">IS</span> not <span class="sy0">NULL</span>
&nbsp;<span class="kw1">drop</span> <span class="kw1">table</span> #Result
<span class="kw1">create</span> <span class="kw1">table</span> #Result <span class="br0">&#40;</span>DBName sysname, TableName Sysname, IndexName sysname, <span class="kw1">Usage</span> <span class="kw1">bigint</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">select</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> <span class="kw1">coalesce</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span>,<span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="kw1">CHAR</span><span class="br0">&#40;</span><span class="nu0">13</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="kw1">CHAR</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">' use '</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span><span class="br0">&#91;</span>Name<span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">';</span>
<span class="st0">insert into #Result select '</span> <span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span><span class="br0">&#91;</span>Name<span class="br0">&#93;</span>,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">' as DbName, </span>
<span class="st0">object_name(i.object_id) as tablename, &nbsp;i.name as indexname, </span>
<span class="st0">s.user_seeks + s.user_scans + s.user_lookups + s.user_updates as usage</span>
<span class="st0">from sys.indexes i &nbsp; </span>
<span class="st0">inner join sys.dm_db_index_usage_stats s &nbsp; &nbsp; &nbsp; &nbsp;</span>
<span class="st0">on s.object_id = i.object_id &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>
<span class="st0">and s.index_id = i.index_id &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>
<span class="st0">and s.database_id = db_id()</span>
<span class="st0">where objectproperty(i.object_id, '</span><span class="st0">'IsUserTable'</span><span class="st0">') = 1 &nbsp; </span>
<span class="st0">and i.index_id &gt; 0 </span>
<span class="st0">order by usage;'</span> <span class="kw1">from</span> sys.<span class="me1">databases</span> 
<span class="co1">--print (@SQL)</span>
<span class="kw1">execute</span> <span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span>
<span class="kw1">select</span> <span class="sy0">*</span> <span class="kw1">from</span> #Result <span class="kw1">order</span> <span class="kw1">by</span> <span class="br0">&#91;</span>DbName<span class="br0">&#93;</span>,<span class="br0">&#91;</span><span class="kw1">Usage</span><span class="br0">&#93;</span>
<span class="kw1">drop</span> <span class="kw1">table</span> #Result</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">declare @SQL nvarchar(max)
if object_id('tempdb..#Result','U') IS not NULL
 drop table #Result
create table #Result (DBName sysname, TableName Sysname, IndexName sysname, Usage bigint)

select @SQL = coalesce(@SQL,'') + CHAR(13) + CHAR(10) + ' use ' + QUOTENAME([Name]) + ';
insert into #Result select ' + quotename([Name],'''') + ' as DbName, 
object_name(i.object_id) as tablename,  i.name as indexname, 
s.user_seeks + s.user_scans + s.user_lookups + s.user_updates as usage
from sys.indexes i   
inner join sys.dm_db_index_usage_stats s        
on s.object_id = i.object_id                    
and s.index_id = i.index_id              
and s.database_id = db_id()
where objectproperty(i.object_id, ''IsUserTable'') = 1   
and i.index_id &gt; 0 
order by usage;' from sys.databases 
--print (@SQL)
execute (@SQL)
select * from #Result order by [DbName],[Usage]
drop table #Result</pre></div></div>

<h2 id="2">Indexes in all databases with their physical stats</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="de1"><pre class="de1"><span class="kw1">declare</span> @<span class="kw1">SQL</span> <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>
<span class="kw1">set</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> <span class="st0">''</span>
<span class="kw1">select</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> @<span class="kw1">SQL</span> <span class="sy0">+</span>
<span class="st0">'Select '</span> <span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span>name,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">' as [DB Name], </span>
<span class="st0">object_Name(PS.Object_ID,'</span> <span class="sy0">+</span> <span class="kw1">convert</span><span class="br0">&#40;</span><span class="kw1">varchar</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span>,database_id<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">') as [Object],</span>
<span class="st0">I.Name as [Index Name], PS.Partition_Number, PS.Index_Type_Desc, </span>
<span class="st0">PS.alloc_unit_type_desc,&nbsp; &nbsp; PS.index_depth, PS.index_level,</span>
<span class="st0">PS.avg_fragmentation_in_percent,&nbsp; &nbsp; PS.fragment_count,&nbsp; PS.avg_fragment_size_in_pages,</span>
<span class="st0">PS.page_count,&nbsp; PS.avg_page_space_used_in_percent,&nbsp; PS.record_count,&nbsp; &nbsp; </span>
<span class="st0">PS.ghost_record_count,&nbsp; PS.version_ghost_record_count,</span>
<span class="st0">PS.min_record_size_in_bytes,&nbsp; &nbsp; PS.max_record_size_in_bytes,&nbsp; &nbsp; PS.avg_record_size_in_bytes,</span>
<span class="st0">PS.forwarded_record_count,&nbsp; PS.compressed_page_count</span>
<span class="st0"> from '</span> <span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span>name<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'.sys.dm_db_index_physical_stats('</span> <span class="sy0">+</span> 
<span class="kw1">convert</span><span class="br0">&#40;</span><span class="kw1">varchar</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span>,database_id<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">', NULL, NULL, NULL, NULL) PS </span>
<span class="st0">INNER JOIN '</span> <span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span>name<span class="br0">&#41;</span> <span class="sy0">+</span> 
<span class="st0">'.sys.Indexes I on PS.Object_ID = I.Object_ID and PS.Index_ID = I.Index_ID '</span> 
<span class="sy0">+</span> <span class="kw1">CHAR</span><span class="br0">&#40;</span><span class="nu0">13</span><span class="br0">&#41;</span>
&nbsp;
&nbsp;<span class="kw1">from</span> sys.<span class="me1">databases</span> <span class="kw1">where</span> state_desc <span class="sy0">=</span> <span class="st0">'ONLINE'</span>
&nbsp;
<span class="kw1">execute</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">declare @SQL nvarchar(max)
set @SQL = ''
select @SQL = @SQL +
'Select ' + quotename(name,'''') + ' as [DB Name], 
object_Name(PS.Object_ID,' + convert(varchar(10),database_id) + ') as [Object],
I.Name as [Index Name], PS.Partition_Number, PS.Index_Type_Desc, 
PS.alloc_unit_type_desc,	PS.index_depth,	PS.index_level,
PS.avg_fragmentation_in_percent,	PS.fragment_count,	PS.avg_fragment_size_in_pages,
PS.page_count,	PS.avg_page_space_used_in_percent,	PS.record_count,	
PS.ghost_record_count,	PS.version_ghost_record_count,
PS.min_record_size_in_bytes,	PS.max_record_size_in_bytes,	PS.avg_record_size_in_bytes,
PS.forwarded_record_count,	PS.compressed_page_count
 from ' + quotename(name) + '.sys.dm_db_index_physical_stats(' + 
convert(varchar(10),database_id) + ', NULL, NULL, NULL, NULL) PS 
INNER JOIN ' + quotename(name) + 
'.sys.Indexes I on PS.Object_ID = I.Object_ID and PS.Index_ID = I.Index_ID ' 
+ CHAR(13)

 from sys.databases where state_desc = 'ONLINE'

execute(@SQL)</pre></div></div>

<p>Another example of the same idea you can find in <a href="http://wiki.lessthandot.com/index.php/Finding_Record_with_Last_Modified_date_in_all_tables">Finding Record with Last Modified date in all tables</a></p>
<p>Using this same idea you can get a count of all objects in all your databases using this PIVOT query:</p>
<h2 id="3">Count of all objects in all databases</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></td><td class="de1"><pre class="de1"><span class="kw1">declare</span> @Qry <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span> 
<span class="kw1">select</span> @Qry <span class="sy0">=</span> <span class="kw1">coalesce</span><span class="br0">&#40;</span>@Qry <span class="sy0">+</span> <span class="kw1">char</span><span class="br0">&#40;</span><span class="nu0">13</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="kw1">char</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">' UNION ALL '</span>,<span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'</span>
<span class="st0">select '</span> <span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span><span class="br0">&#91;</span>Name<span class="br0">&#93;</span>,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">' as DBName, [AGGREGATE_FUNCTION], [CHECK_CONSTRAINT],[DEFAULT_CONSTRAINT],</span>
&nbsp;
<span class="st0">[FOREIGN_KEY_CONSTRAINT],</span>
&nbsp;
<span class="st0">[SQL_SCALAR_FUNCTION],</span>
&nbsp;
<span class="st0">[CLR_SCALAR_FUNCTION],</span>
&nbsp;
<span class="st0">[CLR_TABLE_VALUED_FUNCTION],</span>
&nbsp;
<span class="st0">[SQL_INLINE_TABLE_VALUED_FUNCTION],</span>
&nbsp;
<span class="st0">[INTERNAL_TABLE],[SQL_STORED_PROCEDURE],[CLR_STORED_PROCEDURE],[PLAN_GUIDE],[PRIMARY_KEY_CONSTRAINT],</span>
<span class="st0">[RULE],[REPLICATION_FILTER_PROCEDURE],[SYNONYM],[SERVICE_QUEUE],[CLR_TRIGGER],[SQL_TABLE_VALUED_FUNCTION],[SQL_TRIGGER],</span>
<span class="st0">[TABLE_TYPE],[USER_TABLE],[UNIQUE_CONSTRAINT],[VIEW],[EXTENDED_STORED_PROCEDURE]</span>
&nbsp;
<span class="st0">from (select [Name], type_Desc from '</span> <span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span><span class="br0">&#91;</span>Name<span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'.sys.objects where is_ms_shipped = 0) src </span>
<span class="st0">PIVOT (count([Name]) FOR type_desc in ([AGGREGATE_FUNCTION], [CHECK_CONSTRAINT],[DEFAULT_CONSTRAINT],</span>
&nbsp;
<span class="st0">[FOREIGN_KEY_CONSTRAINT],</span>
&nbsp;
<span class="st0">[SQL_SCALAR_FUNCTION],</span>
&nbsp;
<span class="st0">[CLR_SCALAR_FUNCTION],</span>
&nbsp;
<span class="st0">[CLR_TABLE_VALUED_FUNCTION],</span>
&nbsp;
<span class="st0">[SQL_INLINE_TABLE_VALUED_FUNCTION],</span>
&nbsp;
<span class="st0">[INTERNAL_TABLE],[SQL_STORED_PROCEDURE],[CLR_STORED_PROCEDURE],[PLAN_GUIDE],[PRIMARY_KEY_CONSTRAINT],</span>
<span class="st0">[RULE],[REPLICATION_FILTER_PROCEDURE],[SYNONYM],[SERVICE_QUEUE],[CLR_TRIGGER],[SQL_TABLE_VALUED_FUNCTION],[SQL_TRIGGER],</span>
<span class="st0">[TABLE_TYPE],[USER_TABLE],[UNIQUE_CONSTRAINT],[VIEW],[EXTENDED_STORED_PROCEDURE])) pvt'</span> <span class="kw1">from</span> sys.<span class="me1">databases</span> 
<span class="kw1">where</span> <span class="br0">&#91;</span>name<span class="br0">&#93;</span> <span class="sy0">NOT</span> <span class="sy0">IN</span> <span class="br0">&#40;</span><span class="st0">'master'</span>,<span class="st0">'tempdb'</span>,<span class="st0">'model'</span>,<span class="st0">'msdb'</span><span class="br0">&#41;</span> <span class="kw1">order</span> <span class="kw1">by</span> <span class="br0">&#91;</span>Name<span class="br0">&#93;</span>
&nbsp;
<span class="kw1">execute</span><span class="br0">&#40;</span>@Qry<span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">declare @Qry nvarchar(max) 
select @Qry = coalesce(@Qry + char(13) + char(10) + ' UNION ALL ','') + '
select ' + quotename([Name],'''') + ' as DBName, [AGGREGATE_FUNCTION], [CHECK_CONSTRAINT],[DEFAULT_CONSTRAINT],

[FOREIGN_KEY_CONSTRAINT],

[SQL_SCALAR_FUNCTION],

[CLR_SCALAR_FUNCTION],

[CLR_TABLE_VALUED_FUNCTION],

[SQL_INLINE_TABLE_VALUED_FUNCTION],

[INTERNAL_TABLE],[SQL_STORED_PROCEDURE],[CLR_STORED_PROCEDURE],[PLAN_GUIDE],[PRIMARY_KEY_CONSTRAINT],
[RULE],[REPLICATION_FILTER_PROCEDURE],[SYNONYM],[SERVICE_QUEUE],[CLR_TRIGGER],[SQL_TABLE_VALUED_FUNCTION],[SQL_TRIGGER],
[TABLE_TYPE],[USER_TABLE],[UNIQUE_CONSTRAINT],[VIEW],[EXTENDED_STORED_PROCEDURE]

from (select [Name], type_Desc from ' + quotename([Name]) + '.sys.objects where is_ms_shipped = 0) src 
PIVOT (count([Name]) FOR type_desc in ([AGGREGATE_FUNCTION], [CHECK_CONSTRAINT],[DEFAULT_CONSTRAINT],

[FOREIGN_KEY_CONSTRAINT],

[SQL_SCALAR_FUNCTION],

[CLR_SCALAR_FUNCTION],

[CLR_TABLE_VALUED_FUNCTION],

[SQL_INLINE_TABLE_VALUED_FUNCTION],

[INTERNAL_TABLE],[SQL_STORED_PROCEDURE],[CLR_STORED_PROCEDURE],[PLAN_GUIDE],[PRIMARY_KEY_CONSTRAINT],
[RULE],[REPLICATION_FILTER_PROCEDURE],[SYNONYM],[SERVICE_QUEUE],[CLR_TRIGGER],[SQL_TABLE_VALUED_FUNCTION],[SQL_TRIGGER],
[TABLE_TYPE],[USER_TABLE],[UNIQUE_CONSTRAINT],[VIEW],[EXTENDED_STORED_PROCEDURE])) pvt' from sys.databases 
where [name] NOT IN ('master','tempdb','model','msdb') order by [Name]

execute(@Qry)</pre></div></div>

<p>You can only list types you&#8217;re interested in, of course.</p>
<p>The script below will give you a count of records in every table in a database:</p>
<h2 id="4">Record Count in every table in a database</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="de1"><pre class="de1"><span class="kw1">DECLARE</span> &nbsp;@DynamicSQL <span class="kw1">NVARCHAR</span><span class="br0">&#40;</span><span class="kw2">MAX</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">SELECT</span> &nbsp; @DynamicSQL <span class="sy0">=</span> <span class="kw1">COALESCE</span><span class="br0">&#40;</span>@DynamicSQL <span class="sy0">+</span> <span class="kw1">CHAR</span><span class="br0">&#40;</span><span class="nu0">13</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">' UNION ALL '</span> <span class="sy0">+</span> <span class="kw1">CHAR</span><span class="br0">&#40;</span><span class="nu0">13</span><span class="br0">&#41;</span>,
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">'SELECT '</span> <span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span>table_schema,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">' as [Schema Name], '</span> <span class="sy0">+</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>TABLE_NAME,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">' as [Table Name], COUNT(*) AS [Records Count] FROM '</span> <span class="sy0">+</span> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="kw2">quotename</span><span class="br0">&#40;</span>Table_schema<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'.'</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>TABLE_NAME<span class="br0">&#41;</span>
<span class="kw1">FROM</span> &nbsp; &nbsp; <span class="sy0">IN</span>F<span class="sy0">OR</span>MATION_SCHEMA.<span class="me1">TABLES</span>
<span class="kw1">ORDER</span> <span class="kw1">BY</span> TABLE_NAME
&nbsp;
<span class="co1">--print (@DynamicSQL) -- we may want to use PRINT to debug the SQL</span>
<span class="kw1">EXEC</span><span class="br0">&#40;</span> @DynamicSQL<span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">DECLARE  @DynamicSQL NVARCHAR(MAX)
 
SELECT   @DynamicSQL = COALESCE(@DynamicSQL + CHAR(13) + ' UNION ALL ' + CHAR(13),
                                '') + 
                                'SELECT ' + quotename(table_schema,'''') + ' as [Schema Name], ' +
                                QUOTENAME(TABLE_NAME,'''') + 
                                ' as [Table Name], COUNT(*) AS [Records Count] FROM ' + 
                                quotename(Table_schema) + '.' + QUOTENAME(TABLE_NAME)
FROM     INFORMATION_SCHEMA.TABLES
ORDER BY TABLE_NAME
 
--print (@DynamicSQL) -- we may want to use PRINT to debug the SQL
EXEC( @DynamicSQL)</pre></div></div>

<p>Quick row count in all tables in all databases in the server instance (you can exclude system databases from that loop, obviously)</p>
<h2 id="5">Quick Record Count in All Tables in All Databases</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="de1"><pre class="de1"><span class="kw1">declare</span> @<span class="kw1">SQL</span> <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">set</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> <span class="st0">''</span>
<span class="co1">--select * from sys.databases </span>
<span class="kw1">select</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> @<span class="kw1">SQL</span> <span class="sy0">+</span> <span class="kw1">CHAR</span><span class="br0">&#40;</span><span class="nu0">13</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'USE '</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span><span class="br0">&#91;</span>name<span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">';</span>
<span class="st0">SELECT '</span> <span class="sy0">+</span><span class="kw2">quotename</span><span class="br0">&#40;</span><span class="br0">&#91;</span>name<span class="br0">&#93;</span>,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'as [Database Name], </span>
<span class="st0"> &nbsp; SchemaName=s.name</span>
<span class="st0"> &nbsp;,TableName=t.name</span>
<span class="st0"> &nbsp;,CreateDate=t.create_date</span>
<span class="st0"> &nbsp;,ModifyDate=t.modify_date</span>
<span class="st0"> &nbsp;,p.rows</span>
<span class="st0"> &nbsp;,DataInKB=sum(a.used_pages)*8</span>
<span class="st0">FROM sys.schemas s</span>
<span class="st0">JOIN sys.tables t on s.schema_id=t.schema_id</span>
<span class="st0">JOIN sys.partitions p on t.object_id=p.object_id</span>
<span class="st0">JOIN sys.allocation_units a on a.container_id=p.partition_id</span>
<span class="st0">GROUP BY s.name, t.name, t.create_date, t.modify_date, p.rows</span>
<span class="st0">ORDER BY SchemaName, TableName'</span> <span class="kw1">from</span> sys.<span class="me1">databases</span> &nbsp;
&nbsp;
<span class="kw1">execute</span> <span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">declare @SQL nvarchar(max)

set @SQL = ''
--select * from sys.databases 
select @SQL = @SQL + CHAR(13) + 'USE ' + QUOTENAME([name]) + ';
SELECT ' +quotename([name],'''') + 'as [Database Name], 
   SchemaName=s.name
  ,TableName=t.name
  ,CreateDate=t.create_date
  ,ModifyDate=t.modify_date
  ,p.rows
  ,DataInKB=sum(a.used_pages)*8
FROM sys.schemas s
JOIN sys.tables t on s.schema_id=t.schema_id
JOIN sys.partitions p on t.object_id=p.object_id
JOIN sys.allocation_units a on a.container_id=p.partition_id
GROUP BY s.name, t.name, t.create_date, t.modify_date, p.rows
ORDER BY SchemaName, TableName' from sys.databases  

execute (@SQL)</pre></div></div>

<p>Another way with less info:</p>
<h2 id="6">Quick Record Count in All Tables in All Databases</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="de1"><pre class="de1"><span class="kw1">declare</span> @<span class="kw1">SQL</span> <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">set</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> <span class="st0">''</span>
<span class="co1">--select * from sys.databases </span>
<span class="kw1">select</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> @<span class="kw1">SQL</span> <span class="sy0">+</span> <span class="kw1">CHAR</span><span class="br0">&#40;</span><span class="nu0">13</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'USE '</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span><span class="br0">&#91;</span>name<span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">';</span>
<span class="st0">SELECT '</span> <span class="sy0">+</span><span class="kw2">quotename</span><span class="br0">&#40;</span><span class="br0">&#91;</span>name<span class="br0">&#93;</span>,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'as [Database Name], so.name AS [Table Name], &nbsp; </span>
<span class="st0"> &nbsp; &nbsp;rows AS [RowCount] &nbsp; </span>
<span class="st0">FROM sysindexes AS si &nbsp; </span>
<span class="st0"> &nbsp; &nbsp;join sysobjects AS so on si.id = so.id &nbsp; </span>
<span class="st0">WHERE indid IN (0,1) &nbsp; </span>
<span class="st0"> &nbsp; &nbsp;AND xtype = '</span><span class="st0">'U'</span><span class="st0">''</span> <span class="kw1">from</span> sys.<span class="me1">databases</span> &nbsp;
&nbsp;
<span class="kw1">execute</span> <span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span> &nbsp; &nbsp;</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">declare @SQL nvarchar(max)

set @SQL = ''
--select * from sys.databases 
select @SQL = @SQL + CHAR(13) + 'USE ' + QUOTENAME([name]) + ';
SELECT ' +quotename([name],'''') + 'as [Database Name], so.name AS [Table Name],   
    rows AS [RowCount]   
FROM sysindexes AS si   
    join sysobjects AS so on si.id = so.id   
WHERE indid IN (0,1)   
    AND xtype = ''U''' from sys.databases  

execute (@SQL)    </pre></div></div>

<p>Here is a script showing sizes from all tables in a database.</p>
<h2 id="7">Sizes of All Tables in a Database</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="de1"><pre class="de1"><span class="co1">--exec sp_MSforeachtable 'print ''?'' exec sp_spaceused ''?'''</span>
<span class="kw1">if</span> <span class="kw2">OBJECT_ID</span><span class="br0">&#40;</span><span class="st0">'tempdb..#TablesSizes'</span><span class="br0">&#41;</span> <span class="kw1">IS</span> <span class="sy0">NOT</span> <span class="sy0">NULL</span>
&nbsp; &nbsp;<span class="kw1">drop</span> <span class="kw1">table</span> #TablesSizes
&nbsp; &nbsp;
<span class="kw1">create</span> <span class="kw1">table</span> #TablesSizes <span class="br0">&#40;</span>TableName sysname, <span class="kw1">Rows</span> <span class="kw1">bigint</span>, reserved <span class="kw1">varchar</span><span class="br0">&#40;</span><span class="nu0">100</span><span class="br0">&#41;</span>, <span class="kw1">data</span> <span class="kw1">varchar</span><span class="br0">&#40;</span><span class="nu0">100</span><span class="br0">&#41;</span>, index_size <span class="kw1">varchar</span><span class="br0">&#40;</span><span class="nu0">100</span><span class="br0">&#41;</span>, unused <span class="kw1">varchar</span><span class="br0">&#40;</span><span class="nu0">100</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">declare</span> @<span class="kw1">sql</span> <span class="kw1">varchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>
<span class="kw1">select</span> @<span class="kw1">sql</span> <span class="sy0">=</span> <span class="kw1">coalesce</span><span class="br0">&#40;</span>@<span class="kw1">sql</span>,<span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'</span>
<span class="st0">insert into #TablesSizes execute sp_spaceused '</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>Table_Name,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="kw1">from</span> <span class="sy0">IN</span>F<span class="sy0">OR</span>MATION_SCHEMA.<span class="me1">TABLES</span>
&nbsp;
<span class="co1">--print (@SQL)</span>
<span class="kw1">execute</span> <span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">select</span> <span class="sy0">*</span> <span class="kw1">from</span> #TablesSizes <span class="kw1">order</span> <span class="kw1">by</span> TableName</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">--exec sp_MSforeachtable 'print ''?'' exec sp_spaceused ''?'''
if OBJECT_ID('tempdb..#TablesSizes') IS NOT NULL
   drop table #TablesSizes
   
create table #TablesSizes (TableName sysname, Rows bigint, reserved varchar(100), data varchar(100), index_size varchar(100), unused varchar(100))

declare @sql varchar(max)
select @sql = coalesce(@sql,'') + '
insert into #TablesSizes execute sp_spaceused ' + QUOTENAME(Table_Name,'''') from INFORMATION_SCHEMA.TABLES

--print (@SQL)
execute (@SQL)

select * from #TablesSizes order by TableName</pre></div></div>

<p>Here is a script showing database files sizes for all databases</p>
<p>Before I show the T-SQL code I&#8217;d like to point to this <a href="http://blogs.technet.com/b/heyscriptingguy/archive/2010/11/02/use-powershell-to-obtain-sql-server-database-sizes.aspx">very interesting blog</a> as how to get database sizes in all SQL Server instances using PowerShell</p>
<h2 id="8">Database Files Sizes in All Databases</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="de1"><pre class="de1"><span class="kw1">create</span> &nbsp;<span class="kw1">table</span> #FileSizes <span class="br0">&#40;</span>DBName sysname, <span class="br0">&#91;</span><span class="kw1">File</span> Name<span class="br0">&#93;</span> <span class="kw1">varchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>, <span class="br0">&#91;</span>Physical Name<span class="br0">&#93;</span> <span class="kw1">varchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>,
<span class="kw1">Size</span> <span class="kw1">decimal</span><span class="br0">&#40;</span><span class="nu0">12</span>,<span class="nu0">2</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
<span class="kw1">declare</span> @<span class="kw1">SQL</span> <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>
<span class="kw1">set</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> <span class="st0">''</span>
<span class="kw1">select</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> @<span class="kw1">SQL</span> <span class="sy0">+</span> <span class="st0">'USE'</span> &nbsp;<span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>name<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'</span>
<span class="st0">insert into #FileSizes</span>
<span class="st0">select '</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>name,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">', Name, Physical_Name, size/1024.0 from sys.database_files '</span> 
<span class="kw1">from</span> sys.<span class="me1">databases</span>
&nbsp;
<span class="kw1">execute</span> <span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span>
<span class="kw1">select</span> <span class="sy0">*</span> <span class="kw1">from</span> #FileSizes <span class="kw1">order</span> <span class="kw1">by</span> DBName, <span class="br0">&#91;</span><span class="kw1">File</span> Name<span class="br0">&#93;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">create  table #FileSizes (DBName sysname, [File Name] varchar(max), [Physical Name] varchar(max),
Size decimal(12,2))
declare @SQL nvarchar(max)
set @SQL = ''
select @SQL = @SQL + 'USE'  + QUOTENAME(name) + '
insert into #FileSizes
select ' + QUOTENAME(name,'''') + ', Name, Physical_Name, size/1024.0 from sys.database_files ' 
from sys.databases

execute (@SQL)
select * from #FileSizes order by DBName, [File Name]</pre></div></div>

<p>&nbsp;</p>
<p>You can also find the script to show all database sizes using sp_MsForEachDB <a href="http://www.kodyaz.com/articles/list-database-size-using-sql-server-sp_msforeachdb.aspx">here</a>. See also this <a href="http://social.msdn.microsoft.com/Forums/en-US/transactsql/thread/226bbffc-2cfa-4fa8-8873-48dec6b5f17f">relevant thread</a> at MSDN.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
</pre></td><td class="de1"><pre class="de1"><span class="kw1">declare</span> @<span class="kw1">Sql</span> <span class="kw1">varchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>
<span class="kw1">select</span> @<span class="kw1">SQL</span> <span class="sy0">=</span><span class="kw1">coalesce</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span> <span class="sy0">+</span> <span class="kw1">char</span><span class="br0">&#40;</span><span class="nu0">13</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'UNION ALL </span>
<span class="st0">'</span> ,<span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'SELECT '</span><span class="st0">''</span> <span class="sy0">+</span> name <span class="sy0">+</span> <span class="st0">''</span><span class="st0">' AS DBNAME,'</span> <span class="sy0">+</span> 
<span class="st0">'sum(size * 8 /1024.0) AS MB from '</span> <span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span>name<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'.dbo.sysfiles'</span> 
<span class="kw1">from</span> sys.<span class="me1">databases</span>
<span class="kw1">order</span> <span class="kw1">by</span> name
&nbsp;
<span class="kw1">execute</span> <span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">declare @Sql varchar(max)
select @SQL =coalesce(@SQL + char(13) + 'UNION ALL 
' ,'') + 'SELECT ''' + name + ''' AS DBNAME,' + 
'sum(size * 8 /1024.0) AS MB from ' + quotename(name) + '.dbo.sysfiles' 
from sys.databases
order by name

execute (@SQL)</pre></div></div>

<p>&nbsp;</p>
<h2 id="9">Database Files Sizes in All Databases and used space</h2>
<p>Note, that this script assumes that database files have the same name as the database itself. If this is not true, this script will not return correct result.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="de1"><pre class="de1"><span class="kw1">create</span> <span class="kw1">table</span> #Test <span class="br0">&#40;</span>DbName sysname, TotalSize <span class="kw1">decimal</span><span class="br0">&#40;</span><span class="nu0">20</span>,<span class="nu0">2</span><span class="br0">&#41;</span>, Used <span class="kw1">decimal</span><span class="br0">&#40;</span><span class="nu0">20</span>,<span class="nu0">2</span><span class="br0">&#41;</span>, <span class="br0">&#91;</span><span class="kw1">free</span> <span class="kw1">space</span> percentage<span class="br0">&#93;</span> <span class="kw1">decimal</span><span class="br0">&#40;</span><span class="nu0">20</span>,<span class="nu0">2</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">declare</span> @<span class="kw1">SQL</span> <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>
<span class="kw1">select</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> <span class="kw1">coalesce</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span>,<span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> 
<span class="st0">'USE '</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>Name<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'</span>
<span class="st0">insert into #Test</span>
<span class="st0">select DB.name, ssf.size*8 as total, </span>
<span class="st0">FILEPROPERTY (AF.name, '</span><span class="st0">'spaceused'</span><span class="st0">')*8 as used, </span>
<span class="st0">((ssf.size*8) - (FILEPROPERTY (AF.name, '</span><span class="st0">'spaceused'</span><span class="st0">')*8))*100/(ssf.size*8) as [free space percentage]</span>
<span class="st0">from sys.sysALTfiles AF </span>
<span class="st0">inner join sys.sysfiles ssf on ssf.name=AF.name COLLATE SQL_Latin1_General_CP1_CI_AS</span>
<span class="st0">INNER JOIN sys.databases DB ON AF.dbid=DB.database_id </span>
<span class="st0">where ssf.groupid&lt;&gt;1'</span> <span class="kw1">from</span> sys.<span class="me1">databases</span>
&nbsp;
<span class="kw1">execute</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">select</span> <span class="sy0">*</span> <span class="kw1">from</span> #Test <span class="kw1">order</span> <span class="kw1">by</span> DbName </pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">create table #Test (DbName sysname, TotalSize decimal(20,2), Used decimal(20,2), [free space percentage] decimal(20,2))

declare @SQL nvarchar(max)
select @SQL = coalesce(@SQL,'') + 
'USE ' + QUOTENAME(Name) + '
insert into #Test
select DB.name, ssf.size*8 as total, 
FILEPROPERTY (AF.name, ''spaceused'')*8 as used, 
((ssf.size*8) - (FILEPROPERTY (AF.name, ''spaceused'')*8))*100/(ssf.size*8) as [free space percentage]
from sys.sysALTfiles AF 
inner join sys.sysfiles ssf on ssf.name=AF.name COLLATE SQL_Latin1_General_CP1_CI_AS
INNER JOIN sys.databases DB ON AF.dbid=DB.database_id 
where ssf.groupid&lt;&gt;1' from sys.databases

execute(@SQL)

select * from #Test order by DbName </pre></div></div>

<p>This script will backup all databases (using compression):</p>
<h2 id="10">Backup All Databases with Compression (SQL 2008+)</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="de1"><pre class="de1"><span class="kw1">Declare</span> @ToExecute <span class="kw1">nvarChar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>;
<span class="kw1">declare</span> @cBackupPath <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span> <span class="sy0">=</span> N<span class="st0">'D:\SQL Server Databases\SQL 2014\Backup'</span>;
&nbsp;
<span class="kw1">Select</span> @ToExecute <span class="sy0">=</span> <span class="br0">&#40;</span><span class="kw1">select</span> <span class="kw1">CHAR</span><span class="br0">&#40;</span><span class="nu0">13</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="kw1">CHAR</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="kw1">CHAR</span><span class="br0">&#40;</span><span class="nu0">13</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="kw1">CHAR</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'Backup Database '</span> <span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span><span class="br0">&#91;</span>Name<span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">+</span>
<span class="st0">' To Disk = '</span> <span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span>@cBackupPath <span class="sy0">+</span> <span class="br0">&#91;</span>Name<span class="br0">&#93;</span> <span class="sy0">+</span> <span class="st0">'.bak'</span>,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'</span>
<span class="st0">WITH NOFORMAT, NOINIT,</span>
<span class="st0">SKIP, NOREWIND, NOUNLOAD, COMPRESSION, STATS = 10;'</span>
&nbsp;
<span class="kw1">From</span> sys.<span class="me1">databases</span>
&nbsp;
<span class="kw1">Where</span> <span class="br0">&#91;</span>Name<span class="br0">&#93;</span> Not In <span class="br0">&#40;</span><span class="st0">'tempdb'</span><span class="br0">&#41;</span> and <span class="kw2">databasepropertyex</span> <span class="br0">&#40;</span><span class="br0">&#91;</span>Name<span class="br0">&#93;</span>,<span class="st0">'Status'</span><span class="br0">&#41;</span> <span class="sy0">=</span> <span class="st0">'online'</span>
<span class="kw1">order</span> <span class="kw1">by</span> <span class="br0">&#91;</span>name<span class="br0">&#93;</span>
&nbsp;
<span class="kw1">for</span> xml <span class="kw1">path</span><span class="br0">&#40;</span><span class="st0">''</span><span class="br0">&#41;</span>, type<span class="br0">&#41;</span>.<span class="kw1">value</span><span class="br0">&#40;</span><span class="st0">'.'</span>, <span class="st0">'nvarchar(max)'</span><span class="br0">&#41;</span>;
&nbsp;
<span class="kw1">print</span> @ToExecute
&nbsp;
<span class="kw1">Execute</span> <span class="br0">&#40;</span>@ToExecute<span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">Declare @ToExecute nvarChar(max);
declare @cBackupPath nvarchar(max) = N'D:\SQL Server Databases\SQL 2014\Backup';

Select @ToExecute = (select CHAR(13) + CHAR(10) + CHAR(13) + CHAR(10) + 'Backup Database ' + quotename([Name]) +
' To Disk = ' + quotename(@cBackupPath + [Name] + '.bak','''') + '
WITH NOFORMAT, NOINIT,
SKIP, NOREWIND, NOUNLOAD, COMPRESSION, STATS = 10;'

From sys.databases

Where [Name] Not In ('tempdb') and databasepropertyex ([Name],'Status') = 'online'
order by [name]

for xml path(''), type).value('.', 'nvarchar(max)');

print @ToExecute

Execute (@ToExecute)</pre></div></div>

<p>&nbsp;</p>
<h2 id="11">All Schema Names in All Databases</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="de1"><pre class="de1"><span class="kw1">declare</span> @<span class="kw1">Sql</span> <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>
<span class="kw1">create</span> <span class="kw1">table</span> AllDBSchemas <span class="br0">&#40;</span><span class="br0">&#91;</span>DB Name<span class="br0">&#93;</span> sysname, <span class="br0">&#91;</span><span class="kw1">Schema</span> Name<span class="br0">&#93;</span> sysname<span class="br0">&#41;</span>
&nbsp;
<span class="kw1">select</span> @<span class="kw1">Sql</span> <span class="sy0">=</span> <span class="kw1">coalesce</span><span class="br0">&#40;</span>@<span class="kw1">Sql</span>,<span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'</span>
<span class="st0">insert into AllDBSchemas</span>
&nbsp;
<span class="st0">select '</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>name,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">' as [DB Name], [Name] as [Schema Name] from '</span> <span class="sy0">+</span> 
<span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>Name<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'.sys.schemas order by [DB Name],[Name];'</span> <span class="kw1">from</span> sys.<span class="me1">databases</span>
<span class="kw1">order</span> <span class="kw1">by</span> name
&nbsp;
<span class="kw1">execute</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">select</span> <span class="sy0">*</span> <span class="kw1">from</span> AllDBSchemas <span class="kw1">order</span> <span class="kw1">by</span> <span class="br0">&#91;</span>DB Name<span class="br0">&#93;</span>,<span class="br0">&#91;</span><span class="kw1">SCHEMA</span> NAME<span class="br0">&#93;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">declare @Sql nvarchar(max)
create table AllDBSchemas ([DB Name] sysname, [Schema Name] sysname)

select @Sql = coalesce(@Sql,'') + '
insert into AllDBSchemas

select ' + QUOTENAME(name,'''') + ' as [DB Name], [Name] as [Schema Name] from ' + 
QUOTENAME(Name) + '.sys.schemas order by [DB Name],[Name];' from sys.databases
order by name

execute(@SQL)

select * from AllDBSchemas order by [DB Name],[SCHEMA NAME]</pre></div></div>

<p>&nbsp;</p>
<h2 id="12">List of All Tables in All Databases</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="de1"><pre class="de1"><span class="kw1">CREATE</span> <span class="kw1">TABLE</span> AllTables <span class="br0">&#40;</span><span class="br0">&#91;</span>DB Name<span class="br0">&#93;</span> sysname, <span class="br0">&#91;</span><span class="kw1">Schema</span> Name<span class="br0">&#93;</span> sysname, <span class="br0">&#91;</span><span class="kw1">Table</span> Name<span class="br0">&#93;</span> sysname<span class="br0">&#41;</span>
&nbsp;
<span class="kw1">DECLARE</span> @<span class="kw1">SQL</span> <span class="kw1">NVARCHAR</span><span class="br0">&#40;</span><span class="kw2">MAX</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">SELECT</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> <span class="kw1">COALESCE</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span>,<span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'</span>
<span class="st0">insert into AllTables</span>
&nbsp;
<span class="st0">select '</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>name,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">' as [DB Name], [Table_Schema] as [Table Schema], [Table_Name] as [Table Name] from '</span> <span class="sy0">+</span>
<span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>Name<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'.INFORMATION_SCHEMA.Tables;'</span> <span class="kw1">FROM</span> sys.<span class="me1">databases</span>
<span class="kw1">ORDER</span> <span class="kw1">BY</span> name
&nbsp;
<span class="kw1">EXECUTE</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">SELECT</span> <span class="sy0">*</span> <span class="kw1">FROM</span> AllTables <span class="kw1">ORDER</span> <span class="kw1">BY</span> <span class="br0">&#91;</span>DB Name<span class="br0">&#93;</span>,<span class="br0">&#91;</span><span class="kw1">SCHEMA</span> NAME<span class="br0">&#93;</span>, <span class="br0">&#91;</span><span class="kw1">Table</span> Name<span class="br0">&#93;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">CREATE TABLE AllTables ([DB Name] sysname, [Schema Name] sysname, [Table Name] sysname)

DECLARE @SQL NVARCHAR(MAX)
 
SELECT @SQL = COALESCE(@SQL,'') + '
insert into AllTables
 
select ' + QUOTENAME(name,'''') + ' as [DB Name], [Table_Schema] as [Table Schema], [Table_Name] as [Table Name] from ' +
QUOTENAME(Name) + '.INFORMATION_SCHEMA.Tables;' FROM sys.databases
ORDER BY name
 
EXECUTE(@SQL)
 
SELECT * FROM AllTables ORDER BY [DB Name],[SCHEMA NAME], [Table Name]</pre></div></div>

<p>Alternative way to get all tables in all databases:</p>
<h2 id="13">List of All Tables in All Databases</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="de1"><pre class="de1"><span class="kw1">if</span> <span class="kw2">object_ID</span><span class="br0">&#40;</span><span class="st0">'TempDB..#AllTables'</span>,<span class="st0">'U'</span><span class="br0">&#41;</span> <span class="kw1">IS</span> <span class="sy0">NOT</span> <span class="sy0">NULL</span> <span class="kw1">drop</span> <span class="kw1">table</span> #AllTables
<span class="kw1">CREATE</span> <span class="kw1">TABLE</span> #AllTables <span class="br0">&#40;</span><span class="br0">&#91;</span>DB Name<span class="br0">&#93;</span> sysname, <span class="br0">&#91;</span><span class="kw1">Schema</span> Name<span class="br0">&#93;</span> <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="nu0">128</span><span class="br0">&#41;</span> <span class="sy0">NULL</span>, <span class="br0">&#91;</span><span class="kw1">Table</span> Name<span class="br0">&#93;</span> sysname, create_date <span class="kw1">datetime</span>, modify_date <span class="kw1">datetime</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">DECLARE</span> @<span class="kw1">SQL</span> <span class="kw1">NVARCHAR</span><span class="br0">&#40;</span><span class="kw2">MAX</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">SELECT</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> <span class="kw1">COALESCE</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span>,<span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'USE '</span> <span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span>name<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'</span>
<span class="st0">insert into #AllTables </span>
<span class="st0">select '</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>name,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">' as [DB Name], schema_name(schema_id) as [Table Schema], [Name] as [Table Name], Create_Date, Modify_Date</span>
<span class="st0"> from '</span> <span class="sy0">+</span>
<span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>Name<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'.sys.Tables;'</span> <span class="kw1">FROM</span> sys.<span class="me1">databases</span>
<span class="kw1">ORDER</span> <span class="kw1">BY</span> name
<span class="co1">--print @SQL </span>
<span class="kw1">EXECUTE</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">if object_ID('TempDB..#AllTables','U') IS NOT NULL drop table #AllTables
CREATE TABLE #AllTables ([DB Name] sysname, [Schema Name] nvarchar(128) NULL, [Table Name] sysname, create_date datetime, modify_date datetime)

DECLARE @SQL NVARCHAR(MAX)
 
SELECT @SQL = COALESCE(@SQL,'') + 'USE ' + quotename(name) + '
insert into #AllTables 
select ' + QUOTENAME(name,'''') + ' as [DB Name], schema_name(schema_id) as [Table Schema], [Name] as [Table Name], Create_Date, Modify_Date
 from ' +
QUOTENAME(Name) + '.sys.Tables;' FROM sys.databases
ORDER BY name
--print @SQL 
EXECUTE(@SQL)</pre></div></div>

<h2 id="14">List of all Stored Procedures in All Databases</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="de1"><pre class="de1"><span class="kw1">create</span> <span class="kw1">table</span> #SPList <span class="br0">&#40;</span><span class="br0">&#91;</span>DB Name<span class="br0">&#93;</span> sysname, <span class="br0">&#91;</span>SP Name<span class="br0">&#93;</span> sysname, create_date <span class="kw1">datetime</span>, modify_date <span class="kw1">datetime</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">declare</span> @<span class="kw1">SQL</span> <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>
<span class="kw1">set</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> <span class="st0">''</span>
<span class="kw1">select</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> @<span class="kw1">SQL</span> <span class="sy0">+</span> <span class="st0">' insert into #SPList </span>
<span class="st0">select '</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>name, <span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">', name, create_date, modify_date</span>
<span class="st0">from '</span> <span class="sy0">+</span> <span class="kw2">QUOTENAME</span><span class="br0">&#40;</span>name<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'.sys.procedures'</span> <span class="kw1">from</span> sys.<span class="me1">databases</span>
&nbsp;
<span class="kw1">execute</span> <span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span>
&nbsp;
<span class="kw1">select</span> <span class="sy0">*</span> <span class="kw1">from</span> #SPList <span class="kw1">order</span> <span class="kw1">by</span> <span class="br0">&#91;</span>DB Name<span class="br0">&#93;</span>, <span class="br0">&#91;</span>SP Name<span class="br0">&#93;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">create table #SPList ([DB Name] sysname, [SP Name] sysname, create_date datetime, modify_date datetime)

declare @SQL nvarchar(max)
set @SQL = ''
select @SQL = @SQL + ' insert into #SPList 
select ' + QUOTENAME(name, '''') + ', name, create_date, modify_date
from ' + QUOTENAME(name) + '.sys.procedures' from sys.databases

execute (@SQL)

select * from #SPList order by [DB Name], [SP Name]</pre></div></div>

<h2 id="15">Database Files Growth</h2>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td><td class="de1"><pre class="de1"><span class="co1">--select * from sys.sysfiles &nbsp;</span>
&nbsp;
<span class="kw1">declare</span> @<span class="kw1">SQL</span> <span class="kw1">nvarchar</span><span class="br0">&#40;</span><span class="kw2">max</span><span class="br0">&#41;</span>
<span class="kw1">select</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> <span class="kw1">coalesce</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span> <span class="sy0">+</span> <span class="st0">'</span>
<span class="st0">UNION ALL '</span>,<span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span> 
&nbsp;
<span class="st0">'SELECT CONVERT(varchar(100),</span>
<span class="st0">SERVERPROPERTY('</span><span class="st0">'Servername'</span><span class="st0">')) AS Server, '</span> <span class="sy0">+</span> 
<span class="kw2">quotename</span><span class="br0">&#40;</span>name,<span class="st0">''</span><span class="st0">''</span><span class="br0">&#41;</span> <span class="sy0">+</span><span class="st0">' &nbsp;as DatabaseName,</span>
<span class="st0"> &nbsp; &nbsp;CAST(name as varchar(128)) COLLATE SQL_Latin1_General_CP1_CI_AS as name,</span>
<span class="st0"> &nbsp; &nbsp;CAST(filename as varchar(128)) COLLATE SQL_Latin1_General_CP1_CI_AS as FileName,</span>
<span class="st0"> &nbsp; &nbsp;Autogrowth = '</span><span class="st0">'Autogrowth: '</span><span class="st0">'</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp;+</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp;CASE</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WHEN (status &amp; 0x100000 = 0 AND CEILING((growth * 8192.0) / (1024.0 * 1024.0)) = 0.00) OR growth = 0 THEN '</span><span class="st0">'None'</span><span class="st0">'</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WHEN status &amp; 0x100000 = 0 THEN '</span><span class="st0">'By '</span><span class="st0">' + </span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CONVERT(VARCHAR,CEILING((growth * 8192.0) / (1024.0 * 1024.0))) + '</span><span class="st0">' MB'</span><span class="st0">'</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ELSE '</span><span class="st0">'By '</span><span class="st0">' + CONVERT(VARCHAR,growth) + '</span><span class="st0">' percent'</span><span class="st0">'</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp;END</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp;+</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp;CASE</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WHEN (status &amp; 0x100000 = 0 AND CEILING((growth * 8192.0) / (1024.0 * 1024.0)) = 0.00) OR growth = 0 THEN '</span><span class="st0">''</span><span class="st0">'</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WHEN CAST([maxsize] * 8.0 / 1024 AS DEC(20,2)) &lt;= 0.00 THEN '</span><span class="st0">', unrestricted growth'</span><span class="st0">'</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ELSE '</span><span class="st0">', restricted growth to '</span><span class="st0">' + CAST(CAST([maxsize] * 8.0 / 1024 AS DEC(20)) AS VARCHAR) + '</span><span class="st0">' MB'</span><span class="st0">'</span>
<span class="st0"> &nbsp; &nbsp; &nbsp; &nbsp;END</span>
<span class="st0">FROM '</span> &nbsp;<span class="sy0">+</span> <span class="kw2">quotename</span><span class="br0">&#40;</span>name<span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'.sys.sysfiles &nbsp;s'</span>
<span class="kw1">from</span> sys.<span class="me1">databases</span>
&nbsp;
<span class="kw1">set</span> @<span class="kw1">SQL</span> <span class="sy0">=</span> @<span class="kw1">SQL</span> <span class="sy0">+</span> <span class="st0">' </span>
<span class="st0">ORDER BY DatabaseName'</span>
&nbsp;
<span class="kw1">print</span> @<span class="kw1">SQL</span>
&nbsp;
<span class="kw1">execute</span><span class="br0">&#40;</span>@<span class="kw1">SQL</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">--select * from sys.sysfiles  

declare @SQL nvarchar(max)
select @SQL = coalesce(@SQL + '
UNION ALL ','') + 

'SELECT CONVERT(varchar(100),
SERVERPROPERTY(''Servername'')) AS Server, ' + 
quotename(name,'''') +'  as DatabaseName,
    CAST(name as varchar(128)) COLLATE SQL_Latin1_General_CP1_CI_AS as name,
    CAST(filename as varchar(128)) COLLATE SQL_Latin1_General_CP1_CI_AS as FileName,
    Autogrowth = ''Autogrowth: ''
        +
        CASE
            WHEN (status &amp; 0x100000 = 0 AND CEILING((growth * 8192.0) / (1024.0 * 1024.0)) = 0.00) OR growth = 0 THEN ''None''
            WHEN status &amp; 0x100000 = 0 THEN ''By '' + 
            CONVERT(VARCHAR,CEILING((growth * 8192.0) / (1024.0 * 1024.0))) + '' MB''
            ELSE ''By '' + CONVERT(VARCHAR,growth) + '' percent''
        END
        +
        CASE
            WHEN (status &amp; 0x100000 = 0 AND CEILING((growth * 8192.0) / (1024.0 * 1024.0)) = 0.00) OR growth = 0 THEN ''''
            WHEN CAST([maxsize] * 8.0 / 1024 AS DEC(20,2)) &lt;= 0.00 THEN '', unrestricted growth''
            ELSE '', restricted growth to '' + CAST(CAST([maxsize] * 8.0 / 1024 AS DEC(20)) AS VARCHAR) + '' MB''
        END
FROM '  + quotename(name) + '.sys.sysfiles  s'
from sys.databases

set @SQL = @SQL + ' 
ORDER BY DatabaseName'

print @SQL

execute(@SQL)</pre></div></div>

<p>The possibilities are endless.</p>
<p>*** <strong>Remember, if you have a SQL related question, try our <a href="http://forum.lessthandot.com/viewforum.php?f=17">Microsoft SQL Server Programming</a> forum or our <a href="http://forum.lessthandot.com/viewforum.php?f=22">Microsoft SQL Server Admin</a> forum.</strong><ins></ins></p>
<div class='rp4wp-related-posts'>
<h3>Related Posts</h3>
<ul>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/datadesign/interesting-t-sql-problems/'>Interesting T-SQL problems</a><p>With this blog post I am hoping to start a new series of blogs devoted&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/dbadmin/sql-server-baseline-collection/'>SQL Server Baseline Collection</a><p>SQL Server baseline collection is an important task that is too frequently overlooked. Collecting information&hellip;</p></div>
</li>
</ul>
</div>
</div>
				<div class="post-author">
					<div class="userInfo"><h2>About the Author</h2>Naomi Nosonovsky, Senior Software Developer, has more than 15 years of enterprise experience in analysis, design, development and implementation of high-performance client/server data management solutions.

She is a Personality of the Year for 2008, 2009, 2010 and 2011 at www.universalthread.com in .NET, SQL Server & VFP categories.

She is also an All Star contributor/MCC Community Contributor at forums.asp.net and MSDN T-SQL forum.


 
	



    

    


<br style="clear: left" /><div class="bioSoc"><span class="bioSocTitle">Social Sitings</span><a href="http://www.facebook.com/profile.php?id=http://www.facebook.com/?sk=messages&tid=1240691655679#!/profile.php?id=10395470" title="Naomi at Facebook" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_facebook.png" alt="Facebook" /></a><a href="http://www.linkedin.com/profile?viewProfile=&key=55538716&trk=tab_pro" title="Naomi at LinkedIn" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="LinkedIn" /></a><a href="http://delicious.com/http://delicious.com/naomi_nos" title="Naomi at delicious" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_delicious.png" alt="delicious" /></a><a href="/index.php/author/naomi/feed/" title="Blog RSS feed for Naomi" class="bioSocLink"><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="LTD RSS Feed" /></a></div></div>				</div>
				<div class="post-foot instapaper_ignore">
					<div class="post-tagline">
						<div class="post-foot-views"><label>Article views:</label> 131,766 </div>
						<div class="post-foot-more-posts">
                            <a href="/index.php/author/naomi/">Read More Posts by Naomi Nosonovsky</a>
						</div>
					</div>
					<div>
						 
					</div>
					<div class="post-tagline" style="height: auto">
						<span class="social-button-label">Share:</span><a href="https://twitter.com/intent/tweet?url=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/&text=RT @LessThanDot Blog - How to get information about all databases without a loop by naomi" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/&title=How to get information about all databases without a loop&source=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/&title=How to get information about all databases without a loop" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/&quote=How to get information about all databases without a loop" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/&title=How to get information about all databases without a loop" class="instapaper_button">Instapaper</a>					</div>			
				</div>
				<div class="comments-area instapaper_ignore">
	<h4 class="comments-title">
		30 Comments	</h4>
			<ol class="comments-list">
					<li class="comment byuser comment-author-onpnt even thread-even depth-1" id="comment-2762">
				<div id="div-comment-2762" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/9666550a97e912e0dff5023dddb78e64?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9666550a97e912e0dff5023dddb78e64?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Ted Krueger (onpnt)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2762">
			May 16, 2010 at 5:08 pm</a>		</div>

		<p>Good Tip Naomi!  Just be careful running this kind of thing in a large installation and during any point of normal operating times.  It will suck the life out of teh DB Server as far as IO and high CPU goes</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2762#respond' onclick='return addComment.moveForm( "div-comment-2762", "2762", "respond", "791" )' aria-label='Reply to Ted Krueger (onpnt)'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-naomi bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-2763">
				<div id="div-comment-2763" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Naomi Nosonovsky</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2763">
			May 16, 2010 at 5:29 pm</a>		</div>

		<p>Thanks. Do you think traditional cursor based approach is safer?</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2763#respond' onclick='return addComment.moveForm( "div-comment-2763", "2763", "respond", "791" )' aria-label='Reply to Naomi Nosonovsky'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-onpnt even thread-even depth-1" id="comment-2764">
				<div id="div-comment-2764" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/9666550a97e912e0dff5023dddb78e64?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9666550a97e912e0dff5023dddb78e64?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Ted Krueger (onpnt)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2764">
			May 17, 2010 at 6:07 am</a>		</div>

		<p>My recommendation is nothing like this should be run during peak times unless you are having problems to the point it calls for it.  DBA tasks like these can be the most taxing on the system seeing as they go to disk and other resources almost exclusively.   So cursor or not, you will slow the system by running them.</p>
<p>Take a look here and to Paul&#8217;s blog<br />
<a href="/index.php/DataMgmt/DBAdmin/think-before-you-f5-on-dmvs">Think before you F5 on DMVs</a></p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2764#respond' onclick='return addComment.moveForm( "div-comment-2764", "2764", "respond", "791" )' aria-label='Reply to Ted Krueger (onpnt)'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2774">
				<div id="div-comment-2774" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/dc79664315f8e3e2633eb6f158da6524?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/dc79664315f8e3e2633eb6f158da6524?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Rithika jain</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2774">
			December 21, 2010 at 2:26 am</a>		</div>

		<p>Thanks Naom1 ! You rock .</p>
<p>But the script used for &#8220;Database Files Sizes in All Databases and used space &#8221; will not return appropriate results when the logfile physical name is same for other database . </p>
<p>For example i have two databases named as Test and Test1 where as the physical name is testlog for both the databases . In this case output returned is wrong &#8230;</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2774#respond' onclick='return addComment.moveForm( "div-comment-2774", "2774", "respond", "791" )' aria-label='Reply to Rithika jain'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-naomi bypostauthor even thread-even depth-1" id="comment-2775">
				<div id="div-comment-2775" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Naomi Nosonovsky</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2775">
			December 21, 2010 at 7:10 am</a>		</div>

		<p>Hi Rithika,</p>
<p>Thanks a lot for the comment. I&#8217;ll re-visit this code and make a comment for now.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2775#respond' onclick='return addComment.moveForm( "div-comment-2775", "2775", "respond", "791" )' aria-label='Reply to Naomi Nosonovsky'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2769">
				<div id="div-comment-2769" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/817472ff983f0667dc2c9fbd65fdcac6?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/817472ff983f0667dc2c9fbd65fdcac6?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Surendra</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2769">
			August 23, 2011 at 3:29 pm</a>		</div>

		<p>Your pic here is superb&#8230; than the one in the MSDN</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2769#respond' onclick='return addComment.moveForm( "div-comment-2769", "2769", "respond", "791" )' aria-label='Reply to Surendra'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-naomi bypostauthor even thread-even depth-1" id="comment-2770">
				<div id="div-comment-2770" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Naomi Nosonovsky</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2770">
			August 23, 2011 at 3:41 pm</a>		</div>

		<p>This is not a picture, it&#8217;s an image. My friend sent it to me few years back, I liked it and used.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2770#respond' onclick='return addComment.moveForm( "div-comment-2770", "2770", "respond", "791" )' aria-label='Reply to Naomi Nosonovsky'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2765">
				<div id="div-comment-2765" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/48877fd349838ca6bde480c4000dd9f3?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/48877fd349838ca6bde480c4000dd9f3?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Willy</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2765">
			November 30, 2011 at 12:52 pm</a>		</div>

		<p>Checks code for now.. thanks for posting </p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2765#respond' onclick='return addComment.moveForm( "div-comment-2765", "2765", "respond", "791" )' aria-label='Reply to Willy'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2773">
				<div id="div-comment-2773" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/7aaa668a687f58cb495ecdda83b79eff?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/7aaa668a687f58cb495ecdda83b79eff?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">VoIP SIP SDK</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2773">
			December 27, 2011 at 9:42 am</a>		</div>

		<p>Coding is very clear and easy for learning.This is also a source of coding.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2773#respond' onclick='return addComment.moveForm( "div-comment-2773", "2773", "respond", "791" )' aria-label='Reply to VoIP SIP SDK'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2771">
				<div id="div-comment-2771" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/c10d6d3057f6e6698027075bcee1252b?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/c10d6d3057f6e6698027075bcee1252b?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Dhinesh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2771">
			May 29, 2012 at 12:47 am</a>		</div>

		<p>Thanks. It is very useful and good learnig stuff</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2771#respond' onclick='return addComment.moveForm( "div-comment-2771", "2771", "respond", "791" )' aria-label='Reply to Dhinesh'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2772">
				<div id="div-comment-2772" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0b57f85c951edde2e5291a1453f24f6a?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/0b57f85c951edde2e5291a1453f24f6a?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">tgrignon</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2772">
			August 29, 2012 at 7:21 am</a>		</div>

		<p>Very useful Naomi. Thanks!</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2772#respond' onclick='return addComment.moveForm( "div-comment-2772", "2772", "respond", "791" )' aria-label='Reply to tgrignon'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2761">
				<div id="div-comment-2761" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/c2421868f79d030655c3b5ca578cce1e?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/c2421868f79d030655c3b5ca578cce1e?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Pablo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2761">
			October 11, 2012 at 3:28 am</a>		</div>

		<p>Thank you for this post!<br />
This is a novel and neat approach to do tasks which I normally use (horrible) cursors with (horrible) dynamic SQL.</p>
<p>Every search for a solution without cursors took me to forums which say &#8216;oh, don&#8217;t use cursors &#8211; they&#8217;re horrible&#8217;, yet completely fail to provide a practical, non-trivial example of a solution.</p>
<p>Thanks for posting these code examples.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2761#respond' onclick='return addComment.moveForm( "div-comment-2761", "2761", "respond", "791" )' aria-label='Reply to Pablo'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-kermit even thread-even depth-1" id="comment-2758">
				<div id="div-comment-2758" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/fe367f8ca2e1d303ac247c423bd25f5e?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/fe367f8ca2e1d303ac247c423bd25f5e?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Tahir Khalid</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2758">
			December 12, 2012 at 9:24 am</a>		</div>

		<p>Great article, just saved my day.  Would be great if there was a file with the above SQL in it for us mere mortals to download</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2758#respond' onclick='return addComment.moveForm( "div-comment-2758", "2758", "respond", "791" )' aria-label='Reply to Tahir Khalid'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-naomi bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-2759">
				<div id="div-comment-2759" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/61e248e3f536e25c08658d205808b113?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Naomi Nosonovsky</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2759">
			December 12, 2012 at 9:48 am</a>		</div>

		<p>I think I was creating the samples for each particular scenario separately, so I don&#8217;t really have all these scripts in one file, they are spread in different files and some may not be even saved.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2759#respond' onclick='return addComment.moveForm( "div-comment-2759", "2759", "respond", "791" )' aria-label='Reply to Naomi Nosonovsky'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-kermit even thread-even depth-1" id="comment-2760">
				<div id="div-comment-2760" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/fe367f8ca2e1d303ac247c423bd25f5e?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/fe367f8ca2e1d303ac247c423bd25f5e?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Tahir Khalid</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2760">
			December 12, 2012 at 11:03 am</a>		</div>

		<p>An &#8220;SQL Tool Belt&#8221; post might be warranted </p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2760#respond' onclick='return addComment.moveForm( "div-comment-2760", "2760", "respond", "791" )' aria-label='Reply to Tahir Khalid'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2768">
				<div id="div-comment-2768" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0752b94a5d5fff8e886afbb7e946b770?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/0752b94a5d5fff8e886afbb7e946b770?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Nikhil Godkar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2768">
			December 29, 2012 at 7:39 am</a>		</div>

		<p>Great article,Thank you for this post!</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2768#respond' onclick='return addComment.moveForm( "div-comment-2768", "2768", "respond", "791" )' aria-label='Reply to Nikhil Godkar'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2766">
				<div id="div-comment-2766" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/b06b1f3bd1ae21cc315a3697801ca1a9?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b06b1f3bd1ae21cc315a3697801ca1a9?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">emekm</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2766">
			March 12, 2013 at 2:54 am</a>		</div>

		<p>Great article!!<br />
very usefull sql queries<br />
thank you</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2766#respond' onclick='return addComment.moveForm( "div-comment-2766", "2766", "respond", "791" )' aria-label='Reply to emekm'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2767">
				<div id="div-comment-2767" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/1bfabbf57e76daf61ccdae0df5ab5c06?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/1bfabbf57e76daf61ccdae0df5ab5c06?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">KH</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2767">
			September 14, 2013 at 12:44 am</a>		</div>

		<p>on the &#8220;Database Files Sizes in All Databases and used space&#8221;</p>
<p>The query will give wrong result if you have same logical name of 2 DB.<br />
Cause you are joining it on name</p>
<p>sys.sysALTfiles AF<br />
inner join sys.sysfiles ssf on ssf.name=AF.name</p>
<p>this happens to me as i have backup a DB and restore it to a different name and did not change the logical name.</p>
<p>probably can change to join on filename ?</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2767#respond' onclick='return addComment.moveForm( "div-comment-2767", "2767", "respond", "791" )' aria-label='Reply to KH'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1343624">
				<div id="div-comment-1343624" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/a570389f2a64f1ba57f9fec8fc4e1918?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/a570389f2a64f1ba57f9fec8fc4e1918?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">madhan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-1343624">
			July 8, 2014 at 6:08 am</a>		</div>

		<p>hello sir, i have an scenario to find all tables size in all the databases in a sql server.<br />
could you please give the query to find it.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=1343624#respond' onclick='return addComment.moveForm( "div-comment-1343624", "1343624", "respond", "791" )' aria-label='Reply to madhan'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2091212">
				<div id="div-comment-2091212" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/2a7f1696b65a11be857127203b595499?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/2a7f1696b65a11be857127203b595499?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Sqlconfig</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2091212">
			October 11, 2014 at 9:16 am</a>		</div>

		<p>Naomi, This was very useful.<br />
I will be looking forward to your other post. Please email me other useful site or code that you may have because, in this field every little tip helps .<br />
Thanks again</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2091212#respond' onclick='return addComment.moveForm( "div-comment-2091212", "2091212", "respond", "791" )' aria-label='Reply to Sqlconfig'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-msdhunnoo even thread-even depth-1" id="comment-2462187">
				<div id="div-comment-2462187" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/5d7bfda35bfaaa9302cc7c2ee2dad042?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/5d7bfda35bfaaa9302cc7c2ee2dad042?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">msdhunnoo</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2462187">
			November 5, 2014 at 6:42 am</a>		</div>

		<p>The scripts are very useful.. Thanks<br />
I am looking for a script to list table names and row count when a stored procedure is executed..The list of tables i can get as below, but not the row count.<br />
SELECT DISTINCT o.id, o.name AS &#8216;Stored_Procedure&#8217; , oo.name AS &#8216;Table_Name&#8217;, d.depid<br />
FROM sysdepends d, sysobjects o, sysobjects oo<br />
WHERE 	o.id=d.id<br />
		AND o.name= &#8216;XXXXXXX&#8217;   &#8211;Stored Procedure Name<br />
		AND oo.id=d.depid<br />
ORDER BY o.name,oo.name</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2462187#respond' onclick='return addComment.moveForm( "div-comment-2462187", "2462187", "respond", "791" )' aria-label='Reply to msdhunnoo'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2788591">
				<div id="div-comment-2788591" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/67500a42aa4eb2dd5f1cf6f4ad5d529b?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/67500a42aa4eb2dd5f1cf6f4ad5d529b?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn"><a href='/' rel='external nofollow' class='url'>venkat</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-2788591">
			November 23, 2014 at 12:55 pm</a>		</div>

		<p>I want to know the scripts for disk space reports for all the servers in one slot, as well as all the physical and logical names of all the servers, can any one send me those scripts then it is very helpful to me.</p>
<p>Thanks and Regards<br />
Venkat</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=2788591#respond' onclick='return addComment.moveForm( "div-comment-2788591", "2788591", "respond", "791" )' aria-label='Reply to venkat'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-3490504">
				<div id="div-comment-3490504" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/e420c123405ae65b6f55a7ebab9f7e07?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/e420c123405ae65b6f55a7ebab9f7e07?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Minaketan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-3490504">
			January 15, 2015 at 8:17 am</a>		</div>

		<p>I want a script  to compare Rows Count in tables between two different database in two different server linked through linkedsever.<br />
1. tables name are same in both the DB.<br />
2. Number of tables less in destination server than the production server.<br />
   I just want to compare those tables which are in destination server.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=3490504#respond' onclick='return addComment.moveForm( "div-comment-3490504", "3490504", "respond", "791" )' aria-label='Reply to Minaketan'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-3825069">
				<div id="div-comment-3825069" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/557dd147792f7873d04746ce0e2f2725?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/557dd147792f7873d04746ce0e2f2725?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn"><a href='http://www.esco-iq.com/' rel='external nofollow' class='url'>Husam</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-3825069">
			February 23, 2015 at 2:25 pm</a>		</div>

		<p>its very nice SQL statments collection</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=3825069#respond' onclick='return addComment.moveForm( "div-comment-3825069", "3825069", "respond", "791" )' aria-label='Reply to Husam'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-4043194">
				<div id="div-comment-4043194" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/889ae8586fa0fdbe9899caf7f1f2bc1a?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/889ae8586fa0fdbe9899caf7f1f2bc1a?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Karl</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-4043194">
			March 27, 2015 at 4:03 am</a>		</div>

		<p>About &#8220;Database Files Sizes in All Databases and used space&#8221;</p>
<p>Thank you so much. It is useful to solve my problems.<br />
I am a beginner of SQL<br />
Somethings I would like to ask<br />
I create a table include each database name, used size and unused size</p>
<p>but I am also want to add Log Size, Data Size, Last User Update into above table. I will show the code below. There are two part that I do not know how to combine them. Could you mind to tell me the solution of combining table for including each Database Name, Used Size and Unused Size,Log Size, Data Size, Last User Update</p>
<p>&#8211;Create Table Part(Only database name, used size and unused size)</p>
<p>create table #Test (Dbid nvarchar(5),DbName nvarchar(40), TotalSizeMB decimal(20,2), UsedMB decimal(20,2), UnusedMB decimal(20,2))<br />
declare @SQL nvarchar(max)<br />
select @SQL = coalesce(@SQL,&#8221;) +<br />
&#8216;USE &#8216; + QUOTENAME(Name) + &#8216;<br />
insert into #Test<br />
select a.dbid as dbid,a.name as name,a.total as total,a.used as used,a.unused as unused<br />
from<br />
(select DB.name as name, ssf.size*8/1024 as total,<br />
FILEPROPERTY (AF.name, &#8221;spaceused&#8221;)*8/1024 as used,<br />
( ssf.size*8/1024 &#8211; FILEPROPERTY (AF.name, &#8221;spaceused&#8221;)*8/1024) as unused,<br />
db.database_id as dbid<br />
from sys.sysALTfiles AF<br />
inner join sys.sysfiles ssf on ssf.name=AF.name COLLATE SQL_Latin1_General_CP1_CI_AS<br />
INNER JOIN sys.databases DB ON AF.dbid=DB.database_id) as a<br />
&#8216; from sys.databases</p>
<p>exec(@SQL)</p>
<p>select * from #Test order by DbName<br />
drop table #test</p>
<p>&#8211;Only Total Size,Data Size,Log size,Last User Update </p>
<p>select c.name as Name, (c.ds+c.ls) as TotalSize, c.ds as DataSize, c.ls as Logsize, c.lu as LastUserUpdate<br />
from<br />
(select a.dbname as name, a.DataSize as ds, a.LogSize as ls, b.LastUserUpdate as lu<br />
from<br />
(select db.name as dbname, db.database_id as [dbid], sum(mf0.size) as DataSize, sum(mf1.size) as LogSize<br />
from sys.databases as db,<br />
(select database_id, [type],size* 8.0/1024 as size from sys.master_files as mf where [type]=0) as mf0,<br />
(select database_id, [type],size* 8.0/1024 as size from sys.master_files as mf where [type]=1) as mf1<br />
where db.database_id=mf0.database_id and db.database_id=mf1.database_id<br />
group by db.database_id,db.name<br />
) as a<br />
left join (select max(last_user_update) as LastUserUpdate,database_id as [dbid] from sys.dm_db_index_usage_stats<br />
group by database_id ) as b<br />
on a.[dbid] = b.[dbid]) as c<br />
order by name</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=4043194#respond' onclick='return addComment.moveForm( "div-comment-4043194", "4043194", "respond", "791" )' aria-label='Reply to Karl'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-4122288">
				<div id="div-comment-4122288" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/bdbe00435d2b0d28dc670cd3334e646a?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/bdbe00435d2b0d28dc670cd3334e646a?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn"><a href='http://www.sqlocean.com/' rel='external nofollow' class='url'>Yashwant</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-4122288">
			April 10, 2015 at 7:23 am</a>		</div>

		<p>Very useful scripts, I Luv it :-), I was in search of these type of scripts specially for &#8220;Quick Record Count in All Table in All Databases&#8221;<br />
again Thank You so much Naomi for sharing such nice stuffs.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=4122288#respond' onclick='return addComment.moveForm( "div-comment-4122288", "4122288", "respond", "791" )' aria-label='Reply to Yashwant'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-5042180">
				<div id="div-comment-5042180" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/c57695082083e0656b1e712ec260755c?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/c57695082083e0656b1e712ec260755c?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Jeff Moden</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-5042180">
			May 14, 2016 at 9:38 am</a>		</div>

		<p>I was doing some research on a similar subject and ran across this post.  <b>Awesome job, Naomi!</b>  Thanks for taking the time to post it!</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=5042180#respond' onclick='return addComment.moveForm( "div-comment-5042180", "5042180", "respond", "791" )' aria-label='Reply to Jeff Moden'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-5170602">
				<div id="div-comment-5170602" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/097b7646fdcba5f65c1fdfb416c1b6b2?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/097b7646fdcba5f65c1fdfb416c1b6b2?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Champika</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-5170602">
			August 3, 2016 at 1:48 am</a>		</div>

		<p>Thank You<br />
Great work &amp; tips</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=5170602#respond' onclick='return addComment.moveForm( "div-comment-5170602", "5170602", "respond", "791" )' aria-label='Reply to Champika'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-5374639">
				<div id="div-comment-5374639" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/b357f0971a737a50624fd2744891f9a0?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b357f0971a737a50624fd2744891f9a0?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">fresh</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-5374639">
			November 18, 2016 at 10:30 am</a>		</div>

		<p>Great Job, helped a lot!</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=5374639#respond' onclick='return addComment.moveForm( "div-comment-5374639", "5374639", "respond", "791" )' aria-label='Reply to fresh'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-6015600">
				<div id="div-comment-6015600" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/bdbe00435d2b0d28dc670cd3334e646a?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/bdbe00435d2b0d28dc670cd3334e646a?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Yashwant</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#comment-6015600">
			February 14, 2018 at 2:09 am</a>		</div>

		<p>Hi Jes,<br />
Awesome queries, I am using Count all objects in all database, can we include index count also for all databases</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/?replytocom=6015600#respond' onclick='return addComment.moveForm( "div-comment-6015600", "6015600", "respond", "791" )' aria-label='Reply to Yashwant'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol>
						<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/index.php/datamgmt/datadesign/how-to-get-information-about-all-databas/#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='791' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><input type="hidden" id="killer_value" name="killer_value" value="38af86134b65d0f10fe33d30dd76442e"/><noscript>Sorry, but you are required to use a javascript enabled brower to comment here.</noscript>				</form>
					</div><!-- #respond -->
		</div>			</div>
				<br style="clear: both;" />
</div>
		</div>
		<div id="page-footer">
			<div id="botnav"><a href="http://lessthandot.com/" title="LessThanDot Launchpad">Launchpad</a> | <a href="http://lessthandot.com/account.php" title="Your Account Settings">My Account</a> | <a href="http://lessthandot.com/statistics.php" title="Statistics">Statistics</a> | <a href="http://lessthandot.com/donate.php" title="Donate">Donate</a> | <a href="http://lessthandot.com/contactus.php" title="Contact Us">Contact Us</a> | <a href="http://lessthandot.com/aboutus.php" title="About the LessThanDot Team">&copy;2008 - 2019 LessThanDot, LLC</a></div>

		<script type='text/javascript'>
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-4471405-1']);
		_gaq.push(['_trackPageview']);
		_gaq.push(['_setCustomVar', 1, 'Environment', 'lessthandot.com', 3]);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	  </script>			<div class="validator"><a href="http://validator.w3.org/check?uri=referer">Valid XHTML</a> | <a href="http://jigsaw.w3.org/css-validator/check/referer" title="Validate the CSS for this page at the W3C website">Valid CSS</a> | 2018-11-11 15:52</div>
		</div>
	</div>
</div>
<!-- <script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script> -->
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var spam_destroyer = {"key":"159ff9dcc225580310c2de238cdd1f1a","lifetime":"3600","limit":"1552766010"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/spam-destroyer/kill.js?ver=1.2'></script>
</body>
</html>
