<!DOCTYPE html>
<html lang="en-US">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
		<link rel="shortcut icon" href="http://lessthandot.com/favicon.ico" type="image/vnd.microsoft.icon" />
	<title>Less Than Dot - Blog -   Change Data Capture rundown 100 (setup)</title>
	<meta prefix="og: http://ogp.me/ns#" property="og:title" content="Less Than Dot - Blog -   Change Data Capture rundown 100 (setup)" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:url" content="/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/" />
		<meta prefix="og: http://ogp.me/ns#" property="og:image" content="http://lessthandot.com/images/logo_prod.png" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="LessThanDot" />
	<meta prefix="og: http://ogp.me/ns#" property="og:description" content="Many times as a database administrator, you're going to find yourself being asked, ">
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/index.php/feed/" />
	<link rel="alternate" type="application/atom+xml" title="Atom" href="/index.php/feed/atom/" />

	<!-- this page is the canonical URL -->	
	<link rel="stylesheet" href="/wp-content/themes/lessthandot2009/style.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsite.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsiteprint.css" media="print" type="text/css" />

	<link rel='dns-prefetch' href='//ajax.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="LessthanDot &raquo; Change Data Capture rundown 100 (setup) Comments Feed" href="/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.1"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='bwp-syntax-css'  href='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/css/bwp-syntax-global.css?ver=4.6.1' type='text/css' media='all' />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/js/bwp-syntax.js?ver=4.6.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='MSDN giveaway winners' href='/index.php/architect/hardwareinfrastructuredesign/msdn-giveaway-winners/' />
<link rel='next' title='T-SQL Tuesday #008: Gettin&#8217; Schooled &#8220;Pushing others into learning and teaching&#8221;' href='/index.php/itprofessionals/ethicsit/teach-to-learn-tsql-tuesday/' />
<meta name="generator" content="WordPress 4.6.1" />
<link rel="canonical" href="/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/" />
<link rel='shortlink' href='/?p=842' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fdatamgmt%2Fdatadesign%2Fchange-data-capture-sql-server-08%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fdatamgmt%2Fdatadesign%2Fchange-data-capture-sql-server-08%2F&#038;format=xml" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
	<script src="http://lessthandot.com/includes/allsite.js" type="text/javascript" ></script>
</head>
<body>
<div id="contain"><div id="subcontain"><div id="ttl"><div id="hdr"><div id="snav"><a href="http://lessthandot.com/login.php?backtrack=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/?">Member Login</a>
</div><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="logoc"><img src="http://lessthandot.com/images/logo_prod.png" alt="LessThanDot Site Logo" border="0" /></a><h1>LessThanDot</h1><div class="pgsttl">A decade of helpful technical content</div></div><div id="nav">
<ul>
<li><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="h" ><span>Launchpad</span></a></li>
<li class="cur"><a href="/" title="LessThanDot Blogs" id="b" ><span>Blogs</span></a></li>
<li><a href="http://forum.lessthandot.com/" title="LessThanDot Community Forums" id="f" ><span>Forum</span></a></li>
<li><a href="http://wiki.lessthandot.com/" title="LessThanDot Wiki Articles" id="w" ><span>Wiki</span></a></li>
<li><a href="http://sqlcop.lessthandot.com/" title="LessThanDot SQLCop" id="a" ><span>SQLCop</span></a></li>
<li><a href="http://lessthandot.com/account.php" title="Your Account Settings" id="r"  class="l_ie"><span>My Account</span></a></li></ul></div>
</div><div id="content">
<div id="fac"><div id="fa">
		<p>Less Than Dot is a community of passionate IT professionals and enthusiasts dedicated to sharing technical knowledge, experience, and assistance. Inside you will find reference materials, interesting technical discussions, and expert tips and commentary.</p></div></div><div class="content-sidebar">
	<div id="social" class="sdsec">
		<h2>LTD Social Sitings</h2>
		<div>
		<a id="social_twitter" href="http://twitter.com/LessThanDot/" title="Follow us on Twitter" ><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Lessthandot twitter"/></a> 
		<a href="http://www.linkedin.com/groups?home=&amp;gid=113440" title="Join us on LinkedIn" ><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="Lessthandot Linkedin" /></a> 
		<a href="http://www.facebook.com/group.php?gid=19330511063" title="Join us on Facebook" ><img src="http://lessthandot.com/images/bdg_facebook.png" alt="Lessthandot facebook"/></a> 
		<a href="http://lessthandot.com/rss.php" title="LessThanDot News Feed" ><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="Lessthandot rss"/></a> 
		</div>
		<p><em>Note: Watch for social icons on posts by your favorite authors to follow their postings on these and other social sites.</em></p>
	</div><div class="content-sidebar-section">
<h2>Tag cloud</h2>
	<p class="tag-cloud">
		<a href='/index.php/tag/net/' class='tag-link-245 tag-link-position-1' title='21 topics' style='font-size: 8.9565217391304pt;'>.net</a> <a href='/index.php/tag/asp-net/' class='tag-link-168 tag-link-position-2' title='21 topics' style='font-size: 8.9565217391304pt;'>asp.net</a> <a href='/index.php/tag/azure-2/' class='tag-link-321 tag-link-position-3' title='29 topics' style='font-size: 10.173913043478pt;'>azure</a> <a href='/index.php/tag/book/' class='tag-link-130 tag-link-position-4' title='26 topics' style='font-size: 9.7391304347826pt;'>book</a> <a href='/index.php/tag/business-intelligence-2/' class='tag-link-256 tag-link-position-5' title='30 topics' style='font-size: 10.260869565217pt;'>business intelligence</a> <a href='/index.php/tag/c/' class='tag-link-138 tag-link-position-6' title='40 topics' style='font-size: 11.304347826087pt;'>c#</a> <a href='/index.php/tag/database/' class='tag-link-134 tag-link-position-7' title='31 topics' style='font-size: 10.434782608696pt;'>database</a> <a href='/index.php/tag/excel/' class='tag-link-155 tag-link-position-8' title='16 topics' style='font-size: 8pt;'>excel</a> <a href='/index.php/tag/gotcha/' class='tag-link-240 tag-link-position-9' title='19 topics' style='font-size: 8.6086956521739pt;'>gotcha</a> <a href='/index.php/tag/how-to/' class='tag-link-272 tag-link-position-10' title='44 topics' style='font-size: 11.652173913043pt;'>how to</a> <a href='/index.php/tag/mongodb/' class='tag-link-765 tag-link-position-11' title='17 topics' style='font-size: 8.2608695652174pt;'>mongodb</a> <a href='/index.php/tag/nosql/' class='tag-link-775 tag-link-position-12' title='18 topics' style='font-size: 8.4347826086957pt;'>nosql</a> <a href='/index.php/tag/performance/' class='tag-link-179 tag-link-position-13' title='26 topics' style='font-size: 9.7391304347826pt;'>performance</a> <a href='/index.php/tag/security-2/' class='tag-link-398 tag-link-position-14' title='25 topics' style='font-size: 9.5652173913043pt;'>security</a> <a href='/index.php/tag/sql/' class='tag-link-132 tag-link-position-15' title='42 topics' style='font-size: 11.478260869565pt;'>sql</a> <a href='/index.php/tag/sql-advent-2012/' class='tag-link-1416 tag-link-position-16' title='18 topics' style='font-size: 8.4347826086957pt;'>sql advent 2012</a> <a href='/index.php/tag/sql-friday/' class='tag-link-377 tag-link-position-17' title='18 topics' style='font-size: 8.4347826086957pt;'>sql friday</a> <a href='/index.php/tag/sql-server/' class='tag-link-154 tag-link-position-18' title='145 topics' style='font-size: 16.086956521739pt;'>sql server</a> <a href='/index.php/tag/sql-server-2000/' class='tag-link-366 tag-link-position-19' title='45 topics' style='font-size: 11.739130434783pt;'>sql server 2000</a> <a href='/index.php/tag/sql-server-2005/' class='tag-link-327 tag-link-position-20' title='118 topics' style='font-size: 15.391304347826pt;'>sql server 2005</a> <a href='/index.php/tag/sql-server-2008/' class='tag-link-152 tag-link-position-21' title='237 topics' style='font-size: 18pt;'>sql server 2008</a> <a href='/index.php/tag/sql-server-2008-r2/' class='tag-link-548 tag-link-position-22' title='38 topics' style='font-size: 11.130434782609pt;'>sql server 2008 r2</a> <a href='/index.php/tag/sql-server-2012/' class='tag-link-1161 tag-link-position-23' title='76 topics' style='font-size: 13.739130434783pt;'>sql server 2012</a> <a href='/index.php/tag/ssis-2/' class='tag-link-501 tag-link-position-24' title='52 topics' style='font-size: 12.260869565217pt;'>ssis</a> <a href='/index.php/tag/ssms/' class='tag-link-640 tag-link-position-25' title='18 topics' style='font-size: 8.4347826086957pt;'>ssms</a> <a href='/index.php/tag/ssrs-2/' class='tag-link-557 tag-link-position-26' title='27 topics' style='font-size: 9.9130434782609pt;'>ssrs</a> <a href='/index.php/tag/syndicated/' class='tag-link-1407 tag-link-position-27' title='67 topics' style='font-size: 13.217391304348pt;'>syndicated</a> <a href='/index.php/tag/t-sql/' class='tag-link-185 tag-link-position-28' title='26 topics' style='font-size: 9.7391304347826pt;'>t-sql</a> <a href='/index.php/tag/tip/' class='tag-link-194 tag-link-position-29' title='46 topics' style='font-size: 11.826086956522pt;'>tip</a> <a href='/index.php/tag/unit-testing/' class='tag-link-162 tag-link-position-30' title='17 topics' style='font-size: 8.2608695652174pt;'>unit testing</a>	</p>
</div>		<div class="content-sidebar-section">
		<h2>Authors</h2>
			<ul class="author-list dimmed">
				<li><a href="/index.php/author/SQLDenis/" title="Posts by SQLDenis">SQLDenis</a> <a href="/index.php/author/SQLDenis/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (597)</li><li><a href="/index.php/author/onpnt/" title="Posts by Ted Krueger (onpnt)">Ted Krueger (onpnt)</a> <a href="/index.php/author/onpnt/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (355)</li><li><a href="/index.php/author/grrlgeek/" title="Posts by Jes Borland">Jes Borland</a> <a href="/index.php/author/grrlgeek/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (202)</li><li><a href="/index.php/author/tarwn/" title="Posts by Eli Weinstock-Herman (tarwn)">Eli Weinstock-Herman (tarwn)</a> <a href="/index.php/author/tarwn/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (190)</li><li><a href="/index.php/author/koenverbeeck/" title="Posts by Koen Verbeeck">Koen Verbeeck</a> <a href="/index.php/author/koenverbeeck/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (100)</li><li><a href="/index.php/author/alexcuse/" title="Posts by Alex Ullrich">Alex Ullrich</a> <a href="/index.php/author/alexcuse/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (55)</li><li><a href="/index.php/author/gmmastros/" title="Posts by George Mastros (gmmastros)">George Mastros (gmmastros)</a> <a href="/index.php/author/gmmastros/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (45)</li><li><a href="/index.php/author/axel8s/" title="Posts by Axel Achten (axel8s)">Axel Achten (axel8s)</a> <a href="/index.php/author/axel8s/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (28)</li><li><a href="/index.php/author/naomi/" title="Posts by Naomi Nosonovsky">Naomi Nosonovsky</a> <a href="/index.php/author/naomi/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (27)</li><li><a href="/index.php/author/thirster42/" title="Posts by David Forck (thirster42)">David Forck (thirster42)</a> <a href="/index.php/author/thirster42/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (24)</li><li><a href="/index.php/author/chopstik/" title="Posts by chopstik">chopstik</a> <a href="/index.php/author/chopstik/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (20)</li><li><a href="/index.php/author/kconan/" title="Posts by Kevin Conan">Kevin Conan</a> <a href="/index.php/author/kconan/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (18)</li><li><a href="/index.php/author/robearl/" title="Posts by Rob Earl">Rob Earl</a> <a href="/index.php/author/robearl/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (14)</li><li><a href="/index.php/author/thatrickguy/" title="Posts by ThatRickGuy">ThatRickGuy</a> <a href="/index.php/author/thatrickguy/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (12)</li><li><a href="/index.php/author/sqlarcher/" title="Posts by SQLArcher">SQLArcher</a> <a href="/index.php/author/sqlarcher/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (11)</li>                <li><a href="http://lessthandot.com/Stats/BlogAuthors.php">More...</a></li>
			</ul>
		</div>
				<div class="content-sidebar-section">
		<h2>Categories</h2>
			<ul class="categories-list">
					<li class="cat-item cat-item-10"><a href="/index.php/category/all/" >All Blogs</a>
</li>
	<li class="cat-item cat-item-5"><a href="/index.php/category/architect/" >Architecture, Design and Strategy</a>
</li>
	<li class="cat-item cat-item-1759"><a href="/index.php/category/artificial-intelligence/" >Artificial Intelligence</a>
</li>
	<li class="cat-item cat-item-6"><a href="/index.php/category/datamgmt/" >Data Management</a>
</li>
	<li class="cat-item cat-item-7"><a href="/index.php/category/desktopdev/" >Desktop Developer</a>
</li>
	<li class="cat-item cat-item-8"><a href="/index.php/category/enterprisedev/" >Enterprise Developer</a>
</li>
	<li class="cat-item cat-item-11"><a href="/index.php/category/itprofessionals/" >IT Professionals</a>
</li>
	<li class="cat-item cat-item-12"><a href="/index.php/category/itstudents/" >IT Students and Researchers</a>
</li>
	<li class="cat-item cat-item-1743"><a href="/index.php/category/management/" >Management</a>
</li>
	<li class="cat-item cat-item-9"><a href="/index.php/category/sysadmins/" >System Admins</a>
</li>
	<li class="cat-item cat-item-1"><a href="/index.php/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-4"><a href="/index.php/category/webdev/" >Web Developer</a>
</li>
			</ul>
		</div>
		</div><div class="content-main">
				<div class="post-navigation">
				<div class="post-navigation-forward"><a href="/index.php/itprofessionals/ethicsit/teach-to-learn-tsql-tuesday/" rel="next">T-SQL Tuesday #008: Gettin&#8217; Schooled &#8220;Pushing others into learning and teaching&#8221;</a> &raquo; </div>
				<div class="post-navigation-back">&laquo; <a href="/index.php/architect/hardwareinfrastructuredesign/msdn-giveaway-winners/" rel="prev">MSDN giveaway winners</a></div>
			</div>
			<div class="post-area instapaper_body">
				<div class="post-title-line">
										<h1 class="instapaper_ignore"><a href="/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/" class="post-title">Change Data Capture rundown 100 (setup)</a></h1>
					<div class="post-byline">by <a href="/index.php/author/onpnt/" title="Posts by Ted Krueger (onpnt)" rel="author">Ted Krueger (onpnt)</a> on July 12, 2010 in category <a href="/index.php/category/datamgmt/datadesign/" rel="category tag">Data Modelling and Design</a> <a href="/index.php/category/datamgmt/dbadmin/" rel="category tag">Database Administration</a> <a href="/index.php/category/datamgmt/dbprogramming/" rel="category tag">Database Programming</a> <a href="/index.php/category/datamgmt/dbprogramming/mssqlserver/" rel="category tag">Microsoft SQL Server</a> <a href="/index.php/category/datamgmt/dbadmin/mssqlserveradmin/" rel="category tag">Microsoft SQL Server Admin</a>. Article views: 13,399 </div>
				</div>
				<div class="post-tagline"><a href="https://twitter.com/intent/tweet?url=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/&text=RT @LessThanDot Blog - Change Data Capture rundown 100 (setup) by @onpnt" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/&title=Change Data Capture rundown 100 (setup)&source=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/&title=Change Data Capture rundown 100 (setup)" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/&quote=Change Data Capture rundown 100 (setup)" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/&title=Change Data Capture rundown 100 (setup)" class="instapaper_button">Instapaper</a></div>

				<div class="post-content"><p>Many times as a database administrator, you&#8217;re going to find yourself being asked, &#8220;When did this change?&#8221;  In fact, it is a common question that can come in so often, if you don&#8217;t have the answer readily available, the business will quickly become frustrated with you.  This can have an adverse effect on your reputation of being able to manage the databases in question.  </p>
<p>Some databases (and software packages) simply do not track changes in the database.  The job of the system is to do what the business wants and that typically does not initially include data tracking.  Logging takes time and precious performance away from the systems.  That performance hit can make a software vendor look bad.  Is it worth the performance cost and cost to develop the tracking solution to them?  I think we know the answer to that question in most cases.  I&#8217;m on their side in the case of where you put your money for the product you provide to a point.  </p>
<p>Putting all of the bickering with why or why not vendors add data tracking to overall system features aside, let&#8217;s look at how we can manage data tracking with SQL Server and leave the vendor to do what the business asks of them; provide the solution to keep the business running.</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/cdc.gif" alt="" title="" width="384" height="304" /></div>
<p>In SQL Server 2008, Change Data Capture was introduced.  Oh, that sounds interesting and something you can use!  Well, there is a cost just like most features have cost that go with them.  Remember the performance issue with the vendor doing data tracking?  It comes with CDC as well.  As with everything, performance can take a back seat to providing the business with what they need, so we&#8217;re going to show you how to set CDC up as a base data tracking process in your databases.</p>
<p><strong>Setup CDC</strong></p>
<p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/cdc_2.gif" alt="" title="" width="162" height="154" align="left" /></div>
<p>We are going to go through a step-by-step to get CDC going without falling into the deep end and then discuss the setup and overall process after accomplishing the setup.</p>
<p></p>
<p>To ensure CDC is not setup, we can check sys.databases and the is_cdc_enabled column.  You will see either a 1 for enabled or 0 for disabled.  </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> database_id ,
&nbsp; &nbsp; &nbsp; &nbsp; name ,
&nbsp; &nbsp; &nbsp; &nbsp; is_cdc_enabled
<span class="kw1">FROM</span> sys.<span class="me1">databases</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT database_id ,
        name ,
        is_cdc_enabled
FROM sys.databases</pre></div></div>

<p>Security for CDC is handled differently at each level from the database to the tables you enlist.  You must first enable CDC for the database itself.  In order to accomplish this you must be in the sysadmin server role.  Once enabled on the database level, any database user that is in the db_owner database role can then enable tables in the database for CDC.</p>
<p>If is_cdc_enabled is set to 0, use sys.sp_cdc_enable_db to enable CDC.  sys.sp_cdc_enable_db is run in the context of the database you wish to enable.  So, if you were working in AdventureWorks and wanted CDC enabled, you would want to use a USE AdventureWorks statement to move into the context first.</p>
<p>Below is something you could run as a check and enable task:</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
</pre></td><td class="de1"><pre class="de1"><span class="kw1">If</span> <span class="br0">&#40;</span><span class="kw1">select</span> is_cdc_enabled <span class="kw1">from</span> sys.<span class="me1">databases</span> <span class="kw1">where</span> <span class="br0">&#91;</span>name<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="st0">'AdventureWorks'</span><span class="br0">&#41;</span> <span class="sy0">=</span> <span class="nu0">0</span>
&nbsp;<span class="kw1">begin</span>
&nbsp; &nbsp; <span class="kw1">Exec</span> sys.<span class="me1">sp_cdc_enable_db</span>
&nbsp; &nbsp; <span class="kw1">print</span> <span class="st0">'CDC Enabled'</span>
&nbsp;<span class="kw1">end</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">If (select is_cdc_enabled from sys.databases where [name] = 'AdventureWorks') = 0
 begin
	Exec sys.sp_cdc_enable_db
	print 'CDC Enabled'
 end</pre></div></div>

<p>If you run into a failure to authenticate:<br />
</p>
<blockquote><p>Msg 22830, Level 16, State 1, Procedure sp_cdc_enable_db_internal, Line 186<br />
Could not update the metadata that indicates database AdventureWorks is enabled for Change Data Capture. The failure occurred when executing the command &#8216;SetCDCTracked(Value = 1)&#8217;. The error returned was 15404: &#8216;Could not obtain information about Windows NT group/user &#8216;PMHCtkrueger&#8217;, error code 0x54b.&#8217;. Use the action and error to determine the cause of the failure and resubmit the request.<br />
Msg 266, Level 16, State 2, Procedure sp_cdc_enable_db_internal, Line 0<br />
Transaction count after EXECUTE indicates a mismatching number of BEGIN and COMMIT statements. Previous count = 0, current count = 1.<br />
Msg 266, Level 16, State 2, Procedure sp_cdc_enable_db, Line 0<br />
Transaction count after EXECUTE indicates a mismatching number of BEGIN and COMMIT statements. Previous count = 0, current count = 1.</p></blockquote>
<p>It is due to a bad owner state.  You can fix this by running: </p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
</pre></td><td class="de1"><pre class="de1"><span class="kw1">exec</span> <span class="kw3">sp_changedbowner</span> <span class="st0">'sa'</span>,<span class="st0">'dbo'</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">exec sp_changedbowner 'sa','dbo'</pre></div></div>

<p>Now that the database is enabled for CDC, we can move to enabling a table to start tracking change in the data.  </p>
<p><strong>Enabling a table</strong></p>
<p>CDC can track an entire table or specific columns in a table.  You can use the @captured_column_list parameter when executing sys.sp_cdc_enable_table to specify the columns.  If the parameter is left out or NULL, the entire table will be then tracked.  For performance reasons, design CDC for the table with great thought in capturing only what is needed.  </p>
<p><strong>CDC and Filegroups </strong></p>
<p>BOL best practice suggests putting the CDC tables (instances) into a designated filegroup.  I can see this benefiting performance and not affecting the tables under the CDC monitoring.  This does add a structure change to the database so plan this out as well.  Move the filegroup to a designated disk when possible.  IO is always an important consideration.  If IO becomes a problem later on, it is one of the harder to fix performance issues.  This is because it requires moving files while working on the disk, which entails downtime on the database.  </p>
<p>We will show the filegroup practice so let&#8217;s create a filegroup for our CDC instance.</p>
<p><strong>Create a filegroup </strong></p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="de1"><pre class="de1"><span class="kw1">USE</span> master
GO
<span class="kw1">ALTER</span> <span class="kw1">DATABASE</span> AdventureWorks
<span class="kw1">ADD</span> FILEGROUP CDCDataStore;
GO
<span class="kw1">ALTER</span> <span class="kw1">DATABASE</span> AdventureWorks
<span class="kw1">ADD</span> <span class="kw1">FILE</span> 
<span class="br0">&#40;</span>
&nbsp; &nbsp; NAME <span class="sy0">=</span> CDCDataStore,
&nbsp; &nbsp; FILENAME <span class="sy0">=</span> <span class="st0">'C:Program FilesMicrosoft SQL ServerMSSQL10.MSSQLSERVERMSSQLDATACDCDataStore.ndf'</span>,
&nbsp; &nbsp; <span class="kw1">SIZE</span> <span class="sy0">=</span> 500MB,
&nbsp; &nbsp; MAXSIZE <span class="sy0">=</span> 1000MB,
&nbsp; &nbsp; FILEGROWTH <span class="sy0">=</span> 500MB
<span class="br0">&#41;</span>
<span class="kw1">TO</span> FILEGROUP CDCDataStore;
GO</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">USE master
GO
ALTER DATABASE AdventureWorks
ADD FILEGROUP CDCDataStore;
GO
ALTER DATABASE AdventureWorks
ADD FILE 
(
    NAME = CDCDataStore,
    FILENAME = 'C:Program FilesMicrosoft SQL ServerMSSQL10.MSSQLSERVERMSSQLDATACDCDataStore.ndf',
    SIZE = 500MB,
    MAXSIZE = 1000MB,
    FILEGROWTH = 500MB
)
TO FILEGROUP CDCDataStore;
GO</pre></div></div>

<p>To enable CDC, we use sys.sp_cdc_enable_table as mentioned earlier.  </p>
<p>Run the following to enable CDC on the table Employee in the AdventureWorks database (the entire table will be monitored):</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
6
7
8
9
</pre></td><td class="de1"><pre class="de1"><span class="kw1">USE</span> AdventureWorks
GO
<span class="kw1">EXEC</span> sys.<span class="me1">sp_cdc_enable_table</span>
@source_schema <span class="sy0">=</span> N<span class="st0">'HumanResources'</span>,
@source_name &nbsp; <span class="sy0">=</span> N<span class="st0">'Employee'</span>,
@role_name &nbsp; &nbsp; <span class="sy0">=</span> N<span class="st0">'CDCRoles'</span>,
@<span class="kw2">filegroup_name</span> <span class="sy0">=</span> N<span class="st0">'CDCDataStore'</span>,
@supports_net_changes <span class="sy0">=</span> <span class="nu0">1</span>
GO</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">USE AdventureWorks
GO
EXEC sys.sp_cdc_enable_table
@source_schema = N'HumanResources',
@source_name   = N'Employee',
@role_name     = N'CDCRoles',
@filegroup_name = N'CDCDataStore',
@supports_net_changes = 1
GO</pre></div></div>

<blockquote><p><span class="MT_red">Note: cdc agents need to be running, so the SQL Server agent needs to be running.</span></p></blockquote>
<p>If SQL Agent is not running, you will receive errors when the cdc table enable procedure executes.  Since there are four of these agents, you will receive the error for each job creation attempt</p>
<blockquote><p>SQLServerAgent is not currently running so it cannot be notified of this action.<br />
SQLServerAgent is not currently running so it cannot be notified of this action.<br />
SQLServerAgent is not currently running so it cannot be notified of this action.<br />
SQLServerAgent is not currently running so it cannot be notified of this action.</p></blockquote>
<p>Once you execute the enabling table procedure, some table valued functions will be created. All and net.  These will be used to look into the instances of CDC.  What we need to know to look into the changes captured are the LSN we want to start with and end with.  </p>
<p>To obtain the latest and first LSN we can use sys.fn_cdc_getmax_lsn and min:</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
</pre></td><td class="de1"><pre class="de1"><span class="kw1">select</span> sys.<span class="me1">fn_cdc_get_min_lsn</span><span class="br0">&#40;</span><span class="st0">'HumanResources_Employee'</span><span class="br0">&#41;</span>;
<span class="kw1">select</span> sys.<span class="me1">fn_cdc_get_max_lsn</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">select sys.fn_cdc_get_min_lsn('HumanResources_Employee');
select sys.fn_cdc_get_max_lsn</pre></div></div>

</p>
<p><strong>Putting this to work to review CDC</strong></p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
</pre></td><td class="de1"><pre class="de1"><span class="kw1">declare</span> @<span class="kw1">begin</span> <span class="kw1">binary</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span>, @<span class="kw1">end</span> <span class="kw1">binary</span><span class="br0">&#40;</span><span class="nu0">10</span><span class="br0">&#41;</span>;
<span class="kw1">set</span> @<span class="kw1">begin</span> <span class="sy0">=</span> sys.<span class="me1">fn_cdc_get_min_lsn</span><span class="br0">&#40;</span><span class="st0">'HumanResources_Employee'</span><span class="br0">&#41;</span>;
<span class="kw1">set</span> @<span class="kw1">end</span> <span class="sy0">=</span> sys.<span class="me1">fn_cdc_get_max_lsn</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
<span class="kw1">select</span> <span class="sy0">*</span> <span class="kw1">from</span> cdc.<span class="me1">fn_cdc_get_all_changes_HumanResources_Employee</span><span class="br0">&#40;</span>@<span class="kw1">begin</span>,@<span class="kw1">end</span>,<span class="st0">'all update old'</span><span class="br0">&#41;</span>;
go</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">declare @begin binary(10), @end binary(10);
set @begin = sys.fn_cdc_get_min_lsn('HumanResources_Employee');
set @end = sys.fn_cdc_get_max_lsn();
select * from cdc.fn_cdc_get_all_changes_HumanResources_Employee(@begin,@end,'all update old');
go</pre></div></div>

<p>Time to play with what we&#8217;ve setup on the Employee table.  Let&#8217;s break login id for employeeid 1</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
5
</pre></td><td class="de1"><pre class="de1"><span class="kw1">select</span> <span class="sy0">*</span> <span class="kw1">from</span> HumanResources.<span class="me1">Employee</span>
<span class="co1">--adventure-worksguy1 „²we'll take the first one</span>
<span class="kw1">update</span> HumanResources.<span class="me1">Employee</span>
<span class="kw1">set</span> LoginID <span class="sy0">=</span> <span class="st0">'adventure-worksguy'</span> 
<span class="kw1">where</span> EmployeeID <span class="sy0">=</span> <span class="nu0">1</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">select * from HumanResources.Employee
--adventure-worksguy1 „²we'll take the first one
update HumanResources.Employee
set LoginID = 'adventure-worksguy' 
where EmployeeID = 1</pre></div></div>

<p>CDC should have captured the change of the string adventure-worksguy1 to adventure-worksguy</p>
<p>The nice thing here is CDC will look at the data and if nothing changes, even for a DML event, nothing will be written.  Only when a change is caught on the columns monitored will it be logged.  Again, we can see how this can be a performance factor so plan this well when implementing and use CDC in the appropriate places.</p>
<p>When we check CDC we can see we get representation of the data before and after logged</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/cdc_3.gif" alt="" title="" width="722" height="323" /></div>
<p>Now the performance hit is imaginable already.  </p>
<ol>
<li>Logging the before </li>
<li>Logging the after</li>
</ol>
<p>But we should really test that.  We&#8217;ll do that with simply logging the times from client statistics to show a rough estimation of performance between a CDC enabled data change and a non-CDC table enabled data change.</p>
<p>We already have CDC enabled, so executing the Update statement again, the cost is 29ms on average of 15 executions. </p>
<p>To disable CDC on a table we use the, sys.sp_cdc_disable_table procedure as shown below:</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
</pre></td><td class="de1"><pre class="de1"><span class="kw1">exec</span> sys.<span class="me1">sp_cdc_disable_table</span> 
&nbsp; @source_schema <span class="sy0">=</span> <span class="st0">'HumanResources'</span>, 
&nbsp; @source_name <span class="sy0">=</span> <span class="st0">'Employee'</span>,
&nbsp; @capture_instance <span class="sy0">=</span> <span class="st0">'HumanResources_Employee'</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">exec sys.sp_cdc_disable_table 
  @source_schema = 'HumanResources', 
  @source_name = 'Employee',
  @capture_instance = 'HumanResources_Employee'</pre></div></div>

<p>After disabling CDC table instance for Employee, we hit 11ms averages.</p>
<p>Putting that into perspective: almost triple the cost!</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/cdc_4.gif" alt="" title="" width="486" height="348" /></div>
<p>So CDC has an enormous cost with it, but in a database where logging is absent and development is out of our hands along with the question of, &#8220;Why and who changed this?&#8221; being asked often, CDC will be an option that should be brought into play to manage the change control of the database.</p>
<p>Some things that should be considered are ETL loads.  I would absolutely disable CDC on tables where you load large amounts of data and then enable it after the load is completed.  The time for loading could be double to triple after enabling tables for CDC.  That may not be acceptable in the activity of the table. </p>
<p>Now that we have gone over the setup of CDC, we will move into using SSIS and CDC together and methods where CDC really shows its value.  Look for that article soon.</p>
<div class='rp4wp-related-posts'>
<h3>Related Posts</h3>
<ul>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/datadesign/win-a-copy-of-sql-server-2008-administra/'>Win A Copy Of SQL Server 2008 Administration in Action</a><p>Rod Colledge was so kind to give the readers of Less Than Dot a chance&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/datadesign/scripting-data-in-sql-server/'>Scripting data in SQL Server 2012</a><p>SQL Server 2008 has the Generate Scripts option inside the script wizard. In SQL Server&hellip;</p></div>
</li>
</ul>
</div>
</div>
				<div class="post-author">
					<div class="userInfo"><h2>About the Author</h2>Ted Krueger is a SQL Server MVP and Author that has been working in development and database administration and the owner of a successful consulting business, DataMetrics Consulting.  Specialties range from High Availability and Disaster / Recovery setup and testing methods down to custom assembly development for SQL Server Reporting Services.  Ted blogs and is also one of the founders of LessThanDot.com technology community.  Some of the articles focused on are Backup / Recovery, Security, SSIS and working on SQL Server and using all of the SQL Server features available to create stable and scalable database services.  <br style="clear: left" /><div class="bioSoc"><span class="bioSocTitle">Social Sitings</span><a href="http://twitter.com/onpnt" title="onpnt at Twitter" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Twitter" /></a><a href="http://www.facebook.com/profile.php?id=https://www.facebook.com/onpntfirearms" title="onpnt at Facebook" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_facebook.png" alt="Facebook" /></a><a href="http://www.linkedin.com/pub/ted-krueger/2/183/b66" title="onpnt at LinkedIn" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="LinkedIn" /></a><a href="http://www.datametricsconsulting.com/" title="onpnt at HomePage" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_homepage.png" alt="HomePage" /></a><a href="/index.php/author/onpnt/feed/" title="Blog RSS feed for onpnt" class="bioSocLink"><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="LTD RSS Feed" /></a></div></div>				</div>
				<div class="post-foot instapaper_ignore">
					<div class="post-tagline">
						<div class="post-foot-views"><label>Article views:</label> 13,399 </div>
						<div class="post-foot-more-posts">
                            <a href="/index.php/author/onpnt/">Read More Posts by Ted Krueger (onpnt)</a>
						</div>
					</div>
					<div>
						<label>Tags:</label> <a href="/index.php/tag/cdc/" rel="tag">cdc</a>, <a href="/index.php/tag/change-data-capture/" rel="tag">change data capture</a>, <a href="/index.php/tag/new-features/" rel="tag">new features</a>, <a href="/index.php/tag/sql-server-2008/" rel="tag">sql server 2008</a>, <a href="/index.php/tag/tracking-data/" rel="tag">tracking data</a> 
					</div>
					<div class="post-tagline" style="height: auto">
						<span class="social-button-label">Share:</span><a href="https://twitter.com/intent/tweet?url=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/&text=RT @LessThanDot Blog - Change Data Capture rundown 100 (setup) by @onpnt" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/&title=Change Data Capture rundown 100 (setup)&source=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/&title=Change Data Capture rundown 100 (setup)" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/&quote=Change Data Capture rundown 100 (setup)" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/&title=Change Data Capture rundown 100 (setup)" class="instapaper_button">Instapaper</a>					</div>			
				</div>
				<div class="comments-area instapaper_ignore">
	<h4 class="comments-title">
		4 Comments	</h4>
			<ol class="comments-list">
					<li class="comment byuser comment-author-onpnt bypostauthor even thread-even depth-1" id="comment-2979">
				<div id="div-comment-2979" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/9666550a97e912e0dff5023dddb78e64?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9666550a97e912e0dff5023dddb78e64?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Ted Krueger (onpnt)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/#comment-2979">
			July 12, 2010 at 7:15 pm</a>		</div>

		<p>Jorge (@SQLChicken) over at <a href="http://www.sqlchicken.com/" rel="nofollow">http://www.sqlchicken.com</a> pointed out a key piece missing here.  CDC is an Enterprise only feature.  Another reason to push for the price tag and weigh your features heavily when you are budgeting out upgrades and new server installations.</p>
<p>Also, I noticed a key point missing on the operation types [_$operation].  You can find all of this information here<br />
<a href="http://msdn.microsoft.com/en-us/library/bb522489.aspx" rel="nofollow">http://msdn.microsoft.com/en-us/library/bb522489.aspx</a><br />
<a href="http://msdn.microsoft.com/en-us/library/bb510627.aspx" rel="nofollow">http://msdn.microsoft.com/en-us/library/bb510627.aspx</a></p>
<p>but here is a snap shot of the key operations<br />
1 = delete</p>
<p>2 = insert</p>
<p>3 = update (captured column values are those before the update operation). This value applies only when the row filter option &#8216;all update old&#8217; is specified.</p>
<p>4 = update (captured column values are those after the update operation)</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/?replytocom=2979#respond' onclick='return addComment.moveForm( "div-comment-2979", "2979", "respond", "842" )' aria-label='Reply to Ted Krueger (onpnt)'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2980">
				<div id="div-comment-2980" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/dc9b3018ce55a4ae5ecb44d41f13a9ba?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/dc9b3018ce55a4ae5ecb44d41f13a9ba?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn"><a href='http://twitter.com/JaniceCLee' rel='external nofollow' class='url'>Janice Lee</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/#comment-2980">
			July 14, 2010 at 2:30 pm</a>		</div>

		<p>This is a *good* and well-written overview. I was actually just reading the same topic from SQL Server MVP Deep Dives (from Aaron Bertrand) a few days ago. I like the quick performance comparison. I&#8217;d be interested to see how this feature compares with auditing via DML and DDL triggers. </p>
<p>Thanks for sharing.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/?replytocom=2980#respond' onclick='return addComment.moveForm( "div-comment-2980", "2980", "respond", "842" )' aria-label='Reply to Janice Lee'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-onpnt bypostauthor even thread-even depth-1" id="comment-2981">
				<div id="div-comment-2981" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/9666550a97e912e0dff5023dddb78e64?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/9666550a97e912e0dff5023dddb78e64?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Ted Krueger (onpnt)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/#comment-2981">
			July 14, 2010 at 6:14 pm</a>		</div>

		<p>Thank you, Janice.  I&#8217;ll get some test results up tonight and see how the weigh in</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/?replytocom=2981#respond' onclick='return addComment.moveForm( "div-comment-2981", "2981", "respond", "842" )' aria-label='Reply to Ted Krueger (onpnt)'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2978">
				<div id="div-comment-2978" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/3dff3db1d4e79c6a877cc2062f6760f5?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/3dff3db1d4e79c6a877cc2062f6760f5?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Kris Cook</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/#comment-2978">
			September 21, 2010 at 1:10 pm</a>		</div>

		<p>I have a situation where I&#8217;m getting the authentication error, even though the database is owned by &#8216;sa&#8217;.  I&#8217;ve used the sp_changedbowner command to reset it, even detached and re-attached the database, and it still will NOT work in one of our three non-production environments.<br />
Environment    SQL Version  Result<br />
Development    10.0.2760.0  Works<br />
Testing        10.0.2734.0  FAILS<br />
Staging        10.0.2531.0  Works</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/?replytocom=2978#respond' onclick='return addComment.moveForm( "div-comment-2978", "2978", "respond", "842" )' aria-label='Reply to Kris Cook'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol>
						<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/index.php/datamgmt/datadesign/change-data-capture-sql-server-08/#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='842' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><input type="hidden" id="killer_value" name="killer_value" value="28f0b864598a1291557bed248a998d4e"/><noscript>Sorry, but you are required to use a javascript enabled brower to comment here.</noscript>				</form>
					</div><!-- #respond -->
		</div>			</div>
				<br style="clear: both;" />
</div>
		</div>
		<div id="page-footer">
			<div id="botnav"><a href="http://lessthandot.com/" title="LessThanDot Launchpad">Launchpad</a> | <a href="http://lessthandot.com/account.php" title="Your Account Settings">My Account</a> | <a href="http://lessthandot.com/statistics.php" title="Statistics">Statistics</a> | <a href="http://lessthandot.com/donate.php" title="Donate">Donate</a> | <a href="http://lessthandot.com/contactus.php" title="Contact Us">Contact Us</a> | <a href="http://lessthandot.com/aboutus.php" title="About the LessThanDot Team">&copy;2008 - 2019 LessThanDot, LLC</a></div>

		<script type='text/javascript'>
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-4471405-1']);
		_gaq.push(['_trackPageview']);
		_gaq.push(['_setCustomVar', 1, 'Environment', 'lessthandot.com', 3]);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	  </script>			<div class="validator"><a href="http://validator.w3.org/check?uri=referer">Valid XHTML</a> | <a href="http://jigsaw.w3.org/css-validator/check/referer" title="Validate the CSS for this page at the W3C website">Valid CSS</a> | 2018-11-11 15:52</div>
		</div>
	</div>
</div>
<!-- <script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script> -->
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var spam_destroyer = {"key":"159ff9dcc225580310c2de238cdd1f1a","lifetime":"3600","limit":"1552765788"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/spam-destroyer/kill.js?ver=1.2'></script>
</body>
</html>
