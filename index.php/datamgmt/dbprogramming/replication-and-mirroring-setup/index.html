<!DOCTYPE html>
<html lang="en-US">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
		<link rel="shortcut icon" href="http://lessthandot.com/favicon.ico" type="image/vnd.microsoft.icon" />
	<title>Less Than Dot - Blog -   Mirroring and Transactional Replication setup – Auto Failover</title>
	<meta prefix="og: http://ogp.me/ns#" property="og:title" content="Less Than Dot - Blog -   Mirroring and Transactional Replication setup – Auto Failover" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:url" content="/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/" />
		<meta prefix="og: http://ogp.me/ns#" property="og:image" content="http://lessthandot.com/images/logo_prod.png" />
	<meta prefix="og: http://ogp.me/ns#" property="og:type" content="article" />
	<meta prefix="og: http://ogp.me/ns#" property="og:site_name" content="LessThanDot" />
	<meta prefix="og: http://ogp.me/ns#" property="og:description" content="Since mirroring has come to the SQL Server feature set, High Availability (HA) has become a much easier, inexpensive and available option. Prior to mirroring, third party software and hardware were the main options to achieve HA. This was due to replication never being accepted as a high availability option. With any solution like SQL Server, growth over time builds a better and more stable solution. This has been the fact with many features of SQL Server, including replication. Replication had some issues in previous versions of SQL Server. Maintaining the uptime and stability was not a trivial task. With replication, there is a more in-depth knowledge requirement to maintain it, while mirroring does not require as much in-depth knowledge to provide a solid solution. Do think that mirroring does not include a strict discipline of skills in order to make it a successful HA solution. Mirroring is simplistic from the outside, both in setup and maintainability. However, troubleshooting mirroring is a critical aspect to making it work for HA. In order to be successful, knowledge of the internals of mirroring is as important as replication." />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/index.php/feed/" />
	<link rel="alternate" type="application/atom+xml" title="Atom" href="/index.php/feed/atom/" />

	<!-- this page is the canonical URL -->	
	<link rel="stylesheet" href="/wp-content/themes/lessthandot2009/style.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsite.css" type="text/css" />
	<link rel="stylesheet" href="http://lessthandot.com/includes/allsiteprint.css" media="print" type="text/css" />

	<link rel='dns-prefetch' href='//ajax.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="LessthanDot &raquo; Mirroring and Transactional Replication setup – Auto Failover Comments Feed" href="/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.1"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='bwp-syntax-css'  href='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/css/bwp-syntax-global.css?ver=4.6.1' type='text/css' media='all' />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-content/plugins/better-wordpress-syntax-based-on-geshi/js/bwp-syntax.js?ver=4.6.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Exploring Reactive Extensions &#8211; Adding a Dash of Linq' href='/index.php/desktopdev/mstech/exploring-reactive-extensions-adding-a-d/' />
<link rel='next' title='Exploring Reactive Extensions &#8211; Subscription Management' href='/index.php/desktopdev/mstech/exploring-reactive-extensions-subscripti/' />
<meta name="generator" content="WordPress 4.6.1" />
<link rel="canonical" href="/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/" />
<link rel='shortlink' href='/?p=961' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fdatamgmt%2Fdbprogramming%2Freplication-and-mirroring-setup%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Fdatamgmt%2Fdbprogramming%2Freplication-and-mirroring-setup%2F&#038;format=xml" />
<style type='text/css'>.rp4wp-related-posts ul{width:100%;padding:0;margin:0;float:left;}
.rp4wp-related-posts ul>li{list-style:none;padding:0;margin:0;padding-bottom:20px;clear:both;}
.rp4wp-related-posts ul>li>p{margin:0;padding:0;}
.rp4wp-related-post-image{width:35%;padding-right:25px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;float:left;}</style>
	<script src="http://lessthandot.com/includes/allsite.js" type="text/javascript" ></script>
</head>
<body>
<div id="contain"><div id="subcontain"><div id="ttl"><div id="hdr"><div id="snav"><a href="http://lessthandot.com/login.php?backtrack=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/?">Member Login</a>
</div><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="logoc"><img src="http://lessthandot.com/images/logo_prod.png" alt="LessThanDot Site Logo" border="0" /></a><h1>LessThanDot</h1><div class="pgsttl">A decade of helpful technical content</div></div><div id="nav">
<ul>
<li><a href="http://lessthandot.com/" title="LessThanDot Launchpad" id="h" ><span>Launchpad</span></a></li>
<li class="cur"><a href="/" title="LessThanDot Blogs" id="b" ><span>Blogs</span></a></li>
<li><a href="http://forum.lessthandot.com/" title="LessThanDot Community Forums" id="f" ><span>Forum</span></a></li>
<li><a href="http://wiki.lessthandot.com/" title="LessThanDot Wiki Articles" id="w" ><span>Wiki</span></a></li>
<li><a href="http://sqlcop.lessthandot.com/" title="LessThanDot SQLCop" id="a" ><span>SQLCop</span></a></li>
<li><a href="http://lessthandot.com/account.php" title="Your Account Settings" id="r"  class="l_ie"><span>My Account</span></a></li></ul></div>
</div><div id="content">
<div id="fac"><div id="fa">
		<p>Less Than Dot is a community of passionate IT professionals and enthusiasts dedicated to sharing technical knowledge, experience, and assistance. Inside you will find reference materials, interesting technical discussions, and expert tips and commentary.</p></div></div><div class="content-sidebar">
	<div id="social" class="sdsec">
		<h2>LTD Social Sitings</h2>
		<div>
		<a id="social_twitter" href="http://twitter.com/LessThanDot/" title="Follow us on Twitter" ><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Lessthandot twitter"/></a> 
		<a href="http://www.linkedin.com/groups?home=&amp;gid=113440" title="Join us on LinkedIn" ><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="Lessthandot Linkedin" /></a> 
		<a href="http://www.facebook.com/group.php?gid=19330511063" title="Join us on Facebook" ><img src="http://lessthandot.com/images/bdg_facebook.png" alt="Lessthandot facebook"/></a> 
		<a href="http://lessthandot.com/rss.php" title="LessThanDot News Feed" ><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="Lessthandot rss"/></a> 
		</div>
		<p><em>Note: Watch for social icons on posts by your favorite authors to follow their postings on these and other social sites.</em></p>
	</div><div class="content-sidebar-section">
<h2>Tag cloud</h2>
	<p class="tag-cloud">
		<a href='/index.php/tag/net/' class='tag-link-245 tag-link-position-1' title='21 topics' style='font-size: 8.9565217391304pt;'>.net</a> <a href='/index.php/tag/asp-net/' class='tag-link-168 tag-link-position-2' title='21 topics' style='font-size: 8.9565217391304pt;'>asp.net</a> <a href='/index.php/tag/azure-2/' class='tag-link-321 tag-link-position-3' title='29 topics' style='font-size: 10.173913043478pt;'>azure</a> <a href='/index.php/tag/book/' class='tag-link-130 tag-link-position-4' title='26 topics' style='font-size: 9.7391304347826pt;'>book</a> <a href='/index.php/tag/business-intelligence-2/' class='tag-link-256 tag-link-position-5' title='30 topics' style='font-size: 10.260869565217pt;'>business intelligence</a> <a href='/index.php/tag/c/' class='tag-link-138 tag-link-position-6' title='40 topics' style='font-size: 11.304347826087pt;'>c#</a> <a href='/index.php/tag/database/' class='tag-link-134 tag-link-position-7' title='31 topics' style='font-size: 10.434782608696pt;'>database</a> <a href='/index.php/tag/excel/' class='tag-link-155 tag-link-position-8' title='16 topics' style='font-size: 8pt;'>excel</a> <a href='/index.php/tag/gotcha/' class='tag-link-240 tag-link-position-9' title='19 topics' style='font-size: 8.6086956521739pt;'>gotcha</a> <a href='/index.php/tag/how-to/' class='tag-link-272 tag-link-position-10' title='44 topics' style='font-size: 11.652173913043pt;'>how to</a> <a href='/index.php/tag/mongodb/' class='tag-link-765 tag-link-position-11' title='17 topics' style='font-size: 8.2608695652174pt;'>mongodb</a> <a href='/index.php/tag/nosql/' class='tag-link-775 tag-link-position-12' title='18 topics' style='font-size: 8.4347826086957pt;'>nosql</a> <a href='/index.php/tag/performance/' class='tag-link-179 tag-link-position-13' title='26 topics' style='font-size: 9.7391304347826pt;'>performance</a> <a href='/index.php/tag/security-2/' class='tag-link-398 tag-link-position-14' title='25 topics' style='font-size: 9.5652173913043pt;'>security</a> <a href='/index.php/tag/sql/' class='tag-link-132 tag-link-position-15' title='42 topics' style='font-size: 11.478260869565pt;'>sql</a> <a href='/index.php/tag/sql-advent-2012/' class='tag-link-1416 tag-link-position-16' title='18 topics' style='font-size: 8.4347826086957pt;'>sql advent 2012</a> <a href='/index.php/tag/sql-friday/' class='tag-link-377 tag-link-position-17' title='18 topics' style='font-size: 8.4347826086957pt;'>sql friday</a> <a href='/index.php/tag/sql-server/' class='tag-link-154 tag-link-position-18' title='145 topics' style='font-size: 16.086956521739pt;'>sql server</a> <a href='/index.php/tag/sql-server-2000/' class='tag-link-366 tag-link-position-19' title='45 topics' style='font-size: 11.739130434783pt;'>sql server 2000</a> <a href='/index.php/tag/sql-server-2005/' class='tag-link-327 tag-link-position-20' title='118 topics' style='font-size: 15.391304347826pt;'>sql server 2005</a> <a href='/index.php/tag/sql-server-2008/' class='tag-link-152 tag-link-position-21' title='237 topics' style='font-size: 18pt;'>sql server 2008</a> <a href='/index.php/tag/sql-server-2008-r2/' class='tag-link-548 tag-link-position-22' title='38 topics' style='font-size: 11.130434782609pt;'>sql server 2008 r2</a> <a href='/index.php/tag/sql-server-2012/' class='tag-link-1161 tag-link-position-23' title='76 topics' style='font-size: 13.739130434783pt;'>sql server 2012</a> <a href='/index.php/tag/ssis-2/' class='tag-link-501 tag-link-position-24' title='52 topics' style='font-size: 12.260869565217pt;'>ssis</a> <a href='/index.php/tag/ssms/' class='tag-link-640 tag-link-position-25' title='18 topics' style='font-size: 8.4347826086957pt;'>ssms</a> <a href='/index.php/tag/ssrs-2/' class='tag-link-557 tag-link-position-26' title='27 topics' style='font-size: 9.9130434782609pt;'>ssrs</a> <a href='/index.php/tag/syndicated/' class='tag-link-1407 tag-link-position-27' title='67 topics' style='font-size: 13.217391304348pt;'>syndicated</a> <a href='/index.php/tag/t-sql/' class='tag-link-185 tag-link-position-28' title='26 topics' style='font-size: 9.7391304347826pt;'>t-sql</a> <a href='/index.php/tag/tip/' class='tag-link-194 tag-link-position-29' title='46 topics' style='font-size: 11.826086956522pt;'>tip</a> <a href='/index.php/tag/unit-testing/' class='tag-link-162 tag-link-position-30' title='17 topics' style='font-size: 8.2608695652174pt;'>unit testing</a>	</p>
</div>		<div class="content-sidebar-section">
		<h2>Authors</h2>
			<ul class="author-list dimmed">
				<li><a href="/index.php/author/SQLDenis/" title="Posts by SQLDenis">SQLDenis</a> <a href="/index.php/author/SQLDenis/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (597)</li><li><a href="/index.php/author/onpnt/" title="Posts by Ted Krueger (onpnt)">Ted Krueger (onpnt)</a> <a href="/index.php/author/onpnt/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (355)</li><li><a href="/index.php/author/grrlgeek/" title="Posts by Jes Borland">Jes Borland</a> <a href="/index.php/author/grrlgeek/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (202)</li><li><a href="/index.php/author/tarwn/" title="Posts by Eli Weinstock-Herman (tarwn)">Eli Weinstock-Herman (tarwn)</a> <a href="/index.php/author/tarwn/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (190)</li><li><a href="/index.php/author/koenverbeeck/" title="Posts by Koen Verbeeck">Koen Verbeeck</a> <a href="/index.php/author/koenverbeeck/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (100)</li><li><a href="/index.php/author/alexcuse/" title="Posts by Alex Ullrich">Alex Ullrich</a> <a href="/index.php/author/alexcuse/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (55)</li><li><a href="/index.php/author/gmmastros/" title="Posts by George Mastros (gmmastros)">George Mastros (gmmastros)</a> <a href="/index.php/author/gmmastros/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (45)</li><li><a href="/index.php/author/axel8s/" title="Posts by Axel Achten (axel8s)">Axel Achten (axel8s)</a> <a href="/index.php/author/axel8s/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (28)</li><li><a href="/index.php/author/naomi/" title="Posts by Naomi Nosonovsky">Naomi Nosonovsky</a> <a href="/index.php/author/naomi/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (27)</li><li><a href="/index.php/author/thirster42/" title="Posts by David Forck (thirster42)">David Forck (thirster42)</a> <a href="/index.php/author/thirster42/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (24)</li><li><a href="/index.php/author/chopstik/" title="Posts by chopstik">chopstik</a> <a href="/index.php/author/chopstik/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (20)</li><li><a href="/index.php/author/kconan/" title="Posts by Kevin Conan">Kevin Conan</a> <a href="/index.php/author/kconan/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (18)</li><li><a href="/index.php/author/robearl/" title="Posts by Rob Earl">Rob Earl</a> <a href="/index.php/author/robearl/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (14)</li><li><a href="/index.php/author/thatrickguy/" title="Posts by ThatRickGuy">ThatRickGuy</a> <a href="/index.php/author/thatrickguy/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (12)</li><li><a href="/index.php/author/sqlarcher/" title="Posts by SQLArcher">SQLArcher</a> <a href="/index.php/author/sqlarcher/feed/"><img src="http://lessthandot.com/images/bdg_rss_icon_sm.png" style="border: none;" /></a> (11)</li>                <li><a href="http://lessthandot.com/Stats/BlogAuthors.php">More...</a></li>
			</ul>
		</div>
				<div class="content-sidebar-section">
		<h2>Categories</h2>
			<ul class="categories-list">
					<li class="cat-item cat-item-10"><a href="/index.php/category/all/" >All Blogs</a>
</li>
	<li class="cat-item cat-item-5"><a href="/index.php/category/architect/" >Architecture, Design and Strategy</a>
</li>
	<li class="cat-item cat-item-1759"><a href="/index.php/category/artificial-intelligence/" >Artificial Intelligence</a>
</li>
	<li class="cat-item cat-item-6"><a href="/index.php/category/datamgmt/" >Data Management</a>
</li>
	<li class="cat-item cat-item-7"><a href="/index.php/category/desktopdev/" >Desktop Developer</a>
</li>
	<li class="cat-item cat-item-8"><a href="/index.php/category/enterprisedev/" >Enterprise Developer</a>
</li>
	<li class="cat-item cat-item-11"><a href="/index.php/category/itprofessionals/" >IT Professionals</a>
</li>
	<li class="cat-item cat-item-12"><a href="/index.php/category/itstudents/" >IT Students and Researchers</a>
</li>
	<li class="cat-item cat-item-1743"><a href="/index.php/category/management/" >Management</a>
</li>
	<li class="cat-item cat-item-9"><a href="/index.php/category/sysadmins/" >System Admins</a>
</li>
	<li class="cat-item cat-item-1"><a href="/index.php/category/uncategorized/" >Uncategorized</a>
</li>
	<li class="cat-item cat-item-4"><a href="/index.php/category/webdev/" >Web Developer</a>
</li>
			</ul>
		</div>
		</div><div class="content-main">
				<div class="post-navigation">
				<div class="post-navigation-forward"><a href="/index.php/desktopdev/mstech/exploring-reactive-extensions-subscripti/" rel="next">Exploring Reactive Extensions &#8211; Subscription Management</a> &raquo; </div>
				<div class="post-navigation-back">&laquo; <a href="/index.php/desktopdev/mstech/exploring-reactive-extensions-adding-a-d/" rel="prev">Exploring Reactive Extensions &#8211; Adding a Dash of Linq</a></div>
			</div>
			<div class="post-area instapaper_body">
				<div class="post-title-line">
										<h1 class="instapaper_ignore"><a href="/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/" class="post-title">Mirroring and Transactional Replication setup – Auto Failover</a></h1>
					<div class="post-byline">by <a href="/index.php/author/onpnt/" title="Posts by Ted Krueger (onpnt)" rel="author">Ted Krueger (onpnt)</a> on November 30, 2010 in category <a href="/index.php/category/datamgmt/dbadmin/" rel="category tag">Database Administration</a> <a href="/index.php/category/datamgmt/dbprogramming/" rel="category tag">Database Programming</a> <a href="/index.php/category/datamgmt/dbprogramming/mssqlserver/" rel="category tag">Microsoft SQL Server</a> <a href="/index.php/category/datamgmt/dbadmin/mssqlserveradmin/" rel="category tag">Microsoft SQL Server Admin</a>. Article views: 30,366 </div>
				</div>
				<div class="post-tagline"><a href="https://twitter.com/intent/tweet?url=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/&text=RT @LessThanDot Blog - Mirroring and Transactional Replication setup &ndash; Auto Failover by @onpnt" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/&title=Mirroring and Transactional Replication setup &ndash; Auto Failover&source=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/&title=Mirroring and Transactional Replication setup &ndash; Auto Failover" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/&quote=Mirroring and Transactional Replication setup &ndash; Auto Failover" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/&title=Mirroring and Transactional Replication setup &ndash; Auto Failover" class="instapaper_button">Instapaper</a></div>

				<div class="post-content"><p> Since mirroring has come to the SQL Server feature set, High Availability (HA) has become a much easier, inexpensive and available option. Prior to mirroring, third party software and hardware were the main options to achieve HA. This was due to replication never being accepted as a high availability option. With any solution like SQL Server, growth over time builds a better and more stable solution. This has been the fact with many features of SQL Server, including replication. Replication had some issues in previous versions of SQL Server. Maintaining the uptime and stability was not a trivial task. With replication, there is a more in-depth knowledge requirement to maintain it, while mirroring does not require as much in-depth knowledge to provide a solid solution. Do think that mirroring does not include a strict discipline of skills in order to make it a successful HA solution. Mirroring is simplistic from the outside, both in setup and maintainability. However, troubleshooting mirroring is a critical aspect to making it work for HA. In order to be successful, knowledge of the internals of mirroring is as important as replication.</p>
<p>What happens when replication is already in use for what it is more well-known for; syncing data between like data sources? When replication is already in use, mirroring is still a successful HA solution. This includes a high safety model with automatic failover. There are a few things that need to be done to make replication and mirroring function well together. These include the order of setup, and the settings and configurations for replication specifically.</p>
<blockquote><p>Resources: Books online (BOL) has a starting point for mirroring with. http://technet.microsoft.com/en-us/library/ms151799.aspx<br />
This resource also provides links to configuring replication with mirroring and log shipping with mirroring. All important reading and highly recommend outside of this article.
</p></blockquote>
<p><strong>Setup</strong></p>
<p>If you followed the link above, BOL provides a basic listing of the order to setup mirroring with replication.</p>
<ol>
<li>Configure the Publisher.</li>
<li>Configure database mirroring.</li>
<li>Configure the mirror to use the same Distributor as the principal.</li>
<li>Configure replication agents for failover.</li>
<li>Add the principal and mirror to Replication Monitor.</li>
</ol>
<p>We will follow these steps while adding in a few catches and added details that need to be configured to ensure processing flows while not in a failover situation and after a failover situation.</p>
<p><strong>Mirroring and Replication Landscape</strong></p>
<p>In the end, the solution shown in the following diagram will be achieved. </p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_01.gif" alt="" title="" width="602" height="380" /></div>
</p>
<p>From the above diagram, you can see that three servers are involved. Server A acts as the principal as well as the publisher. </p>
<ul>
<li>Principal: The primary server in mirroring</li>
<li>Mirror: The secondary server in mirroring</li>
<li>Publisher: The primary source of replication</li>
<li>Subscriber: The subscription to the published data in replication</li>
</ul>
<p>To follow the setup order, the first task is to setup the publisher in transactional replication.  This server also acts as the principal in mirroring (which will be setup later).</p>
<blockquote><p>AdventureWorks will be used in this setup and can be found <a href="http://sqlserversamples.codeplex.com/">http://sqlserversamples.codeplex.com/</a><br />
The SQL Server versions that are being used in this article are as follows<br />
Server A: SQL Server 2008 R2 – Principal and Publisher – ONPNT_XPSXPS2008R2<br />
Server B: SQL Server 2008 R2 – Mirror and Distributor – ONPNT_XPSR2Distributor<br />
Server C: SQL Server 2005 – Subscriber – ONPNT_XPS<br />
Setting up the distributor</p></blockquote>
<p>Replication setup can be achieved with the built in wizards from SSMS as well as the replication stored procedures packed with SQL Server. If using the wizard to set up replication, it is highly recommended that the “script to file” option is selected in the last screen of the wizard. This will script out the complete configuration the wizard has done utilizing the stored procedures behind the scenes. This acts as a quick way to set replication back up if the system is lost. Copy these files to a share that is located somewhere else and is also part of a disk to disk HA or DR solution.</p>
<p>Ensure that SQL Server Replication is installed on the SQL Server instance. If it is not, use the setup installation wizard from your media to install.<br />
On Server B, acting as our remote distributor, setup is required prior to configuring Server A for publication of the tables we want to replicate.  To set the distributor up, follow these steps.</p>
<p>Using the wizard: right click Replication in the tree view in SSMS and select, configure Distribution…</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_02.gif" alt="" title="" width="390" height="90" /></div>
<p>Setup steps included in the wizard will be as follows:</p>
<ol>
<li>Distributor: Acts as its own Distributor</li>
<li>Snapshot folder: default for this lab but share on network for true production environment</li>
<li>Distribution Database: leave defaults to your disk configurations</li>
<li>Publishers: leave distributor as publisher and add Server A as a publisher. XPS2008R2 in this test</li>
<li>Distributor password: Enter the service credentials.  Needs access to Server A and B and share</li>
<li>Wizard Actions: Check both configure and generate scripts</li>
<li>Execute setup</li>
</ol>
<p>Each step shown below ordered left to right</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_03.gif" alt="" title="" width="720" height="654" /></div>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_04.gif" alt="" title="" width="719" height="327" /></div>
</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_05.gif" alt="" title="" width="504" height="307" /></div>
<p><strong>Move to the publisher now.</strong></p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_06.gif" alt="" title="" width="330" height="98" /></div>
<p>In the wizard:</p>
<ol>
<li>Distributor: change the distributor to the remote distributor we setup prior</li>
<li>Administrative Password: enter the administrator password to gain access to the remote distributor</li>
<li>Publication Database: select AdventureWorks as the database</li>
<li>Publication Type: select Transactional publication for the publication type</li>
<li>Articles: select the articles (tables: Address, AddressType, Contact, ContactType and CountryRegion)</li>
<li>Filtered table rows: no filters</li>
<li>Snapshot Agent: check “Create a snapshot immediately and keep the snapshot available to initialize subscriptions”</li>
<li>Agent Security: select the security settings as the “Run under the SQL Server Agent service account”</li>
<li>Wizard Options: finish by selecting the Generate scripts option.</li>
</ol>
<p>These steps are shown in order below ordered left to right</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_07.gif" alt="" title="" width="695" height="640" /></div>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_08.gif" alt="" title="" width="698" height="318" /></div>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_09.gif" alt="" title="" width="709" height="638" /></div>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_10.gif" alt="" title="" width="356" height="320" /></div>
<p>Recap: At this point we have a distributor role on R2Distributor, Server B; and a publication role on XPS2008R2, Server A. </p>
<p>To finish the replication setup, create a subscription to the publication on ONPNT_XPS, Server C.  To do this, connect to the SQL Server in SSMS, right click the subscriptions and select New Subscriptions…</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_11.gif" alt="" title="" width="361" height="132" /></div>
<p>Select XPS2008R2 (your own server name replaced here) as Publisher</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_12.gif" alt="" title="" width="498" height="238" /></div>
<p>Through the wizard, make the following selections.</p>
<ol>
<li>Distribution Agent Location: Run all agents at the Distributor</li>
<li>Subscribers: Subscriber (ONPNT_XPS), Subscription Database (AdventureWorks)</li>
<li>Distribution Agent Security: Impersonate process account </li>
<li>Synchronization Schedule: Run Continuously</li>
<li>Initialize Subscriptions: Immediately</li>
<li>Wizard Actions: Create subscriptions and Generate scripts</li>
</ol>
<p>Each step shown below ordered left to right</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_13.gif" alt="" title="" width="727" height="662" /></div>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_14.gif" alt="" title="" width="732" height="332" /></div>
<p>We’ve successfully setup transactional replication at this point and can move to setting up the mirroring session.  The mirror will exist between Server A (Replication Publisher) and Server B (Replication Distributor).  To set mirroring up, refer to the following blog on <a href="/index.php/DataMgmt/DBAdmin/sql-server-2008-mirroring-setup">setting mirroring up with Developer Edition</a>.</p>
<p>Once the mirror setup is completed, replication must be configured further to ensure a failover in the mirror is also followed with a failover in the replication.  To accomplish this, the agent profiles for all replication agents must have the –PublisherFailoverPartner set.  This ensures that in the event of a failover, the agents know what the mirror is.</p>
<p>To set the agents, use the sp_add_agent_parameter procedure</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
</pre></td><td class="de1"><pre class="de1"><span class="kw1">exec</span> <span class="kw3">sp_add_agent_parameter</span> @profile_id <span class="sy0">=</span> <span class="nu0">1</span>, @parameter_name <span class="sy0">=</span> N<span class="st0">'-PublisherFailoverPartner'</span>, @parameter_value <span class="sy0">=</span> N<span class="st0">'ONPNT_XPSR2Distributor'</span>
<span class="kw1">exec</span> <span class="kw3">sp_add_agent_parameter</span> @profile_id <span class="sy0">=</span> <span class="nu0">2</span>, @parameter_name <span class="sy0">=</span> N<span class="st0">'-PublisherFailoverPartner'</span>, @parameter_value <span class="sy0">=</span> N<span class="st0">'ONPNT_XPSR2Distributor'</span>
<span class="kw1">exec</span> <span class="kw3">sp_add_agent_parameter</span> @profile_id <span class="sy0">=</span> <span class="nu0">3</span>, @parameter_name <span class="sy0">=</span> N<span class="st0">'-PublisherFailoverPartner'</span>, @parameter_value <span class="sy0">=</span> N<span class="st0">'ONPNT_XPSR2Distributor'</span>
<span class="kw1">exec</span> <span class="kw3">sp_add_agent_parameter</span> @profile_id <span class="sy0">=</span> <span class="nu0">9</span>, @parameter_name <span class="sy0">=</span> N<span class="st0">'-PublisherFailoverPartner'</span>, @parameter_value <span class="sy0">=</span> N<span class="st0">'ONPNT_XPSR2Distributor'</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">exec sp_add_agent_parameter @profile_id = 1, @parameter_name = N'-PublisherFailoverPartner', @parameter_value = N'ONPNT_XPSR2Distributor'
exec sp_add_agent_parameter @profile_id = 2, @parameter_name = N'-PublisherFailoverPartner', @parameter_value = N'ONPNT_XPSR2Distributor'
exec sp_add_agent_parameter @profile_id = 3, @parameter_name = N'-PublisherFailoverPartner', @parameter_value = N'ONPNT_XPSR2Distributor'
exec sp_add_agent_parameter @profile_id = 9, @parameter_name = N'-PublisherFailoverPartner', @parameter_value = N'ONPNT_XPSR2Distributor'</pre></div></div>

<p>The profile ID can be obtained by querying the <a href="http://msdn.microsoft.com/en-us/library/ms178540.aspx">MSAgent_Profiles</a> table in the MSDB database.  The agent types that will be contained in this table are:</p>
<p>1 = Snapshot Agent<br />
2 = Log Reader Agent<br />
3 = Distribution Agent<br />
4 = Merge Agent<br />
9 = Queue Reader Agent</p>
<p>Since profile IDs may be different on different installations, verify your profile ID by check this table.  Once the parameters are set, use the <a href="http://msdn.microsoft.com/en-us/library/ms188339.aspx">MSagent_parameters</a> table to verify by checking the parameter_name column for the value -PublisherFailoverPartner.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> <span class="sy0">*</span> <span class="kw1">FROM</span> MSagent_parameters <span class="kw1">WHERE</span> parameter_name <span class="sy0">=</span> <span class="st0">'-PublisherFailoverPartner'</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT * FROM MSagent_parameters WHERE parameter_name = '-PublisherFailoverPartner'</pre></div></div>

<p>If we were in a merge replication setup, profile 4 would also need to be set.</p>
<p>The procedure sets the mirror name as the failover parameter.  Run this on the distributor (which is also acting as the mirror in our case).</p>
<p><strong>Verification and failover test</strong></p>
<p>Testing is everything when you have a more complex HA setup, such as mirroring with replication.  Taking testing in stages will allow for problem areas to be quickly resolved, rather than testing the end result and backtracking through your configurations.</p>
<p>At this point mirroring and replication is functioning together.  The principal and mirror are acting in a synchronized state and replication is acting based off the distributor.  To test this setup, test mirroring by altering a record in AdventureWorks on the principal.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> AddressLine1 <span class="kw1">FROM</span> person.<span class="me1">Address</span> <span class="kw1">WHERE</span> AddressID <span class="sy0">=</span> <span class="nu0">1</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT AddressLine1 FROM person.Address WHERE AddressID = 1</pre></div></div>

<p>The statement above results in, “1970 Napa Ct”.  Update the AddressLine1 value to, “1970 Napa Court” and ensure the changes flow to the subscriber of the publication.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
</pre></td><td class="de1"><pre class="de1"><span class="kw1">UPDATE</span> Person.<span class="me1">Address</span> <span class="kw1">SET</span> AddressLine1 <span class="sy0">=</span> <span class="st0">'1970 Napa Court'</span>
<span class="kw1">WHERE</span> AddressID <span class="sy0">=</span> <span class="nu0">1</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">UPDATE Person.Address SET AddressLine1 = '1970 Napa Court'
WHERE AddressID = 1</pre></div></div>

<p>Check the subscriber by running the same select.  You should see the changes made to the same record.  In the replication monitor we can also see the commands sent</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_15.gif" alt="" title="" width="607" height="249" /></div>
<p>Our next step it to test a complete failover of the mirror and then make this same test to ensure that replication also fails over as it is detected.</p>
<p>Right click the AdventureWorks database on the Principal and select properties.  Go to the mirroring page and click the Failover button</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_16.gif" alt="" title="" width="628" height="244" /></div>
<p>Click Yes to the warning on failover.  The wizard screen will close when the failover is completed.  </p>
<p>At this point replication is disconnected from the publisher on running commands.  We can see this by looking at the replication monitor and seeing retry attempts</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_17.gif" alt="" title="" width="628" height="104" /></div>
<p>The default amount of time that is monitored for replication to failover is around 35 seconds.  Once replication agents failover to the mirror set in the failover partner parameter, the agent status in the monitor will resume the running state.</p>
<p>To test the failover, run the same test as we performed earlier but in reverse order.  Update the mirror that is now acting as the principal and follow the replicated commands through to the subscriber to ensure the changes were committed there.</p>
<p>In this case, update the same value back to the Ct over Court value.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
</pre></td><td class="de1"><pre class="de1"><span class="kw1">UPDATE</span> Person.<span class="me1">Address</span> <span class="kw1">SET</span> AddressLine1 <span class="sy0">=</span> <span class="st0">'1970 Napa Ct'</span>
<span class="kw1">WHERE</span> AddressID <span class="sy0">=</span> <span class="nu0">1</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">UPDATE Person.Address SET AddressLine1 = '1970 Napa Ct'
WHERE AddressID = 1</pre></div></div>

<p>Check on the subscriber now that the changes flowed as they should have</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> AddressLine1 <span class="kw1">FROM</span> person.<span class="me1">Address</span> <span class="kw1">WHERE</span> AddressID <span class="sy0">=</span> <span class="nu0">1</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT AddressLine1 FROM person.Address WHERE AddressID = 1</pre></div></div>

<p>We see that the failover was successful and the value committed as, “1970 Napa Ct” and the distributor in the replication monitor shows the commands sent.</p>
<div class="image_block"><img src="/wp-content/uploads/blogs/DataMgmt/mirror_repl/mirroring_replicaton_18.gif" alt="" title="" width="628" height="218" /></div>
<p>Once verified, fail the mirroring session back to the original state and test again.</p>
<p><strong>Primary concerns</strong></p>
<p>The primary concern with putting replication to work on a database that is mirrored will fall into latency.  Replication latency will increase when certain mirroring operating modes are set or in the case a mirror is in a lengthy synchronizing state.  This is more the case when High Performance mirroring is set.   </p>
<p>In some cases when replication is heavily used, multiple distributors are also utilized to balance loads across physical SQL Servers.  With mirroring and replication, the distributor must be the same for both the principal and the mirror.  This is due to the state of the mirror and requiring it to mimic the principal at all times.  </p>
<p>Finally, unsupported replication types include: Immediate update Subscribers, Oracle publishers, peer-to-peer publishers and republishing.  </p>
<p>This and other important notes that should be considered when working with mirroring and replication on the same database can be found in <a href="http://technet.microsoft.com/en-us/library/ms151799.aspx">this BOL document</a>.</p>
<p>This entire solution can be scripted out both by the use of the Generate Scripts option and by altering the scripts to utilize parameters you pass in.  It is recommended that you at least save the generated scripts from the configurations so the setup can be restored quickly.  This includes mirroring scripts for the endpoints.  </p>
<p>You can see a close example of scripting the replication setup on mirrored databases <a href="http://www.sqlservercentral.com/scripts/Replication/70508/">here</a> on SQLServerCentral.com.</p>
<p>Thanks to Kendal Van Dyke (<a href="http://twitter.com/sqldba">Twitter</a> | <a href="http://www.kendalvandyke.com/">Blog</a>) (aka, the replication king) for the technical review of the article.</p>
<div class='rp4wp-related-posts'>
<h3>Related Posts</h3>
<ul>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/dbadmin/merge-replication-filtered-data-publication/'>Merge Replication – Filtered Data Publication Setup</a><p>This article will show you how to use two methods in order to restrict the&hellip;</p></div>
</li>
<li><div class='rp4wp-related-post-content'>
<a href='/index.php/datamgmt/datadesign/mirroring-sql-server-2005-to-sql-server-2008/'>Mirroring SQL Server 2005 to SQL Server 2008 (Part 1)</a><p>Over the weekend I started writing my documentation and lab work for a few database&hellip;</p></div>
</li>
</ul>
</div>
</div>
				<div class="post-author">
					<div class="userInfo"><h2>About the Author</h2>Ted Krueger is a SQL Server MVP and Author that has been working in development and database administration and the owner of a successful consulting business, DataMetrics Consulting.  Specialties range from High Availability and Disaster / Recovery setup and testing methods down to custom assembly development for SQL Server Reporting Services.  Ted blogs and is also one of the founders of LessThanDot.com technology community.  Some of the articles focused on are Backup / Recovery, Security, SSIS and working on SQL Server and using all of the SQL Server features available to create stable and scalable database services.  <br style="clear: left" /><div class="bioSoc"><span class="bioSocTitle">Social Sitings</span><a href="http://twitter.com/onpnt" title="onpnt at Twitter" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_twitter.png" alt="Twitter" /></a><a href="http://www.facebook.com/profile.php?id=https://www.facebook.com/onpntfirearms" title="onpnt at Facebook" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_facebook.png" alt="Facebook" /></a><a href="http://www.linkedin.com/pub/ted-krueger/2/183/b66" title="onpnt at LinkedIn" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_linkedin.png" alt="LinkedIn" /></a><a href="http://www.datametricsconsulting.com/" title="onpnt at HomePage" class="bioSocLink" rel="author"><img src="http://lessthandot.com/images/bdg_homepage.png" alt="HomePage" /></a><a href="/index.php/author/onpnt/feed/" title="Blog RSS feed for onpnt" class="bioSocLink"><img src="http://lessthandot.com/images/bdg_rss_icon.png" alt="LTD RSS Feed" /></a></div></div>				</div>
				<div class="post-foot instapaper_ignore">
					<div class="post-tagline">
						<div class="post-foot-views"><label>Article views:</label> 30,366 </div>
						<div class="post-foot-more-posts">
                            <a href="/index.php/author/onpnt/">Read More Posts by Ted Krueger (onpnt)</a>
						</div>
					</div>
					<div>
						<label>Tags:</label> <a href="/index.php/tag/mirroring/" rel="tag">mirroring</a>, <a href="/index.php/tag/replication/" rel="tag">replication</a>, <a href="/index.php/tag/sql-server-2005/" rel="tag">sql server 2005</a>, <a href="/index.php/tag/sql-server-2008/" rel="tag">sql server 2008</a>, <a href="/index.php/tag/transactional-replication/" rel="tag">transactional replication</a> 
					</div>
					<div class="post-tagline" style="height: auto">
						<span class="social-button-label">Share:</span><a href="https://twitter.com/intent/tweet?url=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/&text=RT @LessThanDot Blog - Mirroring and Transactional Replication setup &ndash; Auto Failover by @onpnt" class="twitter-share-button-static" target="_blank"><i></i><span class="label">Tweet</span></a><a href="http://www.linkedin.com/shareArticle?mini=true&url=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/&title=Mirroring and Transactional Replication setup &ndash; Auto Failover&source=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/" target="_blank" title="Share on LinkedIn" class="svg-button"><img alt="Share on LinkedIn"  src="http://lessthandot.com/images/LinkedIn.svg" /></a><a href="http://www.reddit.com/submit?url=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/&title=Mirroring and Transactional Replication setup &ndash; Auto Failover" target="_blank" title="Submit to Reddit" class="svg-button"><img alt="Submit to Reddit" src="http://lessthandot.com/images/Reddit.svg" /></a><a href="https://www.facebook.com/sharer/sharer.php?u=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/&quote=Mirroring and Transactional Replication setup &ndash; Auto Failover" title="Share on Facebook" target="_blank" class="svg-button"><img alt="Share on Facebook" src="http://lessthandot.com/images/Facebook.svg" /></a> <a href="http://www.instapaper.com/hello2?url=/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/&title=Mirroring and Transactional Replication setup &ndash; Auto Failover" class="instapaper_button">Instapaper</a>					</div>			
				</div>
				<div class="comments-area instapaper_ignore">
	<h4 class="comments-title">
		6 Comments	</h4>
			<ol class="comments-list">
					<li class="comment even thread-even depth-1" id="comment-3402">
				<div id="div-comment-3402" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/776aa05841d69e74463d686807e249c0?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/776aa05841d69e74463d686807e249c0?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">sharad</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/#comment-3402">
			January 4, 2011 at 3:00 pm</a>		</div>

		<p>Excellent article!<br />
Thanks for putting this all together.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/?replytocom=3402#respond' onclick='return addComment.moveForm( "div-comment-3402", "3402", "respond", "961" )' aria-label='Reply to sharad'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-3403">
				<div id="div-comment-3403" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://1.gravatar.com/avatar/d38d25a4011a032755de7eaf14a240f9?s=64&#038;d=mm&#038;r=g' srcset='http://1.gravatar.com/avatar/d38d25a4011a032755de7eaf14a240f9?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Dan B</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/#comment-3403">
			November 8, 2011 at 2:59 am</a>		</div>

		<p>A very succint and informative article.</p>
<p>Has helped with my design of Transactional Replication in a mirrored environment!</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/?replytocom=3403#respond' onclick='return addComment.moveForm( "div-comment-3403", "3403", "respond", "961" )' aria-label='Reply to Dan B'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-3404">
				<div id="div-comment-3404" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/0306c1ce50110b8316d0e0184cbb3b0e?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/0306c1ce50110b8316d0e0184cbb3b0e?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">Rahul</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/#comment-3404">
			November 16, 2011 at 1:26 am</a>		</div>

		<p>Simply awesome article. Thanks a lot Ted.</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/?replytocom=3404#respond' onclick='return addComment.moveForm( "div-comment-3404", "3404", "respond", "961" )' aria-label='Reply to Rahul'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-3401">
				<div id="div-comment-3401" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/052d2db367111b75ef05d1fc253ed761?s=64&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/052d2db367111b75ef05d1fc253ed761?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">carlos  jose</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/#comment-3401">
			May 15, 2013 at 11:15 am</a>		</div>

		<p>I have doubts that would happen if our publication has multiple subscribers, and these in the future would have also would have mirror<br />
settings as serious<br />
the current is so<br />
  -PublisherFailoverPartner: server2</p>
<p>but since that publication, subscribe multiple servers as serious</p>
<p>
  -PublisherFailoverPartner: serverA2, serverB2, serverC3</p>
<p>this could be?</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/?replytocom=3401#respond' onclick='return addComment.moveForm( "div-comment-3401", "3401", "respond", "961" )' aria-label='Reply to carlos  jose'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="pingback even thread-even depth-1" id="comment-1523523">
				<div id="div-comment-1523523" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href='http://sqlpt.azurewebsites.net/2013/04/prittify-e-replication-com-db-mirroring.html' rel='external nofollow' class='url'>Prittify e replication com db mirroring | SQLPT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/#comment-1523523">
			August 5, 2014 at 7:10 am</a>		</div>

		<p>[&#8230;] &#8211; aqui- aqui&nbsp;e principlamente aqui [&#8230;]</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/?replytocom=1523523#respond' onclick='return addComment.moveForm( "div-comment-1523523", "1523523", "respond", "961" )' aria-label='Reply to Prittify e replication com db mirroring | SQLPT'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-4350235">
				<div id="div-comment-4350235" class="comment-body">
				<div class="comment-author vcard">
			<img alt='' src='http://2.gravatar.com/avatar/548bf97293b6f701fa89ce9959845a8d?s=64&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/548bf97293b6f701fa89ce9959845a8d?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />			<cite class="fn">chinchin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/#comment-4350235">
			June 8, 2015 at 10:00 pm</a>		</div>

		<p>Great article! I am using your guide, however I placed the Distribution at fourth server D. If the server D is down and inaccessible, the replication will stop. Urgently need your advice on how should I bring the Distribution database up in server D_BCC with minimum/no downtime and data loss since Mirroring and LogShipping methods are forbidden for Distribution database. Thanks in advance!</p>

		<div class="reply"><a rel='nofollow' class='comment-reply-link' href='/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/?replytocom=4350235#respond' onclick='return addComment.moveForm( "div-comment-4350235", "4350235", "respond", "961" )' aria-label='Reply to chinchin'>Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol>
						<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/index.php/datamgmt/dbprogramming/replication-and-mirroring-setup/#respond" style="display:none;">Cancel reply</a></small></h3>				<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required='true' required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required='true' required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='961' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><input type="hidden" id="killer_value" name="killer_value" value="07563a3fe3bbe7e3ba84431ad9d055af"/><noscript>Sorry, but you are required to use a javascript enabled brower to comment here.</noscript>				</form>
					</div><!-- #respond -->
		</div>			</div>
				<br style="clear: both;" />
</div>
		</div>
		<div id="page-footer">
			<div id="botnav"><a href="http://lessthandot.com/" title="LessThanDot Launchpad">Launchpad</a> | <a href="http://lessthandot.com/account.php" title="Your Account Settings">My Account</a> | <a href="http://lessthandot.com/statistics.php" title="Statistics">Statistics</a> | <a href="http://lessthandot.com/donate.php" title="Donate">Donate</a> | <a href="http://lessthandot.com/contactus.php" title="Contact Us">Contact Us</a> | <a href="http://lessthandot.com/aboutus.php" title="About the LessThanDot Team">&copy;2008 - 2019 LessThanDot, LLC</a></div>

		<script type='text/javascript'>
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-4471405-1']);
		_gaq.push(['_trackPageview']);
		_gaq.push(['_setCustomVar', 1, 'Environment', 'lessthandot.com', 3]);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	  </script>			<div class="validator"><a href="http://validator.w3.org/check?uri=referer">Valid XHTML</a> | <a href="http://jigsaw.w3.org/css-validator/check/referer" title="Validate the CSS for this page at the W3C website">Valid CSS</a> | 2018-11-11 15:52</div>
		</div>
	</div>
</div>
<!-- <script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script> -->
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var spam_destroyer = {"key":"159ff9dcc225580310c2de238cdd1f1a","lifetime":"3600","limit":"1552765779"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/spam-destroyer/kill.js?ver=1.2'></script>
</body>
</html>
