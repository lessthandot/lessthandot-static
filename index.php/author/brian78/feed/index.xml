<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Brian Davis &#8211; LessthanDot</title>
	<atom:link href="/index.php/author/brian78/feed/" rel="self" type="application/rss+xml" />
	<link>/</link>
	<description>A Technical Community for IT Professionals</description>
	<lastBuildDate>Sat, 09 Mar 2019 12:50:36 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.6.1</generator>
	<item>
		<title>T-SQL Tuesday #50 &#8211; Automating Your Installs</title>
		<link>/index.php/datamgmt/dbadmin/mssqlserveradmin/t-sql-tuesday-50-automating-your-installs/</link>
		<comments>/index.php/datamgmt/dbadmin/mssqlserveradmin/t-sql-tuesday-50-automating-your-installs/#respond</comments>
		<pubDate>Tue, 14 Jan 2014 20:54:32 +0000</pubDate>
		<dc:creator><![CDATA[Brian Davis]]></dc:creator>
				<category><![CDATA[Microsoft SQL Server Admin]]></category>
		<category><![CDATA[automation]]></category>
		<category><![CDATA[tsql2sday]]></category>

		<guid isPermaLink="false">/?p=2255</guid>
		<description><![CDATA[This month’s T-SQL Tuesday is being hosted by SQLChow (b &#124; t) and the topic is “Automation, how much of it is the same?”.  As SQLChow noted, automation was a topic a few years ago and now it is being revisited to see if and how it has changed over the years. I know for [&#8230;]]]></description>
				<content:encoded><![CDATA[<p><a href="http://sqlchow.wordpress.com/2014/01/07/t-sql-tuesday-050-automation-how-much-of-it-is-the-same/" target="_blank"><img class="alignnone size-full wp-image-2241" alt="TSQL2sday" src="/wp-content/uploads/2014/01/TSQL2sday.png" width="133" height="134" /></a></p>
<p>This month’s T-SQL Tuesday is being hosted by SQLChow (<a href="http://sqlchow.wordpress.com/" target="_blank">b</a> | <a href="https://twitter.com/sqlchow" target="_blank">t</a>) and the topic is “Automation, how much of it is the same?”.  As SQLChow noted, automation was a topic a few years ago and now it is being revisited to see if and how it has changed over the years.</p>
<p>I know for me, over the last few years, automation has taken a larger role in many of the things I do.  I’ve automated many processes over the years using various tools such as SSIS and PowerShell and doing so has not only saved me time but my sanity as well  One of the biggest areas of automation for me over the past couple of years has been the automation my installs of SQL Server.  Everything from test and production server installs to automating the installation of the SQL Server Client Tools on developers machines and even cluster installs.</p>
<p>I know there are a couple tools out there to help with the automation of SQL Server installs, but my tool of choice has been <a title="SQL Server FineBuild" href="http://sqlserverfinebuild.codeplex.com/" target="_blank">SQL Server FineBuild</a>.  SQL Server FineBuild is a CodePlex project that is freely available and provides a one-click install of SQL Server.  It supports all versions of SQL Server from 2005 through 2014 and is highly customizable.  Not only does it support the installation of SQL Server, it also supports service packs, cumulative updates and hotfixes as well as many 3rd party tools such as BIDS Helper.  SQL Server FinBuild gives you fine grain control over every aspect of your install from the database engine to reporting services, integration services, etc as well as configuration options such as ports, service accounts, database mail and even adding permissions for environment specific accounts or configuring the SQL Client Tools on a developers machine.  This is just a short list of what SQL Server FineBuild can automate.</p>
<p>With SQL Server FineBuild I’ve been able to automate my installs but the benefits haven’t ended there.  If I’ve needed another server setup identical to a current server for testing, it’s very simple to take the configuration file from the original server and use it to build the test server and know that the install will be identical to the original install.  I’ve also used SQL Server FineBuild to update current installs at different patch levels to a consistent patch level across the board.</p>
<p>Automating your installs, as with automating anything, takes some initial setup and testing time, but once complete the benefits out weigh the costs especially if you are doing a lot of installs.  Just automating the SQL Server Client Tools installation can be a large time saver as the install can then be run by almost anyone in support.  Not only that but every developer will be setup the same way and patched to the current level of your environment.</p>
<p>If there is a repeatable process that I have to do over and over, I try my best to automate it and with this tool I’ve been able to not only automate my installs but save time as well.  If you do a lot of installs or simply want a way to quickly reinstall a server in the case of a disaster, I encourage you to look into automating your installs.</p>
]]></content:encoded>
			<wfw:commentRss>/index.php/datamgmt/dbadmin/mssqlserveradmin/t-sql-tuesday-50-automating-your-installs/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Highly Available Presentations</title>
		<link>/index.php/itprofessionals/professionaldevelopment/highly-available-presentations/</link>
		<comments>/index.php/itprofessionals/professionaldevelopment/highly-available-presentations/#comments</comments>
		<pubDate>Mon, 13 Jan 2014 13:30:00 +0000</pubDate>
		<dc:creator><![CDATA[Brian Davis]]></dc:creator>
				<category><![CDATA[Professional Development]]></category>
		<category><![CDATA[Presentations]]></category>
		<category><![CDATA[Presenting]]></category>

		<guid isPermaLink="false">/?p=2227</guid>
		<description><![CDATA[A little over a month ago I posted the follow quick note on Facebook The second comment I received was from Tom LaRock (b &#124; t), who said… My initial response was essentially “Nope, on my W530” I answered quickly and probably should have elaborated, because Tom’s next comment didn’t surprise me at all. Essentially, what [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>A little over a month ago I posted the follow quick note on Facebook</p>
<p><a href="/wp-content/uploads/2014/01/fb1.png"><img class="alignnone size-full wp-image-2228" alt="fb1" src="/wp-content/uploads/2014/01/fb1.png" width="459" height="95" /></a></p>
<p>The second comment I received was from Tom LaRock (<a href="http://thomaslarock.com/">b</a> | <a href="http://twitter.com/SQLRockstar">t</a>), who said…</p>
<p><a href="/wp-content/uploads/2014/01/fb2.png"><img class="alignnone  wp-image-2229" alt="fb2" src="/wp-content/uploads/2014/01/fb2.png" width="390" height="42" /></a></p>
<p>My initial response was essentially “Nope, on my W530”</p>
<p><a href="/wp-content/uploads/2014/01/fb3.png"><img class="alignnone  wp-image-2230" alt="fb3" src="/wp-content/uploads/2014/01/fb3.png" width="390" height="39" /></a></p>
<p>I answered quickly and probably should have elaborated, because Tom’s next comment didn’t surprise me at all.</p>
<p><a href="/wp-content/uploads/2014/01/fb4.png"><img class="alignnone size-full wp-image-2231" alt="fb4" src="/wp-content/uploads/2014/01/fb4.png" width="478" height="50" /></a></p>
<p>Essentially, what Tom is asking is “Is your presentation highly available?”.  Tom makes a very good point and it’s one that I recommend all presenters seriously think about!  It’s a point that I thought about awhile ago.  Sadly I thought about it because no one had asked me a question similar to Tom’s before and I hadn’t thought about it on my own.</p>
<p>If you’re presenting and your laptop fails or your VM’s become corrupted or a drive fails or pick any one of a hundred other things that could go wrong just before or during a presentation, what would you do?  You might have anywhere from 10 to 200 people expecting you to present something to them and your laptop is dead in the water.  How do you deliver your presentation?  Would you be able to?</p>
<p>Have you built your presentation they way you would a production database that you depend on?  Did you include Disaster Recovery and High Availability in your presentation architecture they way you would in your database architecture?</p>
<p>What do I mean when I say “include DR &amp; HA in your presentation architecture”?  I mean the same thing I mean when I ask if you’ve built DR &amp; HA into your database architecture.  Can you recover your presentation from a disaster?  If you’re hard drive crashes, can you recover your presentation to a point in time just prior to the crash?  Is your presentation highly available?  If something happens 15 minutes before your due to present, could you recover and still present on time?</p>
<h4>Availability Groups, Clusters &amp; Backups</h4>
<p>I’ve been told in the past that the best case scenario is to have a secondary laptop all setup and ready to go.  Think of this being similar to availability groups or clustering for your database server.  You simply pull it out of your bag, fire it up and you’re good to go.  Maybe this is a luxury you have and if so, that’s great, but there are many that are unable to carry around a spare laptop, just as there are small companies that are unable to afford secondary servers for clusters.  And just like with availability groups or clustering, you could still have issues.  I’ve heard horror stories of primary and secondary laptops failing within hours or days of each other.  If you’re out of the country or even out of town this could be a real problem.  If you don’t have a spare laptop, what do you do?</p>
<p>What about backups?  Do you backup your presentations and associated files like you would your databases and encryption keys?  If not, you really should.  This is DR for your presentations.  If your presentation includes scripts and a database with staged data, do you have those backed up?  If so, then it’s a good possibility that if your laptop crashed and someone said, “Here, use mine, I’ve got SQL Server installed.”, that you could still give your presentation.</p>
<p>That’s a great plan if your demos are fairly simple, but what happens if you’re using a highly configured environment including multiple VM’s?  Something like that isn’t that easy to re-create…or is it?  Just like backing up your databases, consider backing up your VM’s by copying them to an external drive.  Don’t wait until the last minute either, backup your VM’s as soon as possible after making any major changes.  (I learned this the hard way when a couple of my VM’s were corrupted the morning of our last SQL Saturday in Cleveland)  If you’ve backed up your VM’s the chances are pretty good that if your laptop crashes at a conference or even a user group that there will be at least one person with a laptop that can run your VM’s.</p>
<p>So you’ve backed everything up, it’s an hour before your presentation and your laptop crashes.  You try to recover and get your laptop running but it’s not working and worse yet, no one has a laptop with the correct software to run your VM’s…now what?  Are you stuck giving a presentation using screenshots of your demos?  It’s better than nothing.  If only there was someone, something to save the day.  Wait, maybe there is…there’s someone who is willing to let you use their laptop and there is an internet connection!  You’re in luck, you can get to Azure!</p>
<h4>Azure</h4>
<p>Azure…did I really say Azure??  Yes I did.  Yet another tool in your High Availability Presentation strategy should be Azure.  Using Azure you can build your VM’s in the cloud and be able to give your presentation, including demos, from almost any machine with an internet connection.  Not only that, but in Azure you can choose from VM templates that include SQL Server.  When I built my first SQL Server 2014 CTP2 VM in Azure, I was up and running in under 10 minutes.  Having the ability to do that also means that even if you weren’t prepared and hadn’t built your VM beforehand that it may be possible to fire up an Azure VM and use the scripts you backed up to create your database and still give your presentation.  I wouldn’t recommend building a VM on the fly be part of your presentation HA/DR, but because of Azure’s quick deployment, it’s something to keep in your back pocket for times when all else fails.</p>
<p>Now you might be thinking “Azure sounds great. Why shouldn’t I just build all my presentation demos in Azure and skip the rest?”, but take a step back and consider the environments you might be or have presented in before you make that leap.  Don’t get me wrong, Azure is great, but, in my opinion, it’s not the be all end all for presentation demos.  I don’t rely solely on Azure for my presentation demos because I’ve presented multiple places where there wasn’t an internet connection or the connection was very slow or unreliable.  If you’re presenting in a similar environment, you won’t be able to rely solely on Azure for your presentation demos.</p>
<p>Building a highly available presentation is very similar to building a HA/DR database solution.  You need to have multiple options for availability and recovery to ensure success.  Don’t put all your eggs in one basket!</p>
<h4>Worst Case Scenario Planning (or Screenshots are better than URLT!)</h4>
<p>It’s always good to plan for the worst case scenario and with presentation demos that usually means that you are unable to run them despite your best efforts at being prepared.  Tom mentioned screenshots in his comment shown above and he’s right.  Screenshots will be your best friend when all else fails.  With screenshots of your demos, you’ve got a visual as well as a talking point.  You may not be able to run your demos, but with the appropriate screenshots you can still show your audience what is going on instead of just talking about it.  Taking all the screenshots and highlighting different sections may be a tedious job, but if you ever need them, you’ll be glad you did it.  My recommendation is to include the screenshots into your slide deck and then simply hide the slides.  If you ever need them all you have to do is un-hide the slides and they are already in the correct order.  Not only that but since they are part of your slide deck it means you don’t have to flip back and forth between your slide deck and images which can make your presentation feel disconnected.</p>
<p>Remember, screenshots aren’t meant to make your presentation amazing, they’re meant to make your presentation available.  Having something for your audience to look at while you discuss it helps your audience understand and follow along.  If your demos are not working, having screenshots is definitely better than simply talking about them.</p>
<h4>Building Your Own Highly Available Presentation Architecture</h4>
<p>So far, I’ve presented a bunch of options and scenarios and you’re probably wondering “What should I do to make my presentations highly Available?”  Well, that answer, like most with SQL Server is “It Depends”.  It depends on what you have available to you, what your environment is and what your presentation entails.  Ideally, I try to follow the basic steps outlined below when building and giving a presentation.</p>
<h5>Building a Presentation</h5>
<ul>
<li>Create slide deck stored on SkyDrive (or DropBox, GDrive, etc)</li>
<li>Create solutions/projects/scripts stored on SkyDrive</li>
<li>Build any necessary VM’s locally and regularly back them up to an external drive separate from where they run</li>
<li>When the demos get to the CTP/RC stage
<ul>
<li>Start implementing them in Azure</li>
<li>If you’ve got a secondary laptop, now is the time to setup that environment as well</li>
<li>Take screenshots of demos</li>
</ul>
</li>
</ul>
<h5>Before Presenting</h5>
<ul>
<li>Copy slide deck, projects, scripts, database backup, etc to an external USB drive</li>
<li>Ensure all VM’s are backed up to an external USB drive</li>
<li>If you have a secondary laptop make sure it contains the latest version of your presentation and demos</li>
<li>If you are using Azure make sure it contains the latest version of your presentation and demos</li>
<li>Create a zip of any materials (PDF of slide deck, scripts, backups, etc) that are to be distributed and copy it to an external USB drive as well as SkyDrive</li>
</ul>
<p>All these steps may not be necessary for every presentation you have, however they should help you start thinking about the steps that will be necessary to make your presentations highly available.  Don’t let an unexpected failure or problem ruin your next presentation.  Take a little extra time to prepare before hand and you’ll be able to recover from almost any disaster that may arise during your presentations.</p>
<h4>Feedback</h4>
<p>In this post I’ve written about the steps that have worked for me and hopefully made you think about how you can make your own presentations highly available.  I’d love to hear about the steps you’ve taken for your own presentations!  If you’ve got other steps or ideas that work for you, please share them in the comments below.</p>
]]></content:encoded>
			<wfw:commentRss>/index.php/itprofessionals/professionaldevelopment/highly-available-presentations/feed/</wfw:commentRss>
		<slash:comments>7</slash:comments>
		</item>
		<item>
		<title>Enabling Hyper-V Platform in a Windows 8.1 VM</title>
		<link>/index.php/sysadmins/os/windows/enabling-hyper-v-platform-in/</link>
		<comments>/index.php/sysadmins/os/windows/enabling-hyper-v-platform-in/#respond</comments>
		<pubDate>Sun, 22 Dec 2013 03:23:00 +0000</pubDate>
		<dc:creator><![CDATA[Brian Davis]]></dc:creator>
				<category><![CDATA[Windows]]></category>
		<category><![CDATA[Windows 8]]></category>

		<guid isPermaLink="false">/index.php/2013/12/enabling-hyper-v-platform-in/</guid>
		<description><![CDATA[This weekend I decided to take advantage of the Windows Phone Preview Program for Developers and update my Lumia 920 to Update 3 for WP8.  While Update 3 was downloading and installing on my phone, I decided to install the Windows Phone SDK 8.0 which;]]></description>
				<content:encoded><![CDATA[<p>This weekend I decided to take advantage of the <a href="http://dev.windowsphone.com/en-us/featured/update3">Windows Phone Preview Program for Developers</a> and update my Lumia 920 to Update 3 for WP8.  While Update 3 was downloading and installing on my phone, I decided to install the Windows Phone SDK 8.0 which includes Visual Studio Express for Windows Phone on a Win 8.1 VM that I use for development purposes.</p>
<p>Installation was quick and painless until the very end when I received a message stating that the installation was unable to enable Hyper-V.  When I tried to enable it manually by going into Control Panel -&gt; Programs &amp; Features -&gt; Turn Windows Features On or Off, the Hyper-V Platform checkbox was grayed out.  Upon hovering over the check box I received a tool tip stating &#8220;Hyper-V cannot be installed: A Hypervisor is Already Running&#8221;.</p>
<p>At this point I was confused as I had previously installed VS Express for Windows Phone on another VM and had successfully run it along with the emulator (the emulator runs in Hyper-V).  Because of this I knew the VM host machine was correctly setup to allow VM Workstation to run virtualized environments within VM&#8217;s.  I then compared the two VM&#8217;s and found there were a few differences:</p>
<ul>
<li>Original install was an older version of VS Express for Windows Phone</li>
<li> Original install was on a Windows 8 VM </li>
<li>New install was the latest version of VS Express for Windows Phone </li>
<li>New install was on a Windows 8.1 VM </li>
<li>Both VM&#8217;s are running on VM Workstation 9.0.1 </li>
</ul>
<p>After reviewing the two VM&#8217;s I realized there must be something different with either the latest version of VS Express for Windows Phone, Windows 8.1, or both. Doing a little more research I found there were two things I needed to do:</p>
<ol>
<li>Enable &#8220;Virtualize Intel VT-x/EPT or AMD-V/RVI&#8221; in the settings of the VM
<div class="image_block"><a href="/media/users/brian78/HyperV/VMSettings.png?mtime=1387680976"><img src="/wp-content/uploads/users/brian78/HyperV/VMSettings.png?mtime=1387680976" alt="" width="362" height="140" /></a></div>
</li>
<li>Open the .vmx file for the virtual machine in a text editor and add the following lines to the end of it
<ol>
<li>hypervisor.cpuid.v0 = &#8220;FALSE&#8221;</li>
<li>mce.enable = &#8220;TRUE&#8221;</li>
</ol>
</li>
</ol>
<p>After doing both of these I started the VM and intended to go back in and turn on Hyper-V, however, when I got back to the settings I was happy to see that &#8220;Hyper-V Platform&#8221; was already enabled.</p>
<div class="image_block"><a href="/media/users/brian78/HyperV/WinFeatures.png?mtime=1387680966"><img src="/wp-content/uploads/users/brian78/HyperV/WinFeatures.png?mtime=1387680966" alt="" width="415" height="364" /></a></div>
<p>ï¿½</p>
<p>With Hyper-V successfully enabled and running I was then able to run VS Express for Windows Phone along with the Windows Phone Emulator.</p>
<p>By the time I was finished with this, Update 3 had successfully installed on my phone and I was ready to go.  Now, not only do I not have to wait for AT&amp;T to release updates, but I can start developing apps for my phone as well.  Now I just need to find the spare time and start developing!</p>
]]></content:encoded>
			<wfw:commentRss>/index.php/sysadmins/os/windows/enabling-hyper-v-platform-in/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>A Time of Changes</title>
		<link>/index.php/itprofessionals/professionaldevelopment/a-time-of-changes/</link>
		<comments>/index.php/itprofessionals/professionaldevelopment/a-time-of-changes/#comments</comments>
		<pubDate>Mon, 25 Nov 2013 13:07:00 +0000</pubDate>
		<dc:creator><![CDATA[Brian Davis]]></dc:creator>
				<category><![CDATA[Professional Development]]></category>

		<guid isPermaLink="false">/index.php/2013/11/a-time-of-changes/</guid>
		<description><![CDATA[This post could have also been titled, "A New Job &#38; Everything That Goes Along With It"...
My New Job
As of today I am happy to announce that I have joined forces with Allen White (b &#124; t) and Kendal Van Dyke (b &#124; t) at UpSearch.ï¿½ I first met All&#8230;]]></description>
				<content:encoded><![CDATA[<p>This post could have also been titled, &#8220;A New Job &amp; Everything That Goes Along With It&#8221;&#8230;</p>
<h2>My New Job</h2>
<p>As of today I am happy to announce that I have joined forces with Allen White (<a href="http://sqlblog.com/blogs/allen_white/">b</a> | <a href="https://twitter.com/SQLRunr">t</a>) and Kendal Van Dyke (<a href="http://www.kendalvandyke.com/">b</a> | <a href="https://twitter.com/SQLDBA">t</a>) at <a href="http://www.upsearch.com/">UpSearch</a>.  I first met Allen when I started attending the <a href="http://www.ohionorthsqlserverug.org/">Ohio North SQL Server User Group</a> meetings back in 2007.  Since then, he has been both a mentor and a friend to me and now I get to add &#8220;boss&#8221; to the list.  I&#8217;m looking forward to continuing to grow as I learn from both Allen and Kendal and I&#8217;m excited as I look forward to all of the new possibilities that lay ahead of me.</p>
<p>With this job change I&#8217;ll be able to help multiple companies, instead of just one, get the most out of their SQL Server environments.  I&#8217;ll be able to help developers, administrators, and even executives learn to better utilize SQL Server and its many facets to get the most out of their data and that is exciting to me.  I truly enjoy teaching and discussing SQL Server on all levels and now, working with UpSearch, I&#8217;ll be able to do that even more.  Not only will I be getting to work with multiple customers and their varied environments, I&#8217;ll also be able to do more with the SQL community as UpSearch is very supportive of my community involvement.  I&#8217;m looking forward to being able to not only continue speaking at community events, but expanding and doing more than I have been able to in the past.</p>
<h2>Sad Endings</h2>
<p>While I&#8217;m excited about my new career with UpSearch, I&#8217;m also saddened by the career and coworkers (friends) I&#8217;m leaving behind.  As we all know, when you work closely with people for a number of years you become friends and it can be hard to, in a sense, leave them behind.  While we&#8217;ll still be in contact with each other, there is still a sense of loss when you don&#8217;t speak to them on a daily basis like you once did.</p>
<h2>Thankfulness</h2>
<p>As the title of this post suggests, this has truly been &#8220;A Time of Changes&#8221; for me both personally and professionally and I wouldn&#8217;t have been able to successfully navigate all of these changes without my loving and supportive family.  I would be remiss if I did not take a moment to thank them for all of the unending love and support they have given me.</p>
<p>I also need to thank the amazing SQL Community and #SQLFamily that has been so willing to thier experience, knowledge and support with me.  Professionally, a big part of who I am and what I&#8217;ve been able to do is due to the willingness of the community to share and help anyone who is willing to accept it.  I can only hope that if I keep trying I&#8217;ll be able to give back to the community as much as it has given me.</p>
<h2>Time to get to Work!</h2>
<p>Now it&#8217;s time to actually get to work and start my new job at UpSearch!</p>
]]></content:encoded>
			<wfw:commentRss>/index.php/itprofessionals/professionaldevelopment/a-time-of-changes/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
		</item>
		<item>
		<title>Separation of Duties Framework Enhancements &#8211; Ask &#038; You May Receive</title>
		<link>/index.php/datamgmt/dbadmin/mssqlserveradmin/separation-of-duties-framework-enhancements/</link>
		<comments>/index.php/datamgmt/dbadmin/mssqlserveradmin/separation-of-duties-framework-enhancements/#respond</comments>
		<pubDate>Mon, 16 May 2011 23:14:00 +0000</pubDate>
		<dc:creator><![CDATA[Brian Davis]]></dc:creator>
				<category><![CDATA[Microsoft SQL Server Admin]]></category>

		<guid isPermaLink="false">/index.php/2011/05/separation-of-duties-framework-enhancements/</guid>
		<description><![CDATA[Back in January, Lara Rubbelke (Blog &#124; Twitter) and I released V2 of the Separation of Duties Framework for SQL Server. If you haven't checked it out yet I suggest you do. It's a framework that helps you design a more restrictive and granular environmen&#8230;]]></description>
				<content:encoded><![CDATA[<p>Back in January, Lara Rubbelke (<a href="http://sqlblog.com/blogs/lara_rubbelke/default.aspx">Blog</a> | <a href="http://twitter.com/#!/sqlgal">Twitter</a>) and I released V2 of the <a href="http://sqlserversod.codeplex.com/">Separation of Duties Framework</a> for SQL Server. If you haven&#8217;t checked it out yet I suggest you do. It&#8217;s a framework that helps you design a more restrictive and granular environment for administration within SQL Server. Originally, Lara released the first version during the 2010 PASS Summit and was gracious enough to allow me to collaborate with her afterwards. Since the release of version 2 we have been brainstorming and coming up with enhancements that we would like to see in coming versions.</p>
<p>This is where you, the users and community come in, we want to hear from you. We want to hear how you use it and what you would like to see in future release. Have you used the framework and thought &#8220;Wow, this is nice, but I really wish it had X feature.&#8221;. Well then, you&#8217;re in luck! Now is your chance to let us know what you would like to see in future versions. Leave a comment on this blog post, drop me an email, send me a tweet. We really want to hear from you! Help us make the SQL Server Separation of Duties Framework even better by sending us your comments, thoughts, and suggestions.</p>
]]></content:encoded>
			<wfw:commentRss>/index.php/datamgmt/dbadmin/mssqlserveradmin/separation-of-duties-framework-enhancements/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Spatial Data From Your iPhone</title>
		<link>/index.php/datamgmt/dbprogramming/mssqlserver/spatial-data-from-your-iphone/</link>
		<comments>/index.php/datamgmt/dbprogramming/mssqlserver/spatial-data-from-your-iphone/#comments</comments>
		<pubDate>Tue, 26 Apr 2011 01:43:00 +0000</pubDate>
		<dc:creator><![CDATA[Brian Davis]]></dc:creator>
				<category><![CDATA[Microsoft SQL Server]]></category>

		<guid isPermaLink="false">/index.php/2011/04/spatial-data-from-your-iphone/</guid>
		<description><![CDATA[Interested in finding out where your iPhone has been?
How about importing that data into SQL Server and being able to analyze it and create maps from the spatial data?
If you have an iPhone and/or follow any of the security news about it, you may have&#8230;]]></description>
				<content:encoded><![CDATA[<p>Interested in finding out where your iPhone has been?</p>
<p>How about importing that data into SQL Server and being able to analyze it and create maps from the spatial data?</p>
<p>If you have an iPhone and/or follow any of the security news about it, you may have seen multiple posts recently stating that Apple is tracking everywhere your iPhone goes even when you have location services turned off. There&#8217;s even an open source application called <a href="http://petewarden.github.com/iPhoneTracker/">iPhoneTracker</a> that will create a map for you. I&#8217;m not going to debate the good, bad, and why&#8217;s of this &#8220;feature&#8221;, but what I will do is show you how you can find this data, import into SQL Server, and some things you can do with it.</p>
<p><strong>Where is the iPhone data?</strong><br />To find the location data from your iPhone you&#8217;ll need to find the consolidated.db file that is stored in your iPhone backup. On Windows 7 the default backup directory should be similar to</p>
<p>C:Users&lt;UserName&gt;AppDataRoamingApple ComputerMobileSyncBackup&lt;LongStringOfNumbers&amp;Letters&gt;</p>
<p>In the Backup directory there should be a folder for each device you&#8217;ve synced with iTunes. To verify you are in the correct one, open the Info.plist in a text editor and look for a &#8216;Device Name&#8217; value in the XML. It should match the name of your iPhone if you are in the correct one. If it doesn&#8217;t match check the other directories in the Backup folder until you find the one that does.</p>
<p>Now that you&#8217;ve found the correct directory, we need to find out which file is the consolidated.db. I found two ways to do this:</p>
<p>1. Parsing the Manifest.mbdb and Manifest.mbdx files. This didn&#8217;t work for me but here&#8217;s the <a href="http://petewarden.github.com/iPhoneTracker/#2">link</a> to the instructions if you&#8217;d like to try it. In my case the Python script errored out.</p>
<p>2. Trial and Error &#8211; This is the method I used and it&#8217;s not as bad as it sounds. I also found some other interesting things doing it this way that I&#8217;ll share later in the post. Below are two options for finding the file by trial &amp; error. Using either option below I was able to find the correct file in less than 5 minutes.</p>
<p><strong>Trial &amp; Error Option 1:</strong><br />Sort your directory by Size (largest to smallest) and starting at the top, open each file in a text editor. The file you are looking for will start with &#8216;SQLite format 3&#8217; and should contain the following string &#8216;CREATE TABLE CellLocation&#8217;. On my system the file was approximately 11MB.</p>
<div class="image_block"><a href="/media/blogs/DataMgmt/ip1.jpg?mtime=1303746981"><img src="/wp-content/uploads/blogs/DataMgmt/ip1.jpg?mtime=1303746981" alt="" width="413" height="65" /></a></div>
<div class="image_block"><a href="/media/blogs/DataMgmt/ip2.jpg?mtime=1303746981"><img src="/wp-content/uploads/blogs/DataMgmt/ip2.jpg?mtime=1303746981" alt="" width="632" height="70" /></a></div>
<p><strong>Trial &amp; Error Option 2:</strong><br />Using FireFox and the <a href="https://addons.mozilla.org/en-US/firefox/addon/sqlite-manager/">SQL Lite Plug In</a> try connecting to each file and looking for a table named CellLocation in the database.</p>
<div class="image_block"><a href="/media/blogs/DataMgmt/ip3.jpg?mtime=1303756320"><img src="/wp-content/uploads/blogs/DataMgmt/ip3.jpg?mtime=1303756320" alt="" width="980" height="553" /></a></div>
<p>If the file you are opening is not a SQL Lite file the plugin will give you an error and you can simply move on to the next one.</p>
<div class="image_block"><a href="/media/blogs/DataMgmt/ip4.jpg?mtime=1303756321"><img src="/wp-content/uploads/blogs/DataMgmt/ip4.jpg?mtime=1303756321" alt="" width="617" height="175" /></a></div>
<p>Once you&#8217;ve found the correct file, make a note of the full path and file name as you&#8217;ll need it in a few minutes. Also, it&#8217;s worth noting that this file name doesn&#8217;t seem to change after syncing your iPhone. I&#8217;ve synced a few times after doing the initial discovery and the file is updated but the name remains the same.</p>
<p>Hang in there, we&#8217;re almost to the good stuff&#8230;</p>
<p><strong>Connect to the Data:</strong><br />To access the file and import your data into SQL Server you&#8217;ll need to install the SQLite ODBC drivers available for free from <a href="http://www.ch-werner.de/sqliteodbc/">http://www.ch-werner.de/sqliteodbc/</a> <br />32-Bit: <a href="http://www.ch-werner.de/sqliteodbc/sqliteodbc.exe">http://www.ch-werner.de/sqliteodbc/sqliteodbc.exe</a> <br />64-Bit: <a href="http://www.ch-werner.de/sqliteodbc/sqliteodbc_w64.exe">http://www.ch-werner.de/sqliteodbc/sqliteodbc_w64.exe</a></p>
<p>Now that the SQLite ODBC drivers are installed we can create a DSN and setup a linked server to access the data. (Yes, I know linked servers are bad but this is just for demo purposes. If I were going to do this on an ongoing basis I would automate the import.) The DSN setup is fairly easy. Create a new System DSN using the SQL Lite 3 ODBC Driver and name it whatever you like. I named mine iPhoneConsolidated. For the Database Name, be sure to enter the full path and filename of the Consolidated.db file we found above.</p>
<div class="image_block"><a href="/media/blogs/DataMgmt/ip5.jpg?mtime=1303757084"><img src="/wp-content/uploads/blogs/DataMgmt/ip5.jpg?mtime=1303757084" alt="" width="463" height="468" /></a></div>
<p>Next, in SQL Server create a new linked server and choose the Microsoft OLE DB Provider for ODBC Drivers as the Provider.  Next, fill in the Product Name and Data Source with the DSN with the one we created earlier. Save your linked server and we&#8217;re ready to go.</p>
<div class="image_block"><a href="/media/blogs/DataMgmt/ip6.jpg?mtime=1303757085"><img src="/wp-content/uploads/blogs/DataMgmt/ip6.jpg?mtime=1303757085" alt="" width="692" height="353" /></a></div>
<p>Alright! Discovery and setup are done and since you&#8217;ve stuck with me this long it&#8217;s time for some fun&#8230;</p>
<p><strong>Show Me The Data!</strong><br />Now that you&#8217;ve got your linked server setup let&#8217;s look at how we get the data out of SQL Lite and into SQL Server. You can run the following query to get the location data out of the SQL Lite database.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> <span class="kw1">timestamp</span>, latitude, longitude
<span class="kw1">FROM</span> <span class="kw1">OPENQUERY</span><span class="br0">&#40;</span>iphone,<span class="st0">'SELECT Timestamp, Latitude, Longitude FROM CellLocation'</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT timestamp, latitude, longitude
FROM OPENQUERY(iphone,'SELECT Timestamp, Latitude, Longitude FROM CellLocation')</pre></div></div>

<p>There are other fields in the table that you might or might not be interested in but for this post I am only dealing with the TimeStamp, Latitude, and Longitude. I don&#8217;t know about you, but for me, I&#8217;d rather see a DateTime value instead of the TimeStamp value, so I&#8217;ll convert that and I&#8217;ll also convert the latitude and longitude to geography values. The TimeStamp is stored in MAC Universal Format, which is based off of 1/1/2001. To get the converted values we can run the following query.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> <span class="kw2">DATEADD</span><span class="br0">&#40;</span>s, <span class="kw1">timestamp</span>, <span class="st0">'20010101'</span><span class="br0">&#41;</span> <span class="kw1">AS</span> DateTm
, geography::Point<span class="br0">&#40;</span>latitude, longitude, <span class="nu0">4326</span><span class="br0">&#41;</span> <span class="kw1">AS</span> Geo
<span class="kw1">FROM</span> <span class="kw1">OPENQUERY</span><span class="br0">&#40;</span>iphone,<span class="st0">'SELECT Timestamp, Latitude, Longitude FROM CellLocation'</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT DATEADD(s, timestamp, '20010101') AS DateTm
, geography::Point(latitude, longitude, 4326) AS Geo
FROM OPENQUERY(iphone,'SELECT Timestamp, Latitude, Longitude FROM CellLocation')</pre></div></div>

<p>Now that we can query the data and get it in a format we want, let&#8217;s load it into SQL Server. We can use the following script to load the data into a new table.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
2
3
4
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> <span class="kw2">DATEADD</span><span class="br0">&#40;</span>s, <span class="kw1">timestamp</span>, <span class="st0">'20010101'</span><span class="br0">&#41;</span> <span class="kw1">AS</span> iDateTime
, geography::Point<span class="br0">&#40;</span>latitude, longitude, <span class="nu0">4326</span><span class="br0">&#41;</span> <span class="kw1">AS</span> iGeo
<span class="kw1">INTO</span> dbo.<span class="me1">iPhoneLoc</span>
<span class="kw1">FROM</span> <span class="kw1">OPENQUERY</span><span class="br0">&#40;</span>iphone,<span class="st0">'SELECT Timestamp, Latitude, Longitude FROM CellLocation'</span><span class="br0">&#41;</span></pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT DATEADD(s, timestamp, '20010101') AS iDateTime
, geography::Point(latitude, longitude, 4326) AS iGeo
INTO dbo.iPhoneLoc
FROM OPENQUERY(iphone,'SELECT Timestamp, Latitude, Longitude FROM CellLocation')</pre></div></div>

<p>If you&#8217;re impatient and wnat to see the spatial results immediatly you can simply run the following query and click on the Spatial tab in the results window.</p>

<div class="bwp-syntax-block clearfix">
<div class="bwp-syntax-toolbar"><div class="bwp-syntax-control"><a href="javascript:;" class="bwp-syntax-source-switch" title="View Source Code"></a></div></div>
<div class="bwp-syntax-wrapper clearfix bwp-syntax-simple"><table class="tsql"><thead><tr><td colspan="2"  class="head">T-SQL</td></tr></thead><tbody><tr class="li1"><td class="ln"><pre class="de1">1
</pre></td><td class="de1"><pre class="de1"><span class="kw1">SELECT</span> <span class="kw1">TOP</span> <span class="nu0">5000</span> <span class="sy0">*</span> <span class="kw1">FROM</span> iPhoneLoc</pre></td></tr></tbody></table></div>
<div class="bwp-syntax-source"><pre class="no-parse">SELECT TOP 5000 * FROM iPhoneLoc</pre></div></div>

<p>Below is a zoomed in section of the spatial results tab.</p>
<div class="image_block"><a href="/media/blogs/DataMgmt/ip7.jpg?mtime=1303758445"><img src="/wp-content/uploads/blogs/DataMgmt/ip7.jpg?mtime=1303758445" alt="" width="544" height="423" /></a></div>
<p>Why did I put TOP 5000 in the query you ask? Simply because the spatial results tab will only display the first 5000 points.</p>
<p>Now that you&#8217;ve got your spatial fix, let&#8217;s add some bling or rather Bing, maps that is, and spice up presentation of your data a little. By simply adding a Bing map to a SSRS report we can get a decent visualization of where our iPhone has been. The below screenshot shows a sample of what can be done very quickly with BIDS and Bing maps.</p>
<div class="image_block"><a href="/wp-content/uploads/blogs/DataMgmt/ip21.jpg?mtime=1303786798"><img alt="" src="/wp-content/uploads/blogs/DataMgmt/ip21.jpg?mtime=1303786798" width="610" height="372" /></a></div>
<p><strong>OK, I&#8217;ve Done All This and it&#8217;s Pretty Cool&#8230;Now What?</strong></p>
<p>That depends on you. If you&#8217;re really interested in tracking the data on an ongoing basis you could automate the loading of the data from consolidated.db file and deploy the report we created. You could also take a look at some of the other data available and do some analysis of it and create other reports. If you&#8217;ve never played with spatial data before this is a good chance to do so and to use some personal data to make it even more interesting.</p>
<p><strong>What&#8217;s that? The spatial data is cool but you want more data from your iPhone&#8230;</strong></p>
<p>Well, you&#8217;re in luck! There is a good possibility that you can get a lot more data using these same steps. Instead of looking specifically for the consolidated.db file, look for any file that starts with &#8216;SQLite&#8217; and take a look at the data it contains just like we did above. I&#8217;ll bet you find some interesting stuff, I know I did. I use an application called NewsRack for reading RSS feeds and another application called CardBank to store all of my &#8216;customer loyality&#8217; card information instead of having them all on my key chain or in my wallet. Guess what? Yep, you&#8217;re right, they both use SQL Lite to store the data and I can pull that data into SQL Server.</p>
<p>What are you still doing here? Go discover what data is on your iPhone that you can import into SQL Server and have some fun doing it!</p>
]]></content:encoded>
			<wfw:commentRss>/index.php/datamgmt/dbprogramming/mssqlserver/spatial-data-from-your-iphone/feed/</wfw:commentRss>
		<slash:comments>8</slash:comments>
		</item>
		<item>
		<title>SQL Saturday Fun</title>
		<link>/index.php/datamgmt/dbprogramming/mssqlserver/test-post/</link>
		<comments>/index.php/datamgmt/dbprogramming/mssqlserver/test-post/#comments</comments>
		<pubDate>Mon, 04 Apr 2011 03:31:00 +0000</pubDate>
		<dc:creator><![CDATA[Brian Davis]]></dc:creator>
				<category><![CDATA[Microsoft SQL Server]]></category>

		<guid isPermaLink="false">/index.php/2011/04/test-post/</guid>
		<description><![CDATA[ 
For the past two Saturday's I have been lucky enough to not only participate in but also present at a SQL Saturday.  It has been an honor to be selected as a presenter when there have been so many great speakers to choose from.  If you haven't been t&#8230;]]></description>
				<content:encoded><![CDATA[<p> </p>
<p>For the past two Saturday&#8217;s I have been lucky enough to not only participate in but also present at a SQL Saturday.  It has been an honor to be selected as a presenter when there have been so many great speakers to choose from.  If you haven&#8217;t been to a SQL Saturday before, or it&#8217;s been awhile since your last one, I encourage you to check out the <a href="http://sqlsaturday.com/default.aspx" target="_blank">SQL Saturday</a> website and find one near you to attend.  They are a great way to learn about SQL Server at a very low cost.  Not only do you get a wide range of sessions to choose from, you also get a chance to meet a ton of people who work with the same software you do.</p>
<p><strong>SQL Saturday 70 &#8211; Columbia, SC</strong></p>
<p>This was the second time I was presenting my Service Broker session and I was really looking forward to it.  I started the day with Sandra Mueller&#8217;s (<a href="http://www.sandraamueller.com/" target="_blank">Blog</a> | <a href="http://twitter.com/#!/sandraamueller" target="_blank">Twitter</a>) session on SSRS Automation.  My session was scheduled for 11AM, the third session of the day, and as such I spent the second session of the day reviewing my slides and demos.  I was pleased to have about 10 people in my session and it went really well.  The audience participated and we had a number of good discussions during the session.  One of the most valuable discussions for me happened after my session and throughout lunch.  Chris Skorlinski (<a href="http://blogs.msdn.com/b/repltalk/" target="_blank">Blog</a> | <a href="http://twitter.com/#!/repltalk" target="_blank">Twitter</a>) had sat through my session and was kind enough to give me feedback and suggestions on how I could improve not only my presentation but also myself as a speaker.  The discussion we had was very valuable and I can&#8217;t thank Chris enough for his insights.  It&#8217;s things like this that make SQL Saturday&#8217;s invaluable for new speakers.  Great constructive feedback from experienced speakers can help new speakers improve their skills.</p>
<p>After lunch and a great conversation with Chris, I got the chance to attend two sessions.  First, I attended Jessica Moss&#8217;s (<a href="http://jessicammoss.blogspot.com/" target="_blank">Blog</a> | <a href="http://twitter.com/#!/jessicammoss" target="_blank">Twitter</a>) &#8220;Adding SSRS Report Bells &amp; Whistles&#8221; and thoroughly enjoyed it.  It was a great session that offered a good insights into how to display your data in different ways and take your reports from dull and plain to professional and really wow the business users.  As a speaker, I even picked up a few ideas and techniques to hopefully improve my own speaking and presentation skills.</p>
<p>For the final session of the day I attended Allen White&#8217;s (<a href="http://sqlblog.com/blogs/allen_white/default.aspx" target="_blank">Blog</a> | <a href="http://twitter.com/#!/sqlrunr" target="_blank">Twitter</a>) &#8220;Automate Policy-Based Management Using PowerShell&#8221; session.  This turned out to be a great session that gave me some insights into Policy-Based Management.  This is definitely I need to delve into more.</p>
<p><strong>SQL Saturday 67 &#8211; Chicago, IL</strong></p>
<p>One week after being in Columbia I was in Chicago for another SQL Saturday.  Again, I was honored to be chosen among a fantastic group of speakers and looking forward to presenting my Service Broker session that included some changes suggested by Chris S. the prior week.  Since I wasn&#8217;t scheduled to present until 2:30, I headed over to Ted Krueger&#8217;s (<a href="http://lessthandot.com/" target="_blank">Blog</a> | <a href="http://twitter.com/#!/onpnt" target="_blank">Twitter</a>) session &#8220;SSIS: The DBA Multiplier&#8221; to start out the day.  This was a great session and one I would recommend to any DBA looking to start automating their processes.  I then headed over to learn about new features and changes in SQL Server Denali from Aaron Bertrand (<a href="http://sqlblog.com/blogs/aaron_bertrand/" target="_blank">Blog</a> | <a href="http://twitter.com/#!/aaronbertrand">Twitter</a>).</p>
<p>After Aaron&#8217;s session I grabbed some lunch and headed to the speaker room to prepare for my session.  I was pretty happy with the way my session went.  I had about 20 people in it and they participated, both in discussions and asking questions.  After reviewing the evals I was pretty pleased.  For the most part I met or exceeded expectations and an average of 3.92 out of 5 for quality.  The following eval comments stood out:</p>
<p>&#8220;Very informative. A feature I had never heard of and makes you think in a completely different way.&#8221;</p>
<p>&#8220;Explained from an easy level for beginners and built to a higher level of detail.  Good speaker.&#8221;</p>
<p>To me, it&#8217;s comments like these that let me know I&#8217;m accomplishing what I set out to do and that&#8217;s a good thing.  At the same time, I also received a comment that one of the graphics and/or my explaination of it were misleading.  I&#8217;ll work on this and try to improve it.</p>
<p>For the final session of the day I caught Jason Strate&#8217;s (<a href="http://www.jasonstrate.com/" target="_blank">Blog</a> | <a href="http://twitter.com/#!/stratesql" target="_blank">Twitter</a>) session on Extended Events.  Again, another subject that I&#8217;ve played with but really want to learn more about.  Jason did a great job explaining extended events and had a ton of samples for us to try out.</p>
<p>After the closing remarks and the raffles a large group of us went out to dinner and then headed back to the hotel for the after party which included karaoke and more.  If you weren&#8217;t there you missed a great time and I&#8217;ll leave it at that.  Sunday morning I was up early and headed out for a run with Allen White, Jes Borland, and Mike Reigler.  We headed out and I ran about 2 miles with them before heading back to the hotel while they continued on to do just over 9 miles.  After the run we joined up with Wendy Pastrick and headed out for breakfast before heading back home to Cleveland.</p>
<p><strong>Overall</strong></p>
<p>All in all, these two weekends were amazing.  I got to learn from some great people, gain speaking experience and meet a lot of people, in person, that I met through Twitter.  SQL Saturday&#8217;s are a lot more than a low cost day of learning.  They are a also a great place to meet, interact and share stories with other database profesionals from all over.  If you&#8217;ve never been to a SQL Saturday before I challenge you to find one near by and go.  It&#8217;s an experience you won&#8217;t soon forget.  If you&#8217;ve gone before, have you made the most of it?  If not, I challenge you to make the most of it next time.</p>
]]></content:encoded>
			<wfw:commentRss>/index.php/datamgmt/dbprogramming/mssqlserver/test-post/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
	</channel>
</rss>
